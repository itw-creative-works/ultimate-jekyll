"use strict";(self.webpackChunkultimate_jekyll=self.webpackChunkultimate_jekyll||[]).push([[172],{172:function(t,e,n){n.r(e),n.d(e,{Breadcrumbs:function(){return $s},BrowserClient:function(){return Cr},BrowserProfilingIntegration:function(){return id},BrowserTracing:function(){return El},Dedupe:function(){return zs},Feedback:function(){return nl},FunctionToString:function(){return ie},GlobalHandlers:function(){return ss},HttpContext:function(){return Us},Hub:function(){return pt},InboundFilters:function(){return ue},Integrations:function(){return ad},LinkedErrors:function(){return js},ModuleMetadata:function(){return nr},Replay:function(){return wu},SDK_VERSION:function(){return lt},Scope:function(){return ct},TryCatch:function(){return ls},WINDOW:function(){return lr},addBreadcrumb:function(){return Ft},addEventProcessor:function(){return ur},addGlobalEventProcessor:function(){return et},addIntegration:function(){return ee},addTracingExtensions:function(){return sn},captureEvent:function(){return Pt},captureException:function(){return At},captureMessage:function(){return Lt},captureUserFeedback:function(){return ei},chromeStackLineParser:function(){return jr},close:function(){return Kt},configureScope:function(){return $t},continueTrace:function(){return dn},createTransport:function(){return Jn},createUserFeedbackEnvelope:function(){return xr},defaultIntegrations:function(){return Ks},defaultRequestInstrumentationOptions:function(){return il},defaultStackLineParsers:function(){return Gr},defaultStackParser:function(){return Jr},eventFromException:function(){return Sr},eventFromMessage:function(){return kr},exceptionFromError:function(){return gr},extractTraceparentData:function(){return Ue},flush:function(){return Yt},forceLoad:function(){return Xs},geckoStackLineParser:function(){return Hr},getActiveSpan:function(){return ln},getActiveTransaction:function(){return Be},getClient:function(){return Jt},getCurrentHub:function(){return gt},getCurrentScope:function(){return Xt},getHubFromCarrier:function(){return vt},init:function(){return Gs},instrumentOutgoingRequests:function(){return ol},lastEventId:function(){return Gt},makeBrowserOfflineTransport:function(){return Al},makeFetchTransport:function(){return Dr},makeMain:function(){return mt},makeMultiplexedTransport:function(){return Hn},makeXHRTransport:function(){return Ar},metrics:function(){return Sn},onLoad:function(){return Zs},onProfilingStartRouteTransaction:function(){return rd},opera10StackLineParser:function(){return Vr},opera11StackLineParser:function(){return Kr},setContext:function(){return jt},setExtra:function(){return Ut},setExtras:function(){return Bt},setMeasurement:function(){return fn},setTag:function(){return zt},setTags:function(){return Ht},setUser:function(){return qt},showReportDialog:function(){return Js},spanStatusfromHttpCode:function(){return Ve},startInactiveSpan:function(){return un},startSpan:function(){return an},startSpanManual:function(){return cn},startTransaction:function(){return Vt},trace:function(){return on},winjsStackLineParser:function(){return qr},withScope:function(){return Wt},wrap:function(){return Qs}});var r={};n.r(r),n.d(r,{FunctionToString:function(){return ie},InboundFilters:function(){return ue},LinkedErrors:function(){return _e}});var s={};n.r(s),n.d(s,{Breadcrumbs:function(){return $s},Dedupe:function(){return zs},GlobalHandlers:function(){return ss},HttpContext:function(){return Us},LinkedErrors:function(){return js},TryCatch:function(){return ls}});const i=Object.prototype.toString;function o(t){switch(i.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function a(t,e){return i.call(t)===`[object ${e}]`}function c(t){return a(t,"ErrorEvent")}function u(t){return a(t,"DOMError")}function l(t){return a(t,"String")}function d(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function h(t){return a(t,"Object")}function p(t){return"undefined"!=typeof Event&&g(t,Event)}function f(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function m(t){return"number"==typeof t&&t!=t}function g(t,e){try{return t instanceof e}catch(t){return!1}}function y(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}var _=n(846);const v=(0,_.Rf)(),b=80;function S(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||b;for(;n&&i++<r&&(u=k(n,l),!("html"===u||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch(t){return"<unknown>"}}function k(t,e){const n=t,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(u&&u.length)u.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&l(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)o=d[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function w(){try{return v.document.location.href}catch(t){return""}}const E="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,T=["debug","info","warn","error","log","assert","trace"],x={};function C(t){if(!("console"in _.n2))return t();const e=_.n2.console,n={},r=Object.keys(x);r.forEach((t=>{const r=x[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}const I=function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return E?T.forEach((n=>{e[n]=(...e)=>{t&&C((()=>{_.n2.console[n](`Sentry Logger [${n}]:`,...e)}))}})):T.forEach((t=>{e[t]=()=>{}})),e}();function R(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function M(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{y(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function O(t,e,n=!1){return!!l(t)&&(a(e,"RegExp")?e.test(t):!!l(e)&&(n?t===e:t.includes(e)))}function D(t,e=[],n=!1){return e.some((e=>O(t,e,n)))}function N(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);"function"==typeof s&&L(s,r),t[e]=s}function A(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){E&&I.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function L(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,A(t,"__sentry_original__",e)}catch(t){}}function P(t){return t.__sentry_original__}function $(t){if(o(t))return{message:t.message,name:t.name,stack:t.stack,...j(t)};if(p(t)){const e={type:t.type,target:F(t.target),currentTarget:F(t.currentTarget),...j(t)};return"undefined"!=typeof CustomEvent&&g(t,CustomEvent)&&(e.detail=t.detail),e}return t}function F(t){try{return e=t,"undefined"!=typeof Element&&g(e,Element)?S(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function j(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function B(t){return U(t,new Map)}function U(t,e){if(h(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.keys(t))void 0!==t[n]&&(r[n]=U(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(U(t,e))})),r}return t}function H(){const t=_.n2,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function z(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function q(t){const{message:e,event_id:n}=t;if(e)return e;const r=z(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function W(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function V(t,e){const n=z(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function Y(t){if(t&&t.__sentry_captured__)return!0;try{A(t,"__sentry_captured__",!0)}catch(t){}return!1}function K(t){return Array.isArray(t)?t:[t]}const G="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var J;function X(t){return new Q((e=>{e(t)}))}function Z(t){return new Q(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(J||(J={}));class Q{constructor(t){Q.prototype.__init.call(this),Q.prototype.__init2.call(this),Q.prototype.__init3.call(this),Q.prototype.__init4.call(this),this._state=J.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new Q(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new Q(((e,n)=>{let r,s;return this.then((e=>{s=!1,r=e,t&&t()}),(e=>{s=!0,r=e,t&&t()})).then((()=>{s?n(r):e(r)}))}))}__init(){this._resolve=t=>{this._setResult(J.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(J.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===J.PENDING&&(f(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===J.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===J.RESOLVED&&t[1](this._value),this._state===J.REJECTED&&t[2](this._value),t[0]=!0)}))}}}function tt(){return(0,_.YO)("globalEventProcessors",(()=>[]))}function et(t){tt().push(t)}function nt(t,e,n,r=0){return new Q(((s,i)=>{const o=t[r];if(null===e||"function"!=typeof o)s(e);else{const a=o({...e},n);G&&o.id&&null===a&&I.log(`Event processor "${o.id}" dropped event`),f(a)?a.then((e=>nt(t,e,n,r+1).then(s))).then(null,i):nt(t,a,n,r+1).then(s).then(null,i)}}))}var rt=n(400);const st="production";function it(t){const e=(0,rt.ph)(),n={sid:H(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return B({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&ot(n,t),n}function ot(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,rt.ph)(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:H()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function at(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i,propagationContext:o}=e;!function(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e;n&&Object.keys(n).length&&(t.extra={...n,...t.extra});r&&Object.keys(r).length&&(t.tags={...r,...t.tags});s&&Object.keys(s).length&&(t.user={...s,...t.user});i&&Object.keys(i).length&&(t.contexts={...i,...t.contexts});o&&(t.level=o);a&&(t.transaction=a)}(t,e),r&&function(t,e){t.contexts={trace:e.getTraceContext(),...t.contexts};const n=e.transaction;if(n){t.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const e=n.name;e&&(t.tags={transaction:e,...t.tags})}}(t,r),function(t,e){t.fingerprint=t.fingerprint?K(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,s),function(t,e,n){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e,propagationContext:n}}(t,i,o)}class ct{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ut()}static clone(t){return t?t.clone():new ct}clone(){const t=new ct;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&ot(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof ct?e:this}return t instanceof ct?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):h(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=ut(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:(0,rt.yW)(),...t},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:e,_contexts:n,_tags:r,_extra:s,_user:i,_level:o,_fingerprint:a,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:l,_transactionName:d,_span:h}=this;return{breadcrumbs:t,attachments:e,contexts:n,tags:r,extra:s,user:i,level:o,fingerprint:a||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:l,transactionName:d,span:h}}applyToEvent(t,e={},n=[]){at(t,this.getScopeData());return nt([...n,...tt(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}function ut(){return{traceId:H(),spanId:H().substring(16)}}const lt="7.90.0",dt=parseFloat(lt),ht=100;class pt{constructor(t,e=new ct,n=dt){this._version=n,this._stack=[{scope:e}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{return t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:H(),r=new Error("Sentry syntheticException");return this._withClient(((s,i)=>{s.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},i)})),n}captureMessage(t,e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:H(),s=new Error(t);return this._withClient(((i,o)=>{i.captureMessage(t,e,{originalException:t,syntheticException:s,...n,event_id:r},o)})),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:H();return t.type||(this._lastEventId=n),this._withClient(((r,s)=>{r.captureEvent(t,{...e,event_id:n},s)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=ht}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const o={timestamp:(0,rt.yW)(),...t},a=s?C((()=>s(o,e))):o;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,e),n.addBreadcrumb(a,i))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();n&&t(e)}run(t){const e=mt(this);try{t(this)}finally{mt(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return G&&I.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const n=this._callExtensionMethod("startTransaction",t,e);if(G&&!n){this.getClient()?I.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):I.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,e=t.getSession();e&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),ot(t,n)}(e),this._sendSessionUpdate(),t.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:r,environment:s=st}=n&&n.getOptions()||{},{userAgent:i}=_.n2.navigator||{},o=it({release:r,environment:s,user:e.getUser(),...i&&{userAgent:i},...t}),a=e.getSession&&e.getSession();return a&&"ok"===a.status&&ot(a,{status:"exited"}),this.endSession(),e.setSession(o),o}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=ft().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);G&&I.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function ft(){return _.n2.__SENTRY__=_.n2.__SENTRY__||{extensions:{},hub:void 0},_.n2}function mt(t){const e=ft(),n=vt(e);return bt(e,t),n}function gt(){const t=ft();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return yt(t)}function yt(t=ft()){return _t(t)&&!vt(t).isOlderThan(dt)||bt(t,new pt),vt(t)}function _t(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function vt(t){return(0,_.YO)("hub",(()=>new pt),t)}function bt(t,e){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0}const St=50,kt=/\(error: (.*)\)/,wt=/captureMessage|captureException/;function Et(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const r=[],s=t.split("\n");for(let t=n;t<s.length;t++){const n=s[t];if(n.length>1024)continue;const i=kt.test(n)?n.replace(kt,"$1"):n;if(!i.match(/\S*Error: /)){for(const t of e){const e=t(i);if(e){r.push(e);break}}if(r.length>=St)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop();e.reverse(),wt.test(e[e.length-1].function||"")&&(e.pop(),wt.test(e[e.length-1].function||"")&&e.pop());return e.slice(0,St).map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"})))}(r)}}const Tt="<anonymous>";function xt(t){try{return t&&"function"==typeof t&&t.name||Tt}catch(t){return Tt}}function Ct(t,e=100,n=1/0){try{return Rt("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function It(t,e=3,n=102400){const r=Ct(t,e);return s=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(s))>n?It(t,e-1,n):r;var s}function Rt(t,e,r=1/0,s=1/0,i=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[o,a]=i;if(null==e||["number","boolean","string"].includes(typeof e)&&!m(e))return e;const c=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==n.g&&e===n.g)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(y(e))return"[VueViewModel]";if(h(r=e)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${xt(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const s=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(t){return`**non-serializable** (${t})`}var r}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const u="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:r;if(0===u)return c.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&"function"==typeof l.toJSON)try{return Rt("",l.toJSON(),u-1,s,i)}catch(t){}const d=Array.isArray(e)?[]:{};let p=0;const f=$(e);for(const t in f){if(!Object.prototype.hasOwnProperty.call(f,t))continue;if(p>=s){d[t]="[MaxProperties ~]";break}const e=f[t];d[t]=Rt(t,e,u-1,s,i),p++}return a(e),d}function Mt(t,e,n,r,s){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=t,a={...e,event_id:e.event_id||n.event_id||H(),timestamp:e.timestamp||(0,rt.yW)()},c=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:st);void 0===t.release&&void 0!==r&&(t.release=r);void 0===t.dist&&void 0!==s&&(t.dist=s);t.message&&(t.message=R(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=R(o.value,i));const a=t.request;a&&a.url&&(a.url=R(a.url,i))}(a,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(a,c),void 0===e.type&&function(t,e){const n=_.n2._sentryDebugIds;if(!n)return;let r;const s=Ot.get(e);s?r=s:(r=new Map,Ot.set(e,r));const i=Object.keys(n).reduce(((t,s)=>{let i;const o=r.get(s);o?i=o:(i=e(s),r.set(s,i));for(let e=i.length-1;e>=0;e--){const r=i[e];if(r.filename){t[r.filename]=n[s];break}}return t}),{});try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&(t.debug_id=i[t.filename])}))}))}catch(t){}}(a,t.stackParser);const u=function(t,e){if(!e)return t;const n=t?t.clone():new ct;return n.update(e),n}(r,n.captureContext);n.mechanism&&V(a,n.mechanism);const l=[...s&&s.getEventProcessors?s.getEventProcessors():[],...tt()];if(u){if(u.getAttachments){const t=[...n.attachments||[],...u.getAttachments()];t.length&&(n.attachments=t)}const t=u.getScopeData();at(a,t),l.push(...t.eventProcessors)}return nt(l,a,n).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach((t=>{n.push({type:"sourcemap",code_file:t,debug_id:e[t]})}))}(t),"number"==typeof i&&i>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Ct(t.data,e,n)}})))},...t.user&&{user:Ct(t.user,e,n)},...t.contexts&&{contexts:Ct(t.contexts,e,n)},...t.extra&&{extra:Ct(t.extra,e,n)}};t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Ct(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map((t=>(t.data&&(t.data=Ct(t.data,e,n)),t))));return r}(t,i,o):t)))}const Ot=new WeakMap;function Dt(t){if(t)return function(t){return t instanceof ct||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>Nt.includes(t)))}(t)?{captureContext:t}:t}const Nt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function At(t,e){return gt().captureException(t,Dt(e))}function Lt(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return gt().captureMessage(t,n,r)}function Pt(t,e){return gt().captureEvent(t,e)}function $t(t){gt().configureScope(t)}function Ft(t,e){gt().addBreadcrumb(t,e)}function jt(t,e){gt().setContext(t,e)}function Bt(t){gt().setExtras(t)}function Ut(t,e){gt().setExtra(t,e)}function Ht(t){gt().setTags(t)}function zt(t,e){gt().setTag(t,e)}function qt(t){gt().setUser(t)}function Wt(t){return gt().withScope(t)}function Vt(t,e){return gt().startTransaction({...t},e)}async function Yt(t){const e=Jt();return e?e.flush(t):(G&&I.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Kt(t){const e=Jt();return e?e.close(t):(G&&I.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Gt(){return gt().lastEventId()}function Jt(){return gt().getClient()}function Xt(){return gt().getScope()}const Zt=[];function Qt(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;e.forEach((t=>{t.isDefaultInstance=!0})),r=Array.isArray(n)?[...e,...n]:"function"==typeof n?K(n(e)):e;const s=function(t){const e={};return t.forEach((t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.keys(e).map((t=>e[t]))}(r),i=function(t,e){for(let n=0;n<t.length;n++)if(!0===e(t[n]))return n;return-1}(s,(t=>"Debug"===t.name));if(-1!==i){const[t]=s.splice(i,1);s.push(t)}return s}function te(t,e,n){if(n[e.name]=e,-1===Zt.indexOf(e.name)&&(e.setupOnce(et,gt),Zt.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),t.on&&"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if(t.addEventProcessor&&"function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}G&&I.log(`Integration installed: ${e.name}`)}function ee(t){const e=Jt();e&&e.addIntegration?e.addIntegration(t):G&&I.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`)}function ne(t,e){return Object.assign((function(...t){return{setupOnce:()=>{},...e(...t)}}),{id:t})}let re;const se="FunctionToString",ie=ne(se,(()=>({name:se,setupOnce(){re=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=P(this)||this;return re.apply(e,t)}}catch(t){}}}))),oe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ae=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],ce="InboundFilters",ue=ne(ce,(t=>({name:ce,processEvent(e,n,r){const s=r.getOptions(),i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:oe],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:ae],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,s);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return G&&I.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${q(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(t){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));G&&0===e.length&&I.error(`Could not extract message for event ${q(t)}`);return e}(t).some((t=>D(t,e)))}(t,e.ignoreErrors))return G&&I.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${q(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&D(n,e)}(t,e.ignoreTransactions))return G&&I.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${q(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=le(t);return!!n&&D(n,e)}(t,e.denyUrls))return G&&I.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${q(t)}.\nUrl: ${le(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=le(t);return!n||D(n,e)}(t,e.allowUrls))return G&&I.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${q(t)}.\nUrl: ${le(t)}`),!0;return!1}(e,i)?null:e}})));function le(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return G&&I.error(`Cannot extract url for event ${q(t)}`),null}}function de(t,e,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&g(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;a&&(i.exception.values=(c=he(t,e,s,o.originalException,r,i.exception.values,a,0),u=n,c.map((t=>(t.value&&(t.value=R(t.value,u)),t)))))}function he(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(g(r[s],Error)){pe(o,a);const i=t(e,r[s]),u=c.length;fe(i,s,u,a),c=he(t,e,n,r[s],s,[i,...c],i,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(g(r,Error)){pe(o,a);const u=t(e,r),l=c.length;fe(u,`errors[${i}]`,l,a),c=he(t,e,n,r,s,[u,...c],u,l)}})),c}function pe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function fe(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function me(t,e){return t(e.stack||"",1)}function ge(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=me(t,e);return r.length&&(n.stacktrace={frames:r}),n}const ye="LinkedErrors",_e=ne(ye,((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:ye,preprocessEvent(t,r,s){const i=s.getOptions();de(ge,i.stackParser,i.maxValueLength,n,e,t,r)}}})),ve={},be={};function Se(t,e){ve[t]=ve[t]||[],ve[t].push(e)}function ke(t,e){be[t]||(e(),be[t]=!0)}function we(t,e){const n=t&&ve[t];if(n)for(const r of n)try{r(e)}catch(e){E&&I.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${xt(r)}\nError:`,e)}}let Ee=null;function Te(t){const e="error";Se(e,t),ke(e,xe)}function xe(){Ee=_.n2.onerror,_.n2.onerror=function(t,e,n,r,s){return we("error",{column:r,error:s,line:n,msg:t,url:e}),!(!Ee||Ee.__SENTRY_LOADER__)&&Ee.apply(this,arguments)},_.n2.onerror.__SENTRY_INSTRUMENTED__=!0}let Ce=null;function Ie(t){const e="unhandledrejection";Se(e,t),ke(e,Re)}function Re(){Ce=_.n2.onunhandledrejection,_.n2.onunhandledrejection=function(t){return we("unhandledrejection",t),!(Ce&&!Ce.__SENTRY_LOADER__)||Ce.apply(this,arguments)},_.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Me="baggage",Oe="sentry-",De=/^sentry-/,Ne=8192;function Ae(t){if(!t)return;return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(((t,[e,n],r)=>{const s=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,i=0===r?s:`${t},${s}`;return i.length>Ne?(E&&I.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):i}),"")}(Object.entries(t).reduce(((t,[e,n])=>(n&&(t[`${Oe}${e}`]=n),t)),{}))}function Le(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(t[e]=n,t)),{})}const Pe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function $e(t){if(!t)return;const e=t.match(Pe);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function Fe(t,e){const n=$e(t),r=function(t){if(!l(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce(((t,e)=>({...t,...Le(e)})),{});else{if(!t)return;e=Le(t)}const n=Object.entries(e).reduce(((t,[e,n])=>(e.match(De)&&(t[e.slice(Oe.length)]=n),t)),{});return Object.keys(n).length>0?n:void 0}(e),{traceId:s,parentSpanId:i,parentSampled:o}=n||{},a={traceId:s||H(),spanId:H().substring(16),sampled:o};return i&&(a.parentSpanId=i),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function je(t=H(),e=H().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function Be(t){return(t||gt()).getScope().getTransaction()}const Ue=$e;let He=!1;function ze(){const t=Be();if(t){const e="internal_error";G&&I.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}ze.tag="sentry_tracingErrorCallback";class qe{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class We{constructor(t={}){this.traceId=t.traceId||H(),this.spanId=t.spanId||H().substring(16),this.startTimestamp=t.startTimestamp||(0,rt.ph)(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){const e=new We({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,G&&e.transaction){const n=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${e.transaction.name||"< unknown name >"}' (${e.transaction.spanId}).`;e.transaction.metadata.spanMetadata[e.spanId]={logMessage:n},I.log(n)}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const e=Ve(t);return"unknown_error"!==e&&this.setStatus(e),this}setName(t){this.description=t}isSuccess(){return"ok"===this.status}finish(t){if(G&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&I.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?t:(0,rt.ph)()}toTraceparent(){return je(this.traceId,this.spanId,this.sampled)}toContext(){return B({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return B({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return B({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function Ve(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Ye(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=B({environment:r.environment||st,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}class Ke extends We{constructor(t,e){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=e||gt(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,e="custom"){this._name=t,this.metadata.source=e}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new qe(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){const e=this._finishTransaction(t);if(e)return this._hub.captureEvent(e)}toContext(){return B({...super.toContext(),name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||gt(),e=t.getClient();if(!e)return{};const n=t.getScope(),r=Ye(this.traceId,e,n),s=this.metadata.sampleRate;void 0!==s&&(r.sample_rate=`${s}`);const i=this.metadata.source;return i&&"url"!==i&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}setHub(t){this._hub=t}_finishTransaction(t){if(void 0!==this.endTimestamp)return;this.name||(G&&I.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this.sampled)return G&&I.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const r=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&(G&&I.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),G&&I.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),s}}const Ge={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Je=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Xe extends qe{constructor(t,e,n,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=e=>{t.endTimestamp="number"==typeof e?e:(0,rt.ph)(),this._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),super.add(t)}}class Ze extends Ke{constructor(t,e,n=Ge.idleTimeout,r=Ge.finalTimeout,s=Ge.heartbeatInterval,i=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Je[4],i&&(G&&I.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Je[3],this.finish())}),this._finalTimeout)}finish(t=(0,rt.ph)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){G&&I.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),G&&I.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t,r=(this._finalTimeout+this._idleTimeout)/1e3,s=e.endTimestamp-this.startTimestamp<r;if(G){const t=JSON.stringify(e,void 0,2);n?s||I.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):I.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return n&&s})),G&&I.log("[Tracing] flushing IdleTransaction")}else G&&I.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new Xe(e,n,this.spanId,t),G&&I.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Je[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=Je[1],this.finish(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),G&&I.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,G&&I.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(G&&I.log(`[Tracing] popActivity ${t}`),delete this.activities[t],G&&I.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=(0,rt.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=Je[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(G&&I.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Je[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){G&&I.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function Qe(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=Jt(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function tn(t,e,n){if(!Qe(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let r;return"function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:void 0!==e.tracesSampleRate?(r=e.tracesSampleRate,t.setMetadata({sampleRate:Number(r)})):(r=1,t.setMetadata({sampleRate:r})),function(t){if(m(t)||"number"!=typeof t&&"boolean"!=typeof t)return G&&I.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1;if(t<0||t>1)return G&&I.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(G&&I.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(G&&I.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(G&&I.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(G&&I.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function en(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function nn(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&(G&&I.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.\nThe transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new Ke(t,this);return o=tn(o,r,{parentSampled:t.parentSampled,transactionContext:t,...e}),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function rn(t,e,n,r,s,i,o){const a=t.getClient(),c=a&&a.getOptions()||{};let u=new Ze(e,t,n,r,o,s);return u=tn(u,c,{parentSampled:e.parentSampled,transactionContext:e,...i}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function sn(){const t=ft();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=nn),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=en),He||(He=!0,Te(ze),Ie(ze)))}function on(t,e,n=(()=>{}),r=(()=>{})){const s=pn(t),i=gt(),o=Xt(),a=o.getSpan(),c=hn(i,a,s);function u(){c&&c.finish(),o.setSpan(a)}let l;o.setSpan(c);try{l=e(c)}catch(t){throw c&&c.setStatus("internal_error"),n(t,c),u(),r(),t}return f(l)?Promise.resolve(l).then((()=>{u(),r()}),(t=>{c&&c.setStatus("internal_error"),n(t,c),u(),r()})):(u(),r()),l}function an(t,e){const n=pn(t),r=gt(),s=Xt(),i=s.getSpan(),o=hn(r,i,n);function a(){o&&o.finish(),s.setSpan(i)}let c;s.setSpan(o);try{c=e(o)}catch(t){throw o&&o.setStatus("internal_error"),a(),t}return f(c)?Promise.resolve(c).then((()=>{a()}),(()=>{o&&o.setStatus("internal_error"),a()})):a(),c}function cn(t,e){const n=pn(t),r=gt(),s=Xt(),i=s.getSpan(),o=hn(r,i,n);let a;s.setSpan(o);try{a=e(o,(function(){o&&o.finish(),s.setSpan(i)}))}catch(t){throw o&&o.setStatus("internal_error"),t}return f(a)&&Promise.resolve(a).then(void 0,(()=>{o&&o.setStatus("internal_error")})),a}function un(t){if(!Qe())return;const e={...t};void 0!==e.name&&void 0===e.description&&(e.description=e.name);const n=gt(),r=ln();return r?r.startChild(e):n.startTransaction(e)}function ln(){return Xt().getSpan()}function dn({sentryTrace:t,baggage:e},n){const r=Xt(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=Fe(t,e);r.setPropagationContext(o),G&&s&&I.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:B({dynamicSamplingContext:s&&!i?{}:i})};return n?n(a):a}function hn(t,e,n){if(Qe())return e?e.startChild(n):t.startTransaction(n)}function pn(t){const e={...t};return void 0!==e.name&&void 0===e.description&&(e.description=e.name),e}function fn(t,e,n){const r=Be();r&&r.setMeasurement(t,e,n)}const mn=/[^a-zA-Z0-9_/.-]+/g,gn=/[^\w\d_:/@.{}[\]$-]+/g;const yn={c:class{constructor(t){this._value=t}add(t){this._value+=t}toString(){return`${this._value}`}},g:class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},d:class{constructor(t){this._value=[t]}add(t){this._value.push(t)}toString(){return this._value.join(":")}},s:class{constructor(t){this.first=t,this._value=new Set([t])}add(t){this._value.add(t)}toString(){return`${Array.from(this._value).map((t=>"string"==typeof t?function(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e>>>0}(t):t)).join(":")}`}}};class _n{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(t,e,n,r="none",s={},i=(0,rt.ph)()){const o=Math.floor(i),a=e.replace(mn,"_"),c=function(t){const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){e[n.replace(mn,"_")]=String(t[n]).replace(gn,"_")}return e}(s),u=function(t,e,n,r){return`${t}${e}${n}${Object.entries(B(r)).sort(((t,e)=>t[0].localeCompare(e[0])))}`}(t,a,r,c),l=this._buckets.get(u);if(l){const[t,e]=l;t.add(n),e<o&&(l[1]=o)}else{const e=new yn[t](n);this._buckets.set(u,[e,o,t,a,r,c])}}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map((([,t])=>t));this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}class vn{static __initStatic(){this.id="MetricsAggregator"}constructor(){this.name=vn.id}setupOnce(){}setup(t){t.metricsAggregator=new _n(t)}}function bn(t,e,n,r={}){const s=Jt(),i=Xt();if(s){if(!s.metricsAggregator)return void(G&&I.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=i.getTransaction(),h={};u&&(h.release=u),l&&(h.environment=l),d&&(h.transaction=d.name),G&&I.log(`Adding value of ${n} to ${t} metric ${e}`),s.metricsAggregator.add(t,e,n,o,{...h,...a},c)}}vn.__initStatic();const Sn={increment:function(t,e=1,n){bn("c",t,e,n)},distribution:function(t,e,n){bn("d",t,e,n)},set:function(t,e,n){bn("s",t,e,n)},gauge:function(t,e,n){bn("g",t,e,n)},MetricsAggregator:vn},kn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wn(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${o}`}function En(t){const e=kn.exec(t);if(!e)return void C((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,s="",i,o="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return Tn({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Tn(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function xn(t){const e="string"==typeof t?En(t):Tn(t);if(e&&function(t){if(!E)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(I.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(I.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(I.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(I.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}function Cn(t,e=[]){return[t,e]}function In(t,e){const[n,r]=t;return[n,[...r,e]]}function Rn(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function Mn(t,e){return(e||new TextEncoder).encode(t)}function On(t,e){const[n,r]=t;let s=JSON.stringify(n);function i(t){"string"==typeof s?s="string"==typeof t?s+t:[Mn(s,e),t]:s.push("string"==typeof t?Mn(t,e):t)}for(const t of r){const[e,n]=t;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Ct(n))}i(t)}}return"string"==typeof s?s:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(s)}function Dn(t,e){const n="string"==typeof t.data?Mn(t.data,e):t.data;return[B({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Nn={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function An(t){return Nn[t]}function Ln(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Pn(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:wn(r)},...s&&{trace:B({...s})}}}const $n="7";function Fn(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function jn(t,e){return n={sentry_key:t.publicKey,sentry_version:$n,...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`)).join("&");var n}function Bn(t,e={}){const n="string"==typeof e?e:e.tunnel,r="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${Fn(t)}${t.projectId}/envelope/`}(t)}?${jn(t,r)}`}function Un(t,e){let n;return Rn(t,((t,r)=>(e.includes(r)&&(n=Array.isArray(t)?t[1]:void 0),!!n))),n}function Hn(t,e){return n=>{const r=t(n),s={};function i(e,r){const i=r?`${e}:${r}`:e;if(!s[i]){const o=En(e);if(!o)return;const a=Bn(o);s[i]=r?function(t,e){return n=>{const r=t(n);return{send:async t=>{const n=Un(t,["event","transaction","profile","replay_event"]);return n&&(n.release=e),r.send(t)},flush:t=>r.flush(t)}}}(t,r)({...n,url:a}):t({...n,url:a})}return s[i]}return{send:async function(t){const n=e({envelope:t,getEvent:function(e){const n=e&&e.length?e:["event"];return Un(t,n)}}).map((t=>"string"==typeof t?i(t,void 0):i(t.dsn,t.release))).filter((t=>!!t));return 0===n.length&&n.push(r),(await Promise.all(n.map((e=>e.send(t)))))[0]},flush:async function(t){const e=[...Object.keys(s).map((t=>s[t])),r];return(await Promise.all(e.map((e=>e.flush(t))))).every((t=>t))}}}}class zn extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}function qn(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return Z(new zn("Not adding Promise because buffer limit was reached."));const s=r();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new Q(((n,r)=>{let s=e.length;if(!s)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{X(t).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}const Wn=6e4;function Vn(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?Wn:r-e}function Yn(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}function Kn(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n]=t.split(":",2),i=parseInt(e,10),o=1e3*(isNaN(i)?60:i);if(n)for(const t of n.split(";"))s[t]=r+o;else s.all=r+o}else o?s.all=r+Vn(o,r):429===e&&(s.all=r+6e4);return s}const Gn=30;function Jn(t,e,n=qn(t.bufferSize||Gn)){let r={};function s(s){const i=[];if(Rn(s,((e,n)=>{const s=An(n);if(Yn(r,s)){const r=Xn(e,n);t.recordDroppedEvent("ratelimit_backoff",s,r)}else i.push(e)})),0===i.length)return X();const o=Cn(s[0],i),a=e=>{Rn(o,((n,r)=>{const s=Xn(n,r);t.recordDroppedEvent(e,An(r),s)}))};return n.add((()=>e({body:On(o,t.textEncoder)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&G&&I.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=Kn(r,t),t)),(t=>{throw a("network_error"),t})))).then((t=>t),(t=>{if(t instanceof zn)return G&&I.error("Skipped sending event because buffer is full."),a("queue_overflow"),X();throw t}))}return s.__sentry__baseTransport__=!0,{send:s,flush:t=>n.drain(t)}}function Xn(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}const Zn=new Map,Qn=new Set;function tr(t,e){return function(t){if(_.n2._sentryModuleMetadata)for(const e of Object.keys(_.n2._sentryModuleMetadata)){const n=_.n2._sentryModuleMetadata[e];if(Qn.has(e))continue;Qn.add(e);const r=t(e);for(const t of r.reverse())if(t.filename){Zn.set(t.filename,n);break}}}(t),Zn.get(e)}const er="ModuleMetadata",nr=ne(er,(()=>({name:er,setup(t){"function"==typeof t.on&&t.on("beforeEnvelope",(t=>{Rn(t,((t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(!function(t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const e of t.stacktrace.frames||[])delete e.module_metadata}))}catch(t){}}(e),t[1]=e)}}))}))},processEvent(t,e,n){return function(t,e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[]){if(!n.filename)continue;const e=tr(t,n.filename);e&&(n.module_metadata=e)}}))}catch(t){}}(n.getOptions().stackParser,t),t}})));function rr(t,e,n,r){const s=Ln(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const o=Pn(t,s,r,e);delete t.sdkProcessingMetadata;return Cn(o,[[{type:i},t]])}function sr(t,e,n,r){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&e&&(s.dsn=wn(e));const i=function(t){const e=function(t){let e="";for(const[n,r,s,i,o,a]of t)e+=`${i}@${o}:${n}|${s}${Object.keys(a).length?`|#${Object.entries(a).map((([t,e])=>`${t}:${String(e)}`)).join(",")}`:""}|T${r}\n`;return e}(t);return[{type:"statsd",length:e.length},e]}(t);return Cn(s,[i])}const ir="Not capturing exception because it's already been captured.";class or{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=xn(t.dsn):G&&I.warn("No DSN provided, client will not send events."),this._dsn){const e=Bn(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){if(Y(t))return void(G&&I.log(ir));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{r=t}))),r}captureMessage(t,e,n,r){let s=n&&n.event_id;const i=d(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(i.then((t=>this._captureEvent(t,n,r))).then((t=>{s=t}))),s}captureEvent(t,e,n){if(e&&e.originalException&&Y(e.originalException))return void(G&&I.log(ir));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{r=t}))),r}captureSession(t){"string"!=typeof t.release?G&&I.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ot(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):X(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&te(t,e,n)})),n}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return G&&I.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){te(this,t,this._integrations)}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=rr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=In(n,Dn(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,n,r){const s=Ln(n);return Cn({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:wn(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;G&&I.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(t){const e=sr(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}_updateSessionFromEvent(t,e){let n=!1,r=!1;const s=e.exception&&e.exception.values;if(s){r=!0;for(const t of s){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(ot(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Q((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n){const r=this.getOptions(),s=Object.keys(this._integrations);return!e.integrations&&s.length>0&&(e.integrations=s),this.emit("preprocessEvent",t,e),Mt(r,t,e,n,this).then((t=>{if(null===t)return t;const{propagationContext:e}=t.sdkProcessingMetadata||{};if(!(t.contexts&&t.contexts.trace)&&e){const{traceId:r,spanId:s,parentSpanId:i,dsc:o}=e;t.contexts={trace:{trace_id:r,span_id:s,parent_span_id:i},...t.contexts};const a=o||Ye(r,this,n);t.sdkProcessingMetadata={dynamicSamplingContext:a,...t.sdkProcessingMetadata}}return t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if(G){const e=t;"log"===e.logLevel?I.log(e.message):I.warn(e)}}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:s}=r,i=cr(t),o=ar(t),a=t.type||"error",c=`before send for type \`${a}\``;if(o&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),Z(new zn(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u="replay_event"===a?"replay":a;return this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,t),new zn("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const s=function(t,e,n){const{beforeSend:r,beforeSendTransaction:s}=t;if(ar(e)&&r)return r(e,n);if(cr(e)&&s)return s(e,n);return e}(r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(f(t))return t.then((t=>{if(!h(t)&&null!==t)throw new zn(n);return t}),(t=>{throw new zn(`${e} rejected with ${t}`)}));if(!h(t)&&null!==t)throw new zn(n);return t}(s,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",u,t),new zn(`${c} returned \`null\`, will not send event.`,"log");const s=n&&n.getSession();!i&&s&&this._updateSessionFromEvent(s,r);const o=r.transaction_info;if(i&&o&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...o,source:t}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof zn)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new zn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,(t=>{G&&I.error("Error while sending event:",t)}));G&&I.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t[e]}}))}}function ar(t){return void 0===t.type}function cr(t){return"transaction"===t.type}function ur(t){const e=Jt();e&&e.addEventProcessor&&e.addEventProcessor(t)}const lr=_.n2;let dr=0;function hr(){return dr>0}function pr(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if(P(t))return t}catch(e){return t}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const s=r.map((t=>pr(t,e)));return t.apply(this,s)}catch(t){throw dr++,setTimeout((()=>{dr--})),Wt((n=>{n.addEventProcessor((t=>(e.mechanism&&(W(t,void 0,void 0),V(t,e.mechanism)),t.extra={...t.extra,arguments:r},t))),At(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}catch(t){}L(r,t),A(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch(t){}return r}var fr=n(661);const mr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function gr(t,e){const n=_r(t,e),r={type:e&&e.name,value:br(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function yr(t,e){return{exception:{values:[gr(t,e)]}}}function _r(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(vr.test(t.message))return 1}return 0}(e);try{return t(n,r)}catch(t){}return[]}const vr=/Minified React error #\d+;/i;function br(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Sr(t,e,n,r){const s=wr(t,e,n&&n.syntheticException||void 0,r);return V(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),X(s)}function kr(t,e,n="info",r,s){const i=Er(t,e,r&&r.syntheticException||void 0,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),X(i)}function wr(t,e,n,r,s){let i;if(c(e)&&e.error){return yr(t,e.error)}if(u(e)||a(e,"DOMException")){const s=e;if("stack"in e)i=yr(t,e);else{const e=s.name||(u(s)?"DOMError":"DOMException"),o=s.message?`${e}: ${s.message}`:e;i=Er(t,o,n,r),W(i,o)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}if(o(e))return yr(t,e);if(h(e)||p(e)){return i=function(t,e,n,r){const s=Jt(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:p(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Tr(e,{isUnhandledRejection:r})}]},extra:{__serialized__:It(e,i)}};if(n){const e=_r(t,n);e.length&&(o.exception.values[0].stacktrace={frames:e})}return o}(t,e,n,s),V(i,{synthetic:!0}),i}return i=Er(t,e,n,r),W(i,`${e}`,void 0),V(i,{synthetic:!0}),i}function Er(t,e,n,r){const s={message:e};if(r&&n){const r=_r(t,n);r.length&&(s.exception={values:[{value:e,stacktrace:{frames:r}}]})}return s}function Tr(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys($(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return R(n[0],e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:R(r,e)}return""}(t),r=e?"promise rejection":"exception";if(c(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(p(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function xr(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:wn(r)}},i=function(t){return[{type:"user_report"},t]}(t);return Cn(s,[i])}class Cr extends or{constructor(t){const e=lr.SENTRY_SDK_SOURCE||(0,fr.S)();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${e}:@sentry/browser`,version:lt}],version:lt},super(t),t.sendClientReports&&lr.document&&lr.document.addEventListener("visibilitychange",(()=>{"hidden"===lr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return Sr(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return kr(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(mr&&I.warn("SDK not enabled, will not capture user feedback."));const e=xr(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(mr&&I.log("No outcomes to send"));if(!this._dsn)return void(mr&&I.log("No dsn provided, will not send outcomes"));mr&&I.log("Sending outcomes:",t);const e=(n=t,Cn((r=this._options.tunnel&&wn(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||(0,rt.yW)(),discarded_events:n}]]));var n,r,s;this._sendEnvelope(e)}}const Ir=(0,_.Rf)();function Rr(){if(!("fetch"in Ir))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function Mr(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}let Or;function Dr(t,e=function(){if(Or)return Or;if(Mr(lr.fetch))return Or=lr.fetch.bind(lr);const t=lr.document;let e=lr.fetch;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(t){mr&&I.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return Or=e.bind(lr)}()){let n=0,r=0;return Jn(t,(function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,o).then((t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return Or=void 0,n-=i,r--,Z(t)}}))}const Nr=4;function Ar(t){return Jn(t,(function(e){return new Q(((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{s.readyState===Nr&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&s.setRequestHeader(e,t.headers[e]);s.send(e.body)}))}))}const Lr="?";function Pr(t,e,n,r){const s={filename:t,function:e,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const $r=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Fr=/\((\S*)(?::(\d+))(?::(\d+))\)/,jr=[30,t=>{const e=$r.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=Fr.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=Xr(e[1]||Lr,e[2]);return Pr(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],Br=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ur=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Hr=[50,t=>{const e=Br.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=Ur.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||Lr;return[n,t]=Xr(n,t),Pr(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],zr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,qr=[40,t=>{const e=zr.exec(t);return e?Pr(e[2],e[1]||Lr,+e[3],e[4]?+e[4]:void 0):void 0}],Wr=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Vr=[10,t=>{const e=Wr.exec(t);return e?Pr(e[2],e[3]||Lr,+e[1]):void 0}],Yr=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Kr=[20,t=>{const e=Yr.exec(t);return e?Pr(e[5],e[3]||e[4]||Lr,+e[1],+e[2]):void 0}],Gr=[jr,Hr,qr],Jr=Et(...Gr),Xr=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:Lr,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};const Zr=(0,_.Rf)();const Qr=_.n2;let ts;function es(t){const e="history";Se(e,t),ke(e,ns)}function ns(){if(!function(){const t=Zr.chrome,e=t&&t.app&&t.app.runtime,n="history"in Zr&&!!Zr.history.pushState&&!!Zr.history.replaceState;return!e&&n}())return;const t=Qr.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=ts,e=String(n);ts=e;we("history",{from:t,to:e})}return t.apply(this,e)}}Qr.onpopstate=function(...e){const n=Qr.location.href,r=ts;ts=n;if(we("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},N(Qr.history,"pushState",e),N(Qr.history,"replaceState",e)}const rs="GlobalHandlers",ss=ne(rs,((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:rs,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){Te((e=>{const{stackParser:n,attachStacktrace:r}=as();if(Jt()!==t||hr())return;const{msg:s,url:i,line:o,column:a,error:u}=e,d=void 0===u&&l(s)?function(t,e,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=c(t)?t.message:t,o="Error";const a=i.match(s);a&&(o=a[1],i=a[2]);const u={exception:{values:[{type:o,value:i}]}};return is(u,e,n,r)}(s,i,o,a):is(wr(n,u||s,void 0,r,!1),i,o,a);d.level="error",Pt(d,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}(t),os("onerror")),e.onunhandledrejection&&(!function(t){Ie((e=>{const{stackParser:n,attachStacktrace:r}=as();if(Jt()!==t||hr())return;const s=function(t){if(d(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return t}(e),i=d(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:wr(n,s,void 0,r,!0);i.level="error",Pt(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),os("onunhandledrejection"))}}}));function is(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,h=l(e)&&e.length>0?e:w();return 0===c.length&&c.push({colno:u,filename:h,function:"?",in_app:!0,lineno:d}),t}function os(t){mr&&I.log(`Global Handler attached: ${t}`)}function as(){const t=Jt();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const cs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],us="TryCatch",ls=ne(us,((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:us,setupOnce(){e.setTimeout&&N(lr,"setTimeout",ds),e.setInterval&&N(lr,"setInterval",ds),e.requestAnimationFrame&&N(lr,"requestAnimationFrame",hs),e.XMLHttpRequest&&"XMLHttpRequest"in lr&&N(XMLHttpRequest.prototype,"send",ps);const t=e.eventTarget;if(t){(Array.isArray(t)?t:cs).forEach(fs)}}}}));function ds(t){return function(...e){const n=e[0];return e[0]=pr(n,{mechanism:{data:{function:xt(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function hs(t){return function(e){return t.apply(this,[pr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:xt(t)},handled:!1,type:"instrument"}})])}}function ps(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&N(n,t,(function(e){const n={mechanism:{data:{function:t,handler:xt(e)},handled:!1,type:"instrument"}},r=P(e);return r&&(n.mechanism.data.handler=xt(r)),pr(e,n)}))})),t.apply(this,e)}}function fs(t){const e=lr,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(N(n,"addEventListener",(function(e){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=pr(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:xt(r),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[n,pr(r,{mechanism:{data:{function:"addEventListener",handler:xt(r),target:t},handled:!1,type:"instrument"}}),s])}})),N(n,"removeEventListener",(function(t){return function(e,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&t.call(this,e,n,r)}catch(t){}return t.call(this,e,s,r)}})))}function ms(){"console"in _.n2&&T.forEach((function(t){t in _.n2.console&&N(_.n2.console,t,(function(e){return x[t]=e,function(...e){we("console",{args:e,level:t});const n=x[t];n&&n.apply(_.n2.console,e)}}))}))}const gs=_.n2,ys=1e3;let _s,vs,bs;function Ss(t){Se("dom",t),ke("dom",ks)}function ks(){if(!gs.document)return;const t=we.bind(null,"dom"),e=ws(t,!0);gs.document.addEventListener("click",e,!1),gs.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=gs[e]&&gs[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(N(n,"addEventListener",(function(e){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},o=i[n]=i[n]||{refCount:0};if(!o.handler){const r=ws(t);o.handler=r,e.call(this,n,r,s)}o.refCount++}catch(t){}return e.call(this,n,r,s)}})),N(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},i=s[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,r),i.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}function ws(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;A(n,"_sentryCaptured",!0),r&&!r._sentryId&&A(r,"_sentryId",H());const s="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==vs)return!1;try{if(!t.target||t.target._sentryId!==bs)return!1}catch(t){}return!0}(n)){t({event:n,name:s,global:e}),vs=n.type,bs=r?r._sentryId:void 0}clearTimeout(_s),_s=gs.setTimeout((()=>{bs=void 0,vs=void 0}),ys)}}const Es=_.n2,Ts="__sentry_xhr_v3__";function xs(t){Se("xhr",t),ke("xhr",Cs)}function Cs(){if(!Es.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;N(t,"open",(function(t){return function(...e){const n=Date.now(),r=l(e[0])?e[0].toUpperCase():void 0,s=function(t){if(l(t))return t;try{return t.toString()}catch(t){}return}(e[1]);if(!r||!s)return t.apply(this,e);this[Ts]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const t=this[Ts];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}we("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?N(this,"onreadystatechange",(function(t){return function(...e){return i(),t.apply(this,e)}})):this.addEventListener("readystatechange",i),N(this,"setRequestHeader",(function(t){return function(...e){const[n,r]=e,s=this[Ts];return s&&l(n)&&l(r)&&(s.request_headers[n.toLowerCase()]=r),t.apply(this,e)}})),t.apply(this,e)}})),N(t,"send",(function(t){return function(...e){const n=this[Ts];if(!n)return t.apply(this,e);void 0!==e[0]&&(n.body=e[0]);return we("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}function Is(t){const e="fetch";Se(e,t),ke(e,Rs)}function Rs(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!Rr())return!1;if(Mr(Ir.fetch))return!0;let t=!1;const e=Ir.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Mr(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){E&&I.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&N(_.n2,"fetch",(function(t){return function(...e){const{method:n,url:r}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Os(e),method:Ms(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Os(e),method:Ms(e,"method")?String(e.method).toUpperCase():"GET"}}(e),s={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return we("fetch",{...s}),t.apply(_.n2,e).then((t=>(we("fetch",{...s,endTimestamp:Date.now(),response:t}),t)),(t=>{throw we("fetch",{...s,endTimestamp:Date.now(),error:t}),t}))}}))}function Ms(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Os(t){return"string"==typeof t?t:t?Ms(t,"url")?t.url:t.toString?t.toString():"":""}const Ds=["fatal","error","warning","log","info","debug"];function Ns(t){return"warn"===t?"warning":Ds.includes(t)?t:"log"}function As(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const Ls=1024,Ps="Breadcrumbs",$s=ne(Ps,((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Ps,setup(t){e.console&&function(t){const e="console";Se(e,t),ke(e,ms)}(function(t){return function(e){if(Jt()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:Ns(e.level),message:M(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${M(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}Ft(n,{input:e.args,level:e.level})}}(t)),e.dom&&Ss(function(t,e){return function(n){if(Jt()!==t)return;let r,s="object"==typeof e?e.serializeAttribute:void 0,i="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>Ls&&(mr&&I.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=Ls),"string"==typeof s&&(s=[s]);try{const t=n.event;r=function(t){return!!t&&!!t.target}(t)?S(t.target,{keyAttrs:s,maxStringLength:i}):S(t,{keyAttrs:s,maxStringLength:i})}catch(t){r="<unknown>"}0!==r.length&&Ft({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&xs(function(t){return function(e){if(Jt()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,s=e.xhr[Ts];if(!n||!r||!s)return;const{method:i,url:o,status_code:a,body:c}=s;Ft({category:"xhr",data:{method:i,url:o,status_code:a},type:"http"},{xhr:e.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(t)),e.fetch&&Is(function(t){return function(e){if(Jt()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){Ft({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:n,endTimestamp:r})}else{const t=e.response;Ft({category:"fetch",data:{...e.fetchData,status_code:t&&t.status},type:"http"},{input:e.args,response:t,startTimestamp:n,endTimestamp:r})}}}(t)),e.history&&es(function(t){return function(e){if(Jt()!==t)return;let n=e.from,r=e.to;const s=As(lr.location.href);let i=n?As(n):void 0;const o=As(r);i&&i.path||(i=s),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),Ft({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on&&t.on("beforeSendEvent",function(t){return function(e){Jt()===t&&Ft({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:q(e)},{event:e})}}(t))}}}));const Fs="LinkedErrors",js=ne(Fs,((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:Fs,preprocessEvent(t,r,s){const i=s.getOptions();de(gr,i.stackParser,i.maxValueLength,n,e,t,r)}}})),Bs="HttpContext",Us=ne(Bs,(()=>({name:Bs,preprocessEvent(t){if(!lr.navigator&&!lr.location&&!lr.document)return;const e=t.request&&t.request.url||lr.location&&lr.location.href,{referrer:n}=lr.document||{},{userAgent:r}=lr.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}))),Hs="Dedupe",zs=ne(Hs,(()=>{let t;return{name:Hs,processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Ws(t,e))return!1;if(!qs(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=Vs(e),r=Vs(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Ws(t,e))return!1;if(!qs(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return mr&&I.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}}));function qs(t,e){let n=Ys(t),r=Ys(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],s=n[t];if(e.filename!==s.filename||e.lineno!==s.lineno||e.colno!==s.colno||e.function!==s.function)return!1}return!0}function Ws(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function Vs(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Ys(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}const Ks=[new ue,new ie,new ls,new $s,new ss,new js,new zs,new Us];function Gs(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ks),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),lr.SENTRY_RELEASE&&lr.SENTRY_RELEASE.id&&(t.release=lr.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(n=t.stackParser||Jr,Array.isArray(n)?Et(...n):n),integrations:Qt(t),transport:t.transport||(Rr()?Dr:Ar)};var n;!function(t,e){!0===e.debug&&(G?I.enable():C((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const n=gt();n.getScope().update(e.initialScope);const r=new t(e);n.bindClient(r)}(Cr,e),t.autoSessionTracking&&function(){if(void 0===lr.document)return void(mr&&I.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const t=gt();if(!t.captureSession)return;ti(t),es((({from:t,to:e})=>{void 0!==t&&t!==e&&ti(gt())}))}()}function Js(t={},e=gt()){if(!lr.document)return void(mr&&I.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=e.getStackTop(),s=t.dsn||n&&n.getDsn();if(!s)return void(mr&&I.error("DSN not configured for showReportDialog call"));r&&(t.user={...r.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const i=lr.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(t,e){const n=xn(t);if(!n)return"";const r=`${Fn(n)}embed/error-page/`;let s=`dsn=${wn(n)}`;for(const t in e)if("dsn"!==t&&"onClose"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(s+=`&name=${encodeURIComponent(t.name)}`),t.email&&(s+=`&email=${encodeURIComponent(t.email)}`)}else s+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${r}?${s}`}(s,t),t.onLoad&&(i.onload=t.onLoad);const{onClose:o}=t;if(o){const t=e=>{if("__sentry_reportdialog_closed__"===e.data)try{o()}finally{lr.removeEventListener("message",t)}};lr.addEventListener("message",t)}const a=lr.document.head||lr.document.body;a?a.appendChild(i):mr&&I.error("Not injecting report dialog. No injection point found in HTML")}function Xs(){}function Zs(t){t()}function Qs(t){return pr(t)()}function ti(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function ei(t){const e=Jt();e&&e.captureUserFeedback(t)}function ni(t,e){const n=e&&function(t){return void 0!==t.getClient}(e)?e.getClient():e,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return function(t,e){return!!e&&t.includes(e.host)}(t,r)||function(t,e){if(!e)return!1;return ri(t)===ri(e)}(t,s)}function ri(t){return"/"===t[t.length-1]?t.slice(0,-1):t}var si=n(305);function ii(){return"undefined"!=typeof window&&(!(0,si.KV)()||void 0!==_.n2.process&&"renderer"===_.n2.process.type)}const oi="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ai=(t,e,n)=>{let r,s;return i=>{e.value>=0&&(i||n)&&(s=e.value-(r||0),(s||void 0===r)&&(r=e.value,e.delta=s,t(e)))}},ci=_.n2,ui=()=>ci.__WEB_VITALS_POLYFILL__?ci.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=ci.performance.timing,e=ci.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n})()):ci.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],li=()=>{const t=ui();return t&&t.activationStart||0},di=(t,e)=>{const n=ui();let r="navigate";return n&&(r=ci.document.prerendering||li()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},hi=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver((t=>{e(t.getEntries())}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},pi=(t,e)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==ci.document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},fi=t=>{const e=di("CLS",0);let n,r=0,s=[];const i=t=>{t.forEach((t=>{if(!t.hadRecentInput){const i=s[0],o=s[s.length-1];r&&0!==s.length&&t.startTime-o.startTime<1e3&&t.startTime-i.startTime<5e3?(r+=t.value,s.push(t)):(r=t.value,s=[t]),r>e.value&&(e.value=r,e.entries=s,n&&n())}}))},o=hi("layout-shift",i);if(o){n=ai(t,e);const r=()=>{i(o.takeRecords()),n(!0)};return pi(r),r}};let mi=-1;const gi=()=>(mi<0&&(mi="hidden"!==ci.document.visibilityState||ci.document.prerendering?1/0:0,pi((({timeStamp:t})=>{mi=t}),!0)),{get firstHiddenTime(){return mi}}),yi=t=>{const e=gi(),n=di("FID");let r;const s=t=>{t.startTime<e.firstHiddenTime&&(n.value=t.processingStart-t.startTime,n.entries.push(t),r(!0))},i=t=>{t.forEach(s)},o=hi("first-input",i);r=ai(t,n),o&&pi((()=>{i(o.takeRecords()),o.disconnect()}),!0)},_i={},vi=t=>{const e=gi(),n=di("LCP");let r;const s=t=>{const s=t[t.length-1];if(s){const t=Math.max(s.startTime-li(),0);t<e.firstHiddenTime&&(n.value=t,n.entries=[s],r())}},i=hi("largest-contentful-paint",s);if(i){r=ai(t,n);const e=()=>{_i[n.id]||(s(i.takeRecords()),i.disconnect(),_i[n.id]=!0,r(!0))};return["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),pi(e,!0),e}},bi={},Si={};let ki,wi,Ei;function Ti(t){return Oi("lcp",t,Mi,Ei)}function xi(t,e){return Di(t,e),Si[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);hi(t,(e=>{Ci(t,{entries:e})}),e)}(t),Si[t]=!0),Ni(t,e)}function Ci(t,e){const n=bi[t];if(n&&n.length)for(const r of n)try{r(e)}catch(e){oi&&I.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${xt(r)}\nError:`,e)}}function Ii(){fi((t=>{Ci("cls",{metric:t}),ki=t}))}function Ri(){yi((t=>{Ci("fid",{metric:t}),wi=t}))}function Mi(){vi((t=>{Ci("lcp",{metric:t}),Ei=t}))}function Oi(t,e,n,r){return Di(t,e),Si[t]||(n(),Si[t]=!0),r&&e({metric:r}),Ni(t,e)}function Di(t,e){bi[t]=bi[t]||[],bi[t].push(e)}function Ni(t,e){return()=>{const n=bi[t];if(!n)return;const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}const Ai=_.n2,Li="sentryReplaySession",Pi="replay_event",$i="Unable to send Replay",Fi=15e4,ji=5e3,Bi=2e7,Ui=36e5,Hi={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};var zi;function qi(t){const e=null==t?void 0:t.host;return Boolean((null==e?void 0:e.shadowRoot)===t)}function Wi(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function Vi(t){try{const n=t.rules||t.cssRules;return n?((e=Array.from(n,Yi).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e):null}catch(t){return null}var e}function Yi(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=Vi(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}(t)}catch(t){}else if(function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":"))return function(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}(t.cssText);return e||t.cssText}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(zi||(zi={}));class Ki{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var e;if(!t)return-1;const n=null===(e=this.getMeta(t))||void 0===e?void 0:e.id;return null!=n?n:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)}replace(t,e){const n=this.getNode(t);if(n){const t=this.nodeMetaMap.get(n);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Gi({maskInputOptions:t,tagName:e,type:n}){return"OPTION"===e&&(e="SELECT"),Boolean(t[e.toLowerCase()]||n&&t[n]||"password"===n||"INPUT"===e&&!n&&t.text)}function Ji({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function Xi(t){return t.toLowerCase()}function Zi(t){return t.toUpperCase()}const Qi="__rrweb_original__";function to(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Xi(e):null}function eo(t,e,n){return"INPUT"!==e||"radio"!==n&&"checkbox"!==n?t.value:t.getAttribute("value")||""}let no=1;const ro=new RegExp("[^a-z0-9-_:]"),so=-2;function io(){return no++}let oo,ao;const co=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,uo=/^(?:[a-z+]+:)?\/\//i,lo=/^www\..*/i,ho=/^(data:)([^,]*),(.*)/i;function po(t,e){return(t||"").replace(co,((t,n,r,s,i,o)=>{const a=r||i||o,c=n||s||"";if(!a)return t;if(uo.test(a)||lo.test(a))return`url(${c}${a}${c})`;if(ho.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${c})`;const u=e.split("/"),l=a.split("/");u.pop();for(const t of l)"."!==t&&(".."===t?u.pop():u.push(t));return`url(${c}${u.join("/")}${c})`}))}const fo=/^[^ \t\n\r\u000c]+/,mo=/^[, \t\n\r\u000c]+/;function go(t,e){if(!e||""===e.trim())return e;const n=t.createElement("a");return n.href=e,n.href}function yo(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function _o(){const t=document.createElement("a");return t.href="",t.href}function vo(t,e,n,r,s,i){return r?"src"===n||"href"===n&&("use"!==e||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?go(t,r):"background"!==n||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n?function(t,e){if(""===e.trim())return e;let n=0;function r(t){let r;const s=t.exec(e.substring(n));return s?(r=s[0],n+=r.length,r):""}const s=[];for(;r(mo),!(n>=e.length);){let i=r(fo);if(","===i.slice(-1))i=go(t,i.substring(0,i.length-1)),s.push(i);else{let r="";i=go(t,i);let o=!1;for(;;){const t=e.charAt(n);if(""===t){s.push((i+r).trim());break}if(o)")"===t&&(o=!1);else{if(","===t){n+=1,s.push((i+r).trim());break}"("===t&&(o=!0)}r+=t,n+=1}}}return s.join(", ")}(t,r):"style"===n?po(r,_o()):"object"===e&&"data"===n?go(t,r):"function"==typeof i?i(n,r,s):r:go(t,r):r}function bo(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}function So(t,e,n=1/0,r=0){return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:So(t.parentNode,e,n,r+1):-1}function ko(t,e){return n=>{const r=n;if(null===r)return!1;if(t)if("string"==typeof t){if(r.matches(`.${t}`))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}}function wo(t,e,n,r,s,i){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===o)return!1;let a=-1,c=-1;if(i){if(c=So(o,ko(r,s)),c<0)return!0;a=So(o,ko(e,n),c>=0?c:1/0)}else{if(a=So(o,ko(e,n)),a<0)return!1;c=So(o,ko(r,s),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!i}catch(t){}return!!i}function Eo(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:_,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S=!1}=e,k=function(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return 1===n?void 0:n}(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:zi.Document,childNodes:[],compatMode:t.compatMode}:{type:zi.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:zi.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:k};case t.ELEMENT_NODE:return function(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:b}=e,S=function(t,e,n,r){try{if(r&&t.matches(r))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}if(n)return t.matches(n)}catch(t){}return!1}(t,r,s,i),k=function(t){if(t instanceof HTMLFormElement)return"form";const e=Xi(t.tagName);return ro.test(e)?"div":e}(t);let w={};const E=t.attributes.length;for(let e=0;e<E;e++){const r=t.attributes[e];bo(k,r.name,r.value)||(w[r.name]=vo(n,k,Xi(r.name),r.value,t,c))}if("link"===k&&o){const e=Array.from(n.styleSheets).find((e=>e.href===t.href));let r=null;e&&(r=Vi(e)),r&&(delete w.rel,delete w.href,w._cssText=po(r,e.href))}if("style"===k&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=Vi(t.sheet);e&&(w._cssText=po(e,_o()))}if("input"===k||"textarea"===k||"select"===k||"option"===k){const e=t,n=to(e),r=eo(e,Zi(k),n),s=e.checked;if("submit"!==n&&"button"!==n&&r){const t=wo(e,y,v,_,b,Gi({type:n,tagName:Zi(k),maskInputOptions:a}));w.value=Ji({isMasked:t,element:e,value:r,maskInputFn:u})}s&&(w.checked=s)}"option"===k&&(t.selected&&!a.select?w.selected=!0:delete w.selected);if("canvas"===k&&h)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let r=0;r<t.height;r+=50){const s=e.getImageData,i=Qi in s?s[Qi]:s;if(new Uint32Array(i.call(e,n,r,Math.min(50,t.width-n),Math.min(50,t.height-r)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(w.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const e=t.toDataURL(l.type,l.quality),n=document.createElement("canvas");n.width=t.width,n.height=t.height;e!==n.toDataURL(l.type,l.quality)&&(w.rr_dataURL=e)}if("img"===k&&d){oo||(oo=n.createElement("canvas"),ao=oo.getContext("2d"));const e=t,r=e.crossOrigin;e.crossOrigin="anonymous";const s=()=>{e.removeEventListener("load",s);try{oo.width=e.naturalWidth,oo.height=e.naturalHeight,ao.drawImage(e,0,0),w.rr_dataURL=oo.toDataURL(l.type,l.quality)}catch(t){console.warn(`Cannot inline img src=${e.currentSrc}! Error: ${t}`)}r?w.crossOrigin=r:e.removeAttribute("crossorigin")};e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s)}"audio"!==k&&"video"!==k||(w.rr_mediaState=t.paused?"paused":"played",w.rr_mediaCurrentTime=t.currentTime);f||(t.scrollLeft&&(w.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(w.rr_scrollTop=t.scrollTop));if(S){const{width:e,height:n}=t.getBoundingClientRect();w={class:w.class,rr_width:`${e}px`,rr_height:`${n}px`}}"iframe"!==k||p(w.src)||(t.contentDocument||(w.rr_src=w.src),delete w.src);let T;try{customElements.get(k)&&(T=!0)}catch(t){}return{type:zi.Element,tagName:k,attributes:w,childNodes:[],isSVG:yo(t)||void 0,needBlock:S,rootId:m,isCustom:T}}(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:_,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S,rootId:k,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:h});case t.TEXT_NODE:return function(t,e){var n;const{maskAllText:r,maskTextClass:s,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:u,maskInputFn:l,rootId:d}=e,h=t.parentNode&&t.parentNode.tagName;let p=t.textContent;const f="STYLE"===h||void 0,m="SCRIPT"===h||void 0,g="TEXTAREA"===h||void 0;if(f&&p){try{t.nextSibling||t.previousSibling||(null===(n=t.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(p=Vi(t.parentNode.sheet))}catch(e){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${e}`,t)}p=po(p,_o())}m&&(p="SCRIPT_PLACEHOLDER");const y=wo(t,s,o,i,a,r);f||m||g||!p||!y||(p=c?c(p):p.replace(/[\S]/g,"*"));g&&p&&(u.textarea||y)&&(p=l?l(p,t.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===h&&p){p=Ji({isMasked:wo(t,s,o,i,a,Gi({type:null,tagName:h,maskInputOptions:u})),element:t,value:p,maskInputFn:l})}return{type:zi.Text,textContent:p||"",isStyle:f,rootId:d}}(t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:k});case t.CDATA_SECTION_NODE:return{type:zi.CDATA,textContent:"",rootId:k};case t.COMMENT_NODE:return{type:zi.Comment,textContent:t.textContent||"",rootId:k};default:return!1}}function To(t){return null==t?"":t.toLowerCase()}function xo(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:C=(()=>!1),newlyAddedElement:I=!1}=e;let{preserveWhiteSpace:R=!0}=e;const M=Eo(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:v,inlineImages:b,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:I});if(!M)return console.warn(t,"not serialized"),null;let O;O=r.hasNode(t)?r.getId(t):!function(t,e){if(e.comment&&t.type===zi.Comment)return!0;if(t.type===zi.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(To(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===To(t.attributes.name)||"icon"===To(t.attributes.rel)||"apple-touch-icon"===To(t.attributes.rel)||"shortcut icon"===To(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&To(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(To(t.attributes.property).match(/^(og|twitter|fb):/)||To(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===To(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===To(t.attributes.name)||"googlebot"===To(t.attributes.name)||"bingbot"===To(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===To(t.attributes.name)||"generator"===To(t.attributes.name)||"framework"===To(t.attributes.name)||"publisher"===To(t.attributes.name)||"progid"===To(t.attributes.name)||To(t.attributes.property).match(/^article:/)||To(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===To(t.attributes.name)||"yandex-verification"===To(t.attributes.name)||"csrf-token"===To(t.attributes.name)||"p:domain_verify"===To(t.attributes.name)||"verify-v1"===To(t.attributes.name)||"verification"===To(t.attributes.name)||"shopify-checkout-api-token"===To(t.attributes.name)))return!0}}return!1}(M,_)&&(R||M.type!==zi.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?io():so;const D=Object.assign(M,{id:O});if(r.add(t,D),O===so)return null;k&&k(t);let N=!h;if(D.type===zi.Element){N=N&&!D.needBlock,delete D.needBlock;const e=t.shadowRoot;e&&Wi(e)&&(D.isShadowHost=!0)}if((D.type===zi.Document||D.type===zi.Element)&&N){_.headWhitespace&&D.type===zi.Element&&"head"===D.tagName&&(R=!1);const e={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:h,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:x,keepIframeSrcFn:C};for(const n of Array.from(t.childNodes)){const t=xo(n,e);t&&D.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const r=xo(n,e);r&&(Wi(t.shadowRoot)&&(r.isShadow=!0),D.childNodes.push(r))}}return t.parentNode&&qi(t.parentNode)&&Wi(t.parentNode)&&(D.isShadow=!0),D.type===zi.Element&&"iframe"===D.tagName&&function(t,e,n){const r=t.contentWindow;if(!r)return;let s,i=!1;try{s=r.document.readyState}catch(t){return}if("complete"!==s){const r=setTimeout((()=>{i||(e(),i=!0)}),n);return void t.addEventListener("load",(()=>{clearTimeout(r),i=!0,e()}))}const o="about:blank";if(r.location.href!==o||t.src===o||""===t.src)return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,(()=>{const e=t.contentDocument;if(e&&w){const n=xo(e,{doc:e,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:x,keepIframeSrcFn:C});n&&w(t,n)}}),E),D.type===zi.Element&&"link"===D.tagName&&"stylesheet"===D.attributes.rel&&function(t,e,n){let r,s=!1;try{r=t.sheet}catch(t){return}if(r)return;const i=setTimeout((()=>{s||(e(),s=!0)}),n);t.addEventListener("load",(()=>{clearTimeout(i),s=!0,e()}))}(t,(()=>{if(T){const e=xo(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:x,keepIframeSrcFn:C});e&&T(t,e)}}),x),D}function Co(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const Io="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Ro={map:{},getId(){return console.error(Io),-1},getNode(){return console.error(Io),null},removeNodeFromMap(){console.error(Io)},has(){return console.error(Io),!1},reset(){console.error(Io)}};function Mo(t,e,n={}){let r=null,s=0;return function(...i){const o=Date.now();s||!1!==n.leading||(s=o);const a=e-(o-s),c=this;a<=0||a>e?(r&&(clearTimeout(r),r=null),s=o,t.apply(c,i)):r||!1===n.trailing||(r=setTimeout((()=>{s=!1===n.leading?0:Date.now(),r=null,t.apply(c,i)}),a))}}function Oo(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(t){setTimeout((()=>{n.set.call(this,t)}),0),i&&i.set&&i.set.call(this,t)}}),()=>Oo(t,e,i||{},!0)}function Do(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch(t){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Ro=new Proxy(Ro,{get(t,e,n){return"map"===e&&console.error(Io),Reflect.get(t,e,n)}}));let No=Date.now;function Ao(t){var e,n,r,s,i,o;const a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null===(n=null===(e=null==a?void 0:a.body)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null==a?void 0:a.body)||void 0===r?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null===(i=null===(s=null==a?void 0:a.body)||void 0===s?void 0:s.parentElement)||void 0===i?void 0:i.scrollTop)||(null===(o=null==a?void 0:a.body)||void 0===o?void 0:o.scrollTop)||0}}function Lo(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Po(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function $o(t,e,n,r,s){if(!t)return!1;const i=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!i)return!1;const o=ko(e,n);if(!s){const t=r&&i.matches(r);return o(i)&&!t}const a=So(i,o);let c=-1;return!(a<0)&&(r&&(c=So(i,ko(null,r))),a>-1&&c<0||a<c)}function Fo(t,e){return e.getId(t)===so}function jo(t,e){if(qi(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||jo(t.parentNode,e))}function Bo(t){return Boolean(t.changedTouches)}function Uo(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function Ho(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function zo(t){return Boolean(null==t?void 0:t.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(No=()=>(new Date).getTime());class qo{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var e;return null!==(e=this.styleIDMap.get(t))&&void 0!==e?e:-1}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let n;return n=void 0===e?this.id++:e,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Wo(t){var e,n;let r=null;return(null===(n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(r=t.getRootNode().host),r}function Vo(t){const e=t.ownerDocument;if(!e)return!1;const n=function(t){let e,n=t;for(;e=Wo(n);)n=e;return n}(t);return e.contains(n)}function Yo(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||Vo(t))}var Ko=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Ko||{}),Go=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Go||{}),Jo=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Jo||{}),Xo=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Xo||{});function Zo(t){return"__ln"in t}class Qo{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&Zo(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&Zo(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ta=(t,e)=>`${t}@${e}`;class ea{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,n=new Qo,r=t=>{let e=t,n=so;for(;n===so;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},s=s=>{if(!s.parentNode||!Yo(s))return;const i=qi(s.parentNode)?this.mirror.getId(Wo(s)):this.mirror.getId(s.parentNode),o=r(s);if(-1===i||-1===o)return n.addNode(s);const a=xo(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{Uo(t,this.mirror)&&this.iframeManager.addIframe(t),Ho(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),zo(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});a&&(t.push({parentId:i,nextId:o,node:a}),e.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)ra(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||s(t);for(const t of this.addedSet)ia(this.droppedSet,t)||ra(this.removes,t,this.mirror)?ia(this.movedSet,t)?s(t):this.droppedSet.add(t):s(t);let i=null;for(;n.length;){let t=null;if(i){const e=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==e&&-1!==n&&(t=i)}if(!t){let e=n.tail;for(;e;){const n=e;if(e=e.previous,n){const e=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==e){t=n;break}{const e=n.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=e.parentNode.host;if(-1!==this.mirror.getId(r)){t=n;break}}}}}}if(!t){for(;n.head;)n.removeNode(n.head.value);break}i=t.previous,n.removeNode(t.value),s(t.value)}const o={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>{const{attributes:e}=t;if("string"==typeof e.style){const n=JSON.stringify(t.styleDiff),r=JSON.stringify(t._unchangedStyles);n.length<e.style.length&&(n+r).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}})).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=t=>{if(Fo(t.target,this.mirror))return;let e;try{e=document.implementation.createHTMLDocument()}catch(t){e=this.doc}switch(t.type){case"characterData":{const e=t.target.textContent;$o(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||e===t.oldValue||this.texts.push({value:wo(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if("value"===r){const e=to(n),r=n.tagName;s=eo(n,r,e);const i=Gi({maskInputOptions:this.maskInputOptions,tagName:r,type:e});s=Ji({isMasked:wo(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:n,value:s,maskInputFn:this.maskInputFn})}if($o(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributes.find((e=>e.node===t.target));if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(s)){if(n.contentDocument)return;r="rr_src"}if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i)),"type"===r&&"INPUT"===n.tagName&&"password"===(t.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!bo(n.tagName,r)&&(i.attributes[r]=vo(this.doc,Xi(n.tagName),Xi(r),s,n,this.maskAttributeFn),"style"===r)){const r=e.createElement("span");t.oldValue&&r.setAttribute("style",t.oldValue);for(const t of Array.from(n.style)){const e=n.style.getPropertyValue(t),s=n.style.getPropertyPriority(t);e!==r.style.getPropertyValue(t)||s!==r.style.getPropertyPriority(t)?i.styleDiff[t]=""===s?e:[e,s]:i._unchangedStyles[t]=[e,s]}for(const t of Array.from(r.style))""===n.style.getPropertyValue(t)&&(i.styleDiff[t]=!1)}break}case"childList":if($o(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const n=this.mirror.getId(e),r=qi(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);$o(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Fo(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(na(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||jo(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[ta(n,r)]?na(this.movedSet,e):this.removes.push({parentId:r,id:n,isShadow:!(!qi(t.target)||!Wi(t.target))||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(Fo(t,this.mirror))return;this.movedSet.add(t);let n=null;e&&this.mirror.hasNode(e)&&(n=this.mirror.getId(e)),n&&-1!==n&&(this.movedMap[ta(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);$o(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach((t=>this.genAdds(t))),zo(t)&&t.shadowRoot.childNodes.forEach((e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)})))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function na(t,e){t.delete(e),e.childNodes.forEach((e=>na(t,e)))}function ra(t,e,n){return 0!==t.length&&sa(t,e,n)}function sa(t,e,n){const{parentNode:r}=e;if(!r)return!1;const s=n.getId(r);return!!t.some((t=>t.id===s))||sa(t,r,n)}function ia(t,e){return 0!==t.size&&oa(t,e)}function oa(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||oa(t,n))}let aa;function ca(t){aa=t}function ua(){aa=void 0}const la=t=>{if(!aa)return t;return(...e)=>{try{return t(...e)}catch(t){if(aa&&!0===aa(t))return()=>{};throw t}}},da=[];function ha(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function pa(t,e){var n,r;const s=new ea;da.push(s),s.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const o=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");o&&window[o]&&(i=window[o]);const a=new i(la((e=>{t.onMutation&&!1===t.onMutation(e)||s.processMutations.bind(s)(e)})));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function fa({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const a=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,c=[];let u=null;return Object.keys(Jo).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==a[t])).forEach((o=>{let a=Xi(o);const l=(e=>o=>{const a=ha(o);if($o(a,r,s,i,!0))return;let c=null,l=e;if("pointerType"in o){switch(o.pointerType){case"mouse":c=Xo.Mouse;break;case"touch":c=Xo.Touch;break;case"pen":c=Xo.Pen}c===Xo.Touch?Jo[e]===Jo.MouseDown?l="TouchStart":Jo[e]===Jo.MouseUp&&(l="TouchEnd"):Xo.Pen}else Bo(o)&&(c=Xo.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===Xo.Touch||l.startsWith("Mouse")&&c===Xo.Mouse)&&(c=null)):Jo[e]===Jo.Click&&(c=u,u=null);const d=Bo(o)?o.changedTouches[0]:o;if(!d)return;const h=n.getId(a),{clientX:p,clientY:f}=d;la(t)(Object.assign({type:Jo[l],id:h,x:p,y:f},null!==c&&{pointerType:c}))})(o);if(window.PointerEvent)switch(Jo[o]){case Jo.MouseDown:case Jo.MouseUp:a=a.replace("mouse","pointer");break;case Jo.TouchStart:case Jo.TouchEnd:return}c.push(Co(a,l,e))})),la((()=>{c.forEach((t=>t()))}))}function ma({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){return Co("scroll",la(Mo(la((o=>{const a=ha(o);if(!a||$o(a,r,s,i,!0))return;const c=n.getId(a);if(a===e&&e.defaultView){const n=Ao(e.defaultView);t({id:c,x:n.left,y:n.top})}else t({id:c,x:a.scrollLeft,y:a.scrollTop})})),o.scroll||100)),e)}const ga=["INPUT","TEXTAREA","SELECT"],ya=new WeakMap;function _a({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m}){function g(t){let n=ha(t);const l=t.isTrusted,g=n&&Zi(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||ga.indexOf(g)<0||$o(n,r,s,i,!0))return;const _=n;if(_.classList.contains(o)||a&&_.matches(a))return;const v=to(n);let b=eo(_,g,v),S=!1;const k=Gi({maskInputOptions:c,tagName:g,type:v}),w=wo(n,h,f,p,m,k);"radio"!==v&&"checkbox"!==v||(S=n.checked),b=Ji({isMasked:w,element:n,value:b,maskInputFn:u}),y(n,d?{text:b,isChecked:S,userTriggered:l}:{text:b,isChecked:S});const E=n.name;"radio"===v&&E&&S&&e.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach((t=>{if(t!==n){const e=Ji({isMasked:w,element:t,value:eo(t,g,v),maskInputFn:u});y(t,d?{text:e,isChecked:!S,userTriggered:!1}:{text:e,isChecked:!S})}}))}function y(e,r){const s=ya.get(e);if(!s||s.text!==r.text||s.isChecked!==r.isChecked){ya.set(e,r);const s=n.getId(e);la(t)(Object.assign(Object.assign({},r),{id:s}))}}const _=("last"===l.input?["change"]:["input","change"]).map((t=>Co(t,la(g),e))),v=e.defaultView;if(!v)return()=>{_.forEach((t=>t()))};const b=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),S=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&_.push(...S.map((t=>Oo(t[0],t[1],{set(){la(g)({target:this,isTrusted:!1})}},!1,v)))),la((()=>{_.forEach((t=>t()))}))}function va(t){return function(t,e){if(wa("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||wa("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||wa("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||wa("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else if(t.parentStyleSheet){const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function ba(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function Sa({mirror:t,stylesheetManager:e},n){var r,s,i;let o=null;o="#document"===n.nodeName?t.getId(n):t.getId(n.host);const a="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(i=null===(s=n.ownerDocument)||void 0===s?void 0:s.defaultView)||void 0===i?void 0:i.ShadowRoot,c=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&a&&c?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var t;return null===(t=c.get)||void 0===t?void 0:t.call(this)},set(t){var n;const r=null===(n=c.set)||void 0===n?void 0:n.call(this,t);if(null!==o&&-1!==o)try{e.adoptStyleSheets(t,o)}catch(t){}return r}}),la((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):()=>{}}function ka(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=pa(t,t.doc),s=function({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(!1===e.mousemove)return()=>{};const s="number"==typeof e.mousemove?e.mousemove:50,i="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let o,a=[];const c=Mo(la((e=>{const n=Date.now()-o;t(a.map((t=>(t.timeOffset-=n,t))),e),a=[],o=null})),i),u=la(Mo(la((t=>{const e=ha(t),{clientX:n,clientY:s}=Bo(t)?t.changedTouches[0]:t;o||(o=No()),a.push({x:n,y:s,id:r.getId(e),timeOffset:No()-o}),c("undefined"!=typeof DragEvent&&t instanceof DragEvent?Go.Drag:t instanceof MouseEvent?Go.MouseMove:Go.TouchMove)})),s,{trailing:!1})),l=[Co("mousemove",u,n),Co("touchmove",u,n),Co("drag",u,n)];return la((()=>{l.forEach((t=>t()))}))}(t),i=fa(t),o=ma(t),a=function({viewportResizeCb:t},{win:e}){let n=-1,r=-1;return Co("resize",la(Mo(la((()=>{const e=Lo(),s=Po();n===e&&r===s||(t({width:Number(s),height:Number(e)}),n=e,r=s)})),200)),e)}(t,{win:n}),c=_a(t),u=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=la((o=>Mo(la((i=>{const a=ha(i);if(!a||$o(a,e,n,r,!0))return;const{currentTime:c,volume:u,muted:l,playbackRate:d}=a;t({type:o,id:s.getId(a),currentTime:c,volume:u,muted:l,playbackRate:d})})),i.media||500))),c=[Co("play",a(0),o),Co("pause",a(1),o),Co("seeked",a(2),o),Co("volumechange",a(3),o),Co("ratechange",a(4),o)];return la((()=>{c.forEach((t=>t()))}))}(t),l=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:la(((r,s,i)=>{const[o,a]=i,{id:c,styleId:u}=ba(s,e,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,adds:[{rule:o,index:a}]}),r.apply(s,i)}))});const i=r.CSSStyleSheet.prototype.deleteRule;let o,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:la(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ba(s,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,removes:[{index:o}]}),r.apply(s,i)}))}),r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:la(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ba(s,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,replace:o}),r.apply(s,i)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:la(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ba(s,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,replaceSync:o}),r.apply(s,i)}))}));const c={};Ea("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ea("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ea("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ea("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach((([r,s])=>{u[r]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(u[r].insertRule,{apply:la(((r,s,i)=>{const[o,a]=i,{id:c,styleId:u}=ba(s.parentStyleSheet,e,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,adds:[{rule:o,index:[...va(s),a||0]}]}),r.apply(s,i)}))}),s.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:la(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ba(s.parentStyleSheet,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,removes:[{index:[...va(s),o]}]}),r.apply(s,i)}))})})),la((()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([t,e])=>{e.prototype.insertRule=u[t].insertRule,e.prototype.deleteRule=u[t].deleteRule}))}))}(t,{win:n}),d=Sa(t,t.doc),h=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:la(((s,o,a)=>{var c;const[u,l,d]=a;if(n.has(u))return i.apply(o,[u,l,d]);const{id:h,styleId:p}=ba(null===(c=o.parentRule)||void 0===c?void 0:c.parentStyleSheet,e,r.styleMirror);return(h&&-1!==h||p&&-1!==p)&&t({id:h,styleId:p,set:{property:u,value:l,priority:d},index:va(o.parentRule)}),s.apply(o,a)}))});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:la(((s,i,a)=>{var c;const[u]=a;if(n.has(u))return o.apply(i,[u]);const{id:l,styleId:d}=ba(null===(c=i.parentRule)||void 0===c?void 0:c.parentStyleSheet,e,r.styleMirror);return(l&&-1!==l||d&&-1!==d)&&t({id:l,styleId:d,remove:{property:u},index:va(i.parentRule)}),s.apply(i,a)}))}),la((()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o}))}(t,{win:n}),p=t.collectFonts?function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(t,e,n){const r=new i(t,e,n);return s.set(r,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const o=Do(e.fonts,"add",(function(e){return function(n){return setTimeout(la((()=>{const e=s.get(n);e&&(t(e),s.delete(n))})),0),e.apply(this,[n])}}));return r.push((()=>{n.FontFace=i})),r.push(o),la((()=>{r.forEach((t=>t()))}))}(t):()=>{},f=function(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=t;let a=!0;const c=la((()=>{const t=e.getSelection();if(!t||a&&(null==t?void 0:t.isCollapsed))return;a=t.isCollapsed||!1;const c=[],u=t.rangeCount||0;for(let e=0;e<u;e++){const o=t.getRangeAt(e),{startContainer:a,startOffset:u,endContainer:l,endOffset:d}=o;$o(a,r,s,i,!0)||$o(l,r,s,i,!0)||c.push({start:n.getId(a),startOffset:u,end:n.getId(l),endOffset:d})}o({ranges:c})}));return c(),Co("selectionchange",c)}(t),m=function({doc:t,customElementCb:e}){const n=t.defaultView;return n&&n.customElements?Do(n.customElements,"define",(function(t){return function(n,r,s){try{e({define:{name:n}})}catch(t){}return t.apply(this,[n,r,s])}})):()=>{}}(t),g=[];for(const e of t.plugins)g.push(e.observer(e.callback,n,e.options));return la((()=>{da.forEach((t=>t.reset())),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),h(),p(),f(),m(),g.forEach((t=>t()))}))}function wa(t){return void 0!==window[t]}function Ea(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Ta{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,n,r){const s=n||this.getIdToRemoteIdMap(t),i=r||this.getRemoteIdToIdMap(t);let o=s.get(e);return o||(o=this.generateIdFn(),s.set(e,o),i.set(o,e)),o}getIds(t,e){const n=this.getIdToRemoteIdMap(t),r=this.getRemoteIdToIdMap(t);return e.map((e=>this.getId(t,e,n,r)))}getRemoteId(t,e,n){const r=n||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;const s=r.get(e);return s||-1}getRemoteIds(t,e){const n=this.getRemoteIdToIdMap(t);return e.map((e=>this.getRemoteId(t,e,n)))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}class xa{constructor(){this.crossOriginIframeMirror=new Ta(io),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Ca{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ta(io),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ta(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const n=this.crossOriginIframeMap.get(t.source);if(!n)return;const r=this.transformCrossOriginEvent(n,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(t,e){var n;switch(e.type){case Ko.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const n=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(e.data.node,n),{timestamp:e.timestamp,type:Ko.IncrementalSnapshot,data:{source:Go.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ko.Meta:case Ko.Load:case Ko.DomContentLoaded:return!1;case Ko.Plugin:return e;case Ko.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Ko.IncrementalSnapshot:switch(e.data.source){case Go.Mutation:return e.data.adds.forEach((e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const n=this.crossOriginIframeRootIdMap.get(t);n&&this.patchRootIdOnNode(e.node,n)})),e.data.removes.forEach((e=>{this.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((e=>{this.replaceIds(e,t,["id"])})),e.data.texts.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Go.Drag:case Go.TouchMove:case Go.MouseMove:return e.data.positions.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Go.ViewportResize:return!1;case Go.MediaInteraction:case Go.MouseInteraction:case Go.Scroll:case Go.CanvasMutation:case Go.Input:return this.replaceIds(e.data,t,["id"]),e;case Go.StyleSheetRule:case Go.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case Go.Font:return e;case Go.Selection:return e.data.ranges.forEach((e=>{this.replaceIds(e,t,["start","end"])})),e;case Go.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null===(n=e.data.styles)||void 0===n||n.forEach((e=>{this.replaceStyleIds(e,t,["styleId"])})),e}}return!1}replace(t,e,n,r){for(const s of r)(Array.isArray(e[s])||"number"==typeof e[s])&&(Array.isArray(e[s])?e[s]=t.getIds(n,e[s]):e[s]=t.getId(n,e[s]));return e}replaceIds(t,e,n){return this.replace(this.crossOriginIframeMirror,t,e,n)}replaceStyleIds(t,e,n){return this.replace(this.crossOriginIframeStyleMirror,t,e,n)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach((t=>{this.replaceIdOnNode(t,e)}))}patchRootIdOnNode(t,e){t.type===zi.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach((t=>{this.patchRootIdOnNode(t,e)}))}}class Ia{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ra{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!Wi(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t);const n=pa(Object.assign(Object.assign({},this.bypassOptions),{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(ma(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout((()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Sa({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))}),0)}observeAttachShadow(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,e){const n=this;this.restoreHandlers.push(Do(t.prototype,"attachShadow",(function(t){return function(r){const s=t.call(this,r);return this.shadowRoot&&Yo(this)&&n.addShadowRoot(this.shadowRoot,e),s}})))}reset(){this.restoreHandlers.forEach((t=>{try{t()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Ma{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class Oa{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new qo,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const n={id:e,styleIds:[]},r=[];for(const e of t){let t;this.styleMirror.has(e)?t=this.styleMirror.getId(e):(t=this.styleMirror.add(e),r.push({styleId:t,rules:Array.from(e.rules||CSSRule,((t,e)=>({rule:Yi(t),index:e})))})),n.styleIds.push(t)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Da{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(t,e){const n=this.nodeMap.get(t);return n&&Array.from(n).some((t=>t!==e))}add(t,e){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function Na(t){const e=t;return e.timestamp=No(),e}let Aa,La;const Pa=new Ki;function $a(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,packFn:S,sampling:k={},dataURLOptions:w={},mousemoveWait:E,recordCanvas:T=!1,recordCrossOriginIframes:x=!1,recordAfter:C=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:R=!1,inlineImages:M=!1,plugins:O,keepIframeSrcFn:D=(()=>!1),ignoreCSSAttributes:N=new Set([]),errorHandler:A,onMutation:L,getCanvasManager:P}=t;ca(A);const $=!x||window.parent===window;let F=!1;if(!$)try{window.parent.document&&(F=!1)}catch(t){F=!0}if($&&!e)throw new Error("emit function is required");void 0!==E&&void 0===k.mousemove&&(k.mousemove=E),Pa.reset();const j=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},B=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let U;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let H=0;const z=t=>{for(const e of O||[])e.eventProcessor&&(t=e.eventProcessor(t));return S&&!F&&(t=S(t)),t},q=(t,s)=>{var i;if(!(null===(i=da[0])||void 0===i?void 0:i.isFrozen())||t.type===Ko.FullSnapshot||t.type===Ko.IncrementalSnapshot&&t.data.source===Go.Mutation||da.forEach((t=>t.unfreeze())),$)null==e||e(z(t),s);else if(F){const e={type:"rrweb",event:z(t),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(t.type===Ko.FullSnapshot)U=t,H=0;else if(t.type===Ko.IncrementalSnapshot){if(t.data.source===Go.Mutation&&t.data.isAttachIframe)return;H++;const e=r&&H>=r,s=n&&t.timestamp-U.timestamp>n;(e||s)&&Q(!0)}};Aa=q;const W=t=>{q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.Mutation},t)}))},V=t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.Scroll},t)})),Y=t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.CanvasMutation},t)})),K=new Oa({mutationCb:W,adoptedStyleSheetCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.AdoptedStyleSheet},t)}))}),G="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new xa:new Ca({mirror:Pa,mutationCb:W,stylesheetManager:K,recordCrossOriginIframes:x,wrappedEmit:q});for(const t of O||[])t.getMirror&&t.getMirror({nodeMirror:Pa,crossOriginIframeMirror:G.crossOriginIframeMirror,crossOriginIframeStyleMirror:G.crossOriginIframeStyleMirror});const J=new Da,X=Fa(P,{recordCanvas:T,blockClass:s,blockSelector:i,unblockSelector:o,sampling:k.canvas,dataURLOptions:w}),Z="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ia:new Ra({mutationCb:W,scrollCb:V,bypassOptions:{onMutation:L,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:j,dataURLOptions:w,maskAttributeFn:_,maskTextFn:b,maskInputFn:v,recordCanvas:T,inlineImages:M,sampling:k,slimDOMOptions:B,iframeManager:G,stylesheetManager:K,canvasManager:X,keepIframeSrcFn:D,processedNodeManager:J},mirror:Pa}),Q=(t=!1)=>{q(Na({type:Ko.Meta,data:{href:window.location.href,width:Po(),height:Lo()}}),t),K.reset(),Z.init(),da.forEach((t=>t.lock()));const e=function(t,e){const{mirror:n=new Ki,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:_=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:x=(()=>!1)}=e||{};return xo(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:v,inlineImages:h,recordCanvas:p,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:x,newlyAddedElement:!1})}(document,{mirror:Pa,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskAllInputs:j,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,slimDOM:B,dataURLOptions:w,recordCanvas:T,inlineImages:M,onSerialize:t=>{Uo(t,Pa)&&G.addIframe(t),Ho(t,Pa)&&K.trackLinkElement(t),zo(t)&&Z.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{G.attachIframe(t,e),Z.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{K.attachLinkElement(t,e)},keepIframeSrcFn:D});if(!e)return console.warn("Failed to snapshot the document");q(Na({type:Ko.FullSnapshot,data:{node:e,initialOffset:Ao(window)}})),da.forEach((t=>t.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&K.adoptStyleSheets(document.adoptedStyleSheets,Pa.getId(document))};La=Q;try{const t=[],e=t=>{var e;return la(ka)({onMutation:L,mutationCb:W,mousemoveCb:(t,e)=>q(Na({type:Ko.IncrementalSnapshot,data:{source:e,positions:t}})),mouseInteractionCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.MouseInteraction},t)})),scrollCb:V,viewportResizeCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.ViewportResize},t)})),inputCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.Input},t)})),mediaInteractionCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.MediaInteraction},t)})),styleSheetRuleCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.StyleSheetRule},t)})),styleDeclarationCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.StyleDeclaration},t)})),canvasMutationCb:Y,fontCb:t=>q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.Font},t)})),selectionCb:t=>{q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.Selection},t)}))},customElementCb:t=>{q(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.CustomElement},t)}))},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:j,inlineStylesheet:f,sampling:k,recordCanvas:T,inlineImages:M,userTriggeredOnInput:I,collectFonts:R,doc:t,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,keepIframeSrcFn:D,blockSelector:i,unblockSelector:o,slimDOMOptions:B,dataURLOptions:w,mirror:Pa,iframeManager:G,stylesheetManager:K,shadowDomManager:Z,processedNodeManager:J,canvasManager:X,ignoreCSSAttributes:N,plugins:(null===(e=null==O?void 0:O.filter((t=>t.observer)))||void 0===e?void 0:e.map((t=>({observer:t.observer,options:t.options,callback:e=>q(Na({type:Ko.Plugin,data:{plugin:t.name,payload:e}}))}))))||[]},{})};G.addLoadListener((n=>{try{t.push(e(n.contentDocument))}catch(t){console.warn(t)}}));const n=()=>{Q(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(t.push(Co("DOMContentLoaded",(()=>{q(Na({type:Ko.DomContentLoaded,data:{}})),"DOMContentLoaded"===C&&n()}))),t.push(Co("load",(()=>{q(Na({type:Ko.Load,data:{}})),"load"===C&&n()}),window))),()=>{t.forEach((t=>t())),J.destroy(),La=void 0,ua()}}catch(t){console.warn(t)}}function Fa(t,e){return t?t(Object.assign(Object.assign({},e),{mirror:Pa,win:window,mutationCb:t=>function(t){Aa&&Aa(t)}(Na({type:Ko.IncrementalSnapshot,data:Object.assign({source:Go.CanvasMutation},t)}))})):new Ma}$a.mirror=Pa,$a.takeFullSnapshot=function(t){if(!La)throw new Error("please take full snapshot after start recording");La(t)};const ja=3;function Ba(t){return t>9999999999?t:1e3*t}function Ua(t){return t>9999999999?t/1e3:t}function Ha(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate((()=>(t.throttledAddEvent({type:Ko.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:Ct(e,10,1e3)}}),"console"===e.category))))}const za="button,a";function qa(t){return t.closest(za)||t}function Wa(t){const e=Va(t);return e&&e instanceof Element?qa(e):e}function Va(t){return function(t){return"object"==typeof t&&!!t&&"target"in t}(t)?t.target:t}let Ya;function Ka(t){return Ya||(Ya=[],N(Ai,"open",(function(t){return function(...e){if(Ya)try{Ya.forEach((t=>t()))}catch(t){}return t.apply(Ai,e)}}))),Ya.push(t),()=>{const e=Ya?Ya.indexOf(t):-1;e>-1&&Ya.splice(e,1)}}class Ga{constructor(t,e,n=Ha){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=e.timeout/1e3,this._threshold=e.threshold/1e3,this._scollTimeout=e.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=e.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=Ka((()=>{this._lastMutation=Xa()}));this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,e){if(function(t,e){if(!Ja.includes(t.tagName))return!0;if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||""))return!0;if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target")))return!0;if(e&&t.matches(e))return!0;return!1}(e,this._ignoreSelector)||!function(t){return!(!t.data||"number"!=typeof t.data.nodeId||!t.timestamp)}(t))return;const n={timestamp:Ua(t.timestamp),clickBreadcrumb:t,clickCount:0,node:e};this._clicks.some((t=>t.node===n.node&&Math.abs(t.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ua(t)}registerScroll(t=Date.now()){this._lastScroll=Ua(t)}registerClick(t){const e=qa(t);this._handleMultiClick(e)}_handleMultiClick(t){this._getClicks(t).forEach((t=>{t.clickCount++}))}_getClicks(t){return this._clicks.filter((e=>e.node===t))}_checkClicks(){const t=[],e=Xa();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=e&&t.push(n)}));for(const e of t){const t=this._clicks.indexOf(e);t>-1&&(this._generateBreadcrumbs(e),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const e=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,r=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!n&&!r,{clickCount:i,clickBreadcrumb:o}=t;if(s){const n=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:Ai.location.href,route:e.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(e,s)}else if(i>1){const t={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:Ai.location.href,route:e.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(e,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Ja=["A","BUTTON","INPUT"];function Xa(){return Date.now()/1e3}function Za(t,e){try{if(!function(t){return t.type===ja}(e))return;const{source:n}=e.data;if(n===Go.Mutation&&t.registerMutation(e.timestamp),n===Go.Scroll&&t.registerScroll(e.timestamp),function(t){return t.data.source===Go.MouseInteraction}(e)){const{type:n,id:r}=e.data,s=$a.mirror.getNode(r);s instanceof HTMLElement&&n===Jo.Click&&t.registerClick(s)}}catch(t){}}function Qa(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var tc;!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(tc||(tc={}));const ec=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function nc(t){const e={};for(const n in t)if(ec.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),e[r]=t[n]}return e}const rc=t=>e=>{if(!t.isEnabled())return;const n=function(t){const{target:e,message:n}=function(t){const e="click"===t.name;let n,r=null;try{r=e?Wa(t.event):Va(t.event),n=S(r,{maxStringLength:200})||"<unknown>"}catch(t){n="<unknown>"}return{target:r,message:n}}(t);return Qa({category:`ui.${t.name}`,...sc(e,n)})}(e);if(!n)return;const r="click"===e.name,s=r?e.event:void 0;!(r&&t.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||function(t,e,n){t.handleClick(e,n)}(t.clickDetector,n,Wa(e.event)),Ha(t,n)};function sc(t,e){const n=$a.mirror.getId(t),r=n&&$a.mirror.getNode(n),s=r&&$a.mirror.getMeta(r),i=s&&function(t){return t.type===tc.Element}(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((t=>t.type===tc.Text&&t.textContent)).filter(Boolean).map((t=>t.trim())).join(""),attributes:nc(i.attributes)}}:{}}}function ic(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=function(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=t;if(!o||function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(o)||!i)return null;const a=e||r||s,c=1===i.length;if(!a&&c)return null;const u=S(o,{maxStringLength:200})||"<unknown>",l=sc(o,u);return Qa({category:"ui.keyDown",message:u,data:{...l.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}(e);n&&Ha(t,n)}const oc={resource:function(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${e}.${n}`,start:cc(i),end:cc(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=cc(s);return{type:n,name:r,start:i,end:i+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:m}=t;if(0===s)return null;return{type:`${e}.${m}`,start:cc(p),end:cc(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:h}}}};function ac(t){return oc[t.entryType]?oc[t.entryType](t):null}function cc(t){return((rt.Z1||Ai.performance.timeOrigin)+t)/1e3}function uc(t){function e(e){t.performanceEntries.includes(e)||t.performanceEntries.push(e)}function n({entries:t}){t.forEach(e)}const r=[];return["navigation","paint","resource"].forEach((t=>{r.push(xi(t,n))})),r.push(Ti((({metric:e})=>{t.replayPerformanceEntries.push(function(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,s=t.value,i=cc(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?$a.mirror.getId(r):void 0}}}(e))}))),()=>{r.forEach((t=>t()))}}const lc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,dc='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function hc(t,e){lc&&(I.info(t),e&&fc(t))}function pc(t,e){lc&&(I.info(t),e&&setTimeout((()=>{fc(t)}),0))}function fc(t){Ft({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class mc extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class gc{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const e=JSON.stringify(t).length;if(this._totalSize+=e,this._totalSize>Bi)throw new mc;this.events.push(t)}finish(){return new Promise((t=>{const e=this.events;this.clear(),t(JSON.stringify(e))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map((t=>t.timestamp)).sort()[0];return t?Ba(t):null}}class yc{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((t,e)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?t():e()}),{once:!0}),this._worker.addEventListener("error",(t=>{e(t)}),{once:!0})}))),this._ensureReadyPromise}destroy(){hc("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise(((r,s)=>{const i=({data:e})=>{const o=e;if(o.method===t&&o.id===n){if(this._worker.removeEventListener("message",i),!o.success)return lc&&I.error("[Replay]",o.response),void s(new Error("Error in compression worker"));r(o.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:e})}))}_getAndIncrementId(){return this._id++}}class _c{constructor(t){this._worker=new yc(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=Ba(t.timestamp);(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>Bi?Promise.reject(new mc):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(t=>{lc&&I.warn('[Replay] Sending "clear" message to worker failed',t)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class vc{constructor(t){this._fallback=new gc,this._compression=new _c(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void hc("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:e}=this._fallback,n=[];for(const e of t)n.push(this._compression.addEvent(e));this._compression.hasCheckout=e,this._used=this._compression;try{await Promise.all(n)}catch(t){lc&&I.warn("[Replay] Failed to add events when switching buffers.",t)}}}function bc({useCompression:t,workerUrl:e}){if(t&&window.Worker){const t=function(t){try{const e=t||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const t=new Blob([dc]);return URL.createObjectURL(t)}();return""}();if(!e)return;hc("[Replay] Using compression worker"+(t?` from ${t}`:""));const n=new Worker(e);return new vc(n)}catch(t){hc("[Replay] Failed to create compression worker")}}(e);if(t)return t}return hc("[Replay] Using simple buffer"),new gc}function Sc(){try{return"sessionStorage"in Ai&&!!Ai.sessionStorage}catch(t){return!1}}function kc(t){!function(){if(!Sc())return;try{Ai.sessionStorage.removeItem(Li)}catch(t){}}(),t.session=void 0}function wc(t){return void 0!==t&&Math.random()<t}function Ec(t){const e=Date.now();return{id:t.id||H(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,previousSessionId:t.previousSessionId}}function Tc(t){if(Sc())try{Ai.sessionStorage.setItem(Li,JSON.stringify(t))}catch(t){}}function xc({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=function(t,e){return wc(t)?"session":!!e&&"buffer"}(t,e),i=Ec({sampled:s,previousSessionId:r});return n&&Tc(i),i}function Cc(t,e,n=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=n}function Ic(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return Cc(t.started,e,r)||Cc(t.lastActivity,n,r)}function Rc(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!!Ic(t,{sessionIdleExpire:e,maxReplayDuration:n})&&("buffer"!==t.sampled||0!==t.segmentId)}function Mc({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&function(t){if(!Sc())return null;try{const e=Ai.sessionStorage.getItem(Li);if(!e)return null;const n=JSON.parse(e);return pc("[Replay] Loading existing session",t),Ec(n)}catch(t){return null}}(t);return i?Rc(i,{sessionIdleExpire:e,maxReplayDuration:n})?(pc("[Replay] Session in sessionStorage is expired, creating new one..."),xc(s,{previousSessionId:i.id})):i:(pc("[Replay] Creating new session",t),xc(s,{previousSessionId:r}))}function Oc(t,e,n){return!!Nc(t,e)&&(Dc(t,e,n),!0)}async function Dc(t,e,n){if(!t.eventBuffer)return null;try{n&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=function(t,e){try{if("function"==typeof e&&function(t){return t.type===Ko.Custom}(t))return e(t)}catch(t){return lc&&I.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",t),null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!r)return;return await t.eventBuffer.addEvent(r)}catch(e){const n=e&&e instanceof mc?"addEventSizeExceeded":"addEvent";lc&&I.error(e),await t.stop({reason:n});const r=Jt();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Nc(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Ba(e.timestamp);return!(n+t.timeouts.sessionIdlePause<Date.now())&&(!(n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(hc(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1))}function Ac(t){return!t.type}function Lc(t){return"transaction"===t.type}function Pc(t){return"feedback"===t.type}function $c(t){const e=function(){const t=Jt();if(!t)return!1;const e=t.getTransport();if(!e)return!1;return e.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!t.isEnabled()||!Ac(n)&&!Lc(n))return;const s=r&&r.statusCode;e&&(!s||s<200||s>=300)||(Lc(n)?function(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}(t,n):function(t,e){const n=t.getContext();e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id);if("buffer"!==t.recordingMode||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();if("function"==typeof r&&!r(e))return;setTimeout((()=>{t.sendBufferedReplayOrFlush()}))}(t,n))}}function Fc(t){return e=>{t.isEnabled()&&Ac(e)&&function(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Ha(t,Qa({category:"replay.hydrate-error"}))}}(t,e)}}function jc(t,e=!1){const n=e?$c(t):void 0;return Object.assign(((e,r)=>{if(!t.isEnabled())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!Ac(e)&&!Lc(e)&&!Pc(e))return e;if(!t.checkAndHandleExpiredSession())return e;if(Pc(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),function(t,e){t.triggerUserActivity(),t.addUpdate((()=>!e.timestamp||(t.throttledAddEvent({type:Ko.Custom,timestamp:1e3*e.timestamp,data:{timestamp:e.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1)))}(t,e),e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length||!e.originalException||!e.originalException.__rrweb__)}(e,r)&&!t.getOptions()._experiments.captureExceptions)return lc&&I.log("[Replay] Ignoring error from rrweb internals",e),null;const s=function(t,e){return"buffer"===t.recordingMode&&e.message!==$i&&!(!e.exception||e.type)&&wc(t.getOptions().errorSampleRate)}(t,e);return(s||"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),n&&n(e,{statusCode:200}),e}),{id:"Replay"})}function Bc(t,e){return e.map((({type:e,start:n,end:r,name:s,data:i})=>{const o=t.throttledAddEvent({type:Ko.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:e,description:s,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof o?Promise.resolve(null):o}))}function Uc(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate((()=>(Bc(t,[n]),!1))))}}function Hc(t,e){t.isEnabled()&&null!==e&&(function(t,e){return(!lc||!t.getOptions()._experiments.traceInternals)&&ni(e,Jt())}(t,e.name)||t.addUpdate((()=>(Bc(t,[e]),!0))))}function zc(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,s=r[Ts];if(!e||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return void 0===o?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(e);Hc(t,n)}}function qc(t,e){if(t)try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=Zc(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function Wc(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Vc(t){try{if("string"==typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[Zc(t)];if(!t)return[void 0]}catch(e){return lc&&I.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return lc&&I.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Yc(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function Kc(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:B({method:i,statusCode:o,request:a,response:c})}}function Gc(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Jc(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=function(t){if(!t||"string"!=typeof t)return{body:t};const e=t.length>Fi,n=function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t);if(e){const e=t.slice(0,Fi);return n?{body:e,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${e}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(t){}return{body:t}}(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function Xc(t,e){return Object.keys(t).reduce(((n,r)=>{const s=r.toLowerCase();return e.includes(s)&&t[r]&&(n[s]=t[r]),n}),{})}function Zc(t){return new URLSearchParams(t).toString()}function Qc(t,e){const n=function(t,e=Ai.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Ai.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;if(!t.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(t);return D(n,e)}async function tu(t,e,n){try{const r=await async function(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,d=Qc(o,n.networkDetailAllowUrls)&&!Qc(o,n.networkDetailDenyUrls),h=d?function({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?function(t,e){if(1===t.length&&"string"!=typeof t[0])return ru(t[0],e);if(2===t.length)return ru(t[1],e);return{}}(n,e):{};if(!t)return Jc(s,r,void 0);const i=eu(n),[o,a]=Vc(i),c=Jc(s,r,o);if(a)return Yc(c,a);return c}(n,e.input,u):Gc(u),p=await async function(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&void 0!==i)return Gc(i);const o=s?nu(s.headers,r):{};if(!s||!e&&void 0!==i)return Jc(o,i,void 0);const[a,c]=await async function(t){const e=function(t){try{return t.clone()}catch(t){lc&&I.warn("[Replay] Failed to clone response body",t)}}(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{const t=await function(t){return new Promise(((e,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(t){return await t.text()})(t).then((t=>e(t)),(t=>n(t))).finally((()=>clearTimeout(r)))}))}(e);return[t]}catch(t){return lc&&I.warn("[Replay] Failed to get text body from response",t),[void 0,"BODY_PARSE_ERROR"]}}(s),u=function(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&void 0===r?qc(t,n):r;return s?Jc(i,o,e?t:void 0):Gc(o)}catch(t){return lc&&I.warn("[Replay] Failed to serialize response body",t),Jc(i,r,void 0)}}(a,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:o});if(c)return Yc(u,c);return u}(d,n,e.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:h,response:p}}(t,e,n),s=Kc("resource.fetch",r);Hc(n.replay,s)}catch(t){lc&&I.error("[Replay] Failed to capture fetch breadcrumb",t)}}function eu(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function nu(t,e){const n={};return e.forEach((e=>{t.get(e)&&(n[e]=t.get(e))})),n}function ru(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?nu(n,e):Array.isArray(n)?{}:Xc(n,e):{}}async function su(t,e,n){try{const r=function(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:h}=t.data;if(!c)return null;if(!a||!Qc(c,n.networkDetailAllowUrls)||Qc(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:Gc(d),response:Gc(h)}}const p=a[Ts],f=p?Xc(p.request_headers,n.networkRequestHeaders):{},m=Xc(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[n,r]=e.split(": ");return t[n.toLowerCase()]=r,t}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Vc(o):[void 0],[_,v]=n.networkCaptureBodies?function(t){const e=[];try{return[t.responseText]}catch(t){e.push(t)}try{return function(t,e){try{if("string"==typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"==typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(e){return lc&&I.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return lc&&I.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(t){e.push(t)}return lc&&I.warn("[Replay] Failed to get xhr response body",...e),[void 0]}(a):[void 0],b=Jc(f,d,g),S=Jc(m,h,_);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:y?Yc(b,y):b,response:v?Yc(S,v):S}}(t,e,n),s=Kc("resource.xhr",r);Hc(n.replay,s)}catch(t){lc&&I.error("[Replay] Failed to capture xhr breadcrumb",t)}}function iu(t,e,n){const{xhr:r,input:s}=e;if(!r)return;const i=qc(s,n.textEncoder),o=r.getResponseHeader("content-length")?Wc(r.getResponseHeader("content-length")):function(t,e,n){try{return qc("json"===e&&t&&"object"==typeof t?JSON.stringify(t):t,n)}catch(t){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}function ou(t){const e=Jt();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(iu(e,n,t),su(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(n)&&(!function(t,e,n){const{input:r,response:s}=e,i=qc(r?eu(r):void 0,n.textEncoder),o=s?Wc(s.headers.get("content-length")):void 0;void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}(e,n,t),tu(e,n,t))}catch(t){lc&&I.warn("Error when enriching network breadcrumb")}}(c,t,e))):(Is(function(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:s}=t;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}(e);Hc(t,n)}}(t)),xs(zc(t)))}catch(t){}}let au=null;const cu=t=>e=>{if(!t.isEnabled())return;const n=function(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();if(au===e||!e)return null;if(au=e,!function(t){return!!t.category}(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return Qa(t);let n=!1;const r=e.map((t=>{if(!t)return t;if("string"==typeof t)return t.length>ji?(n=!0,`${t.slice(0,ji)}…`):t;if("object"==typeof t)try{const e=Ct(t,7);return JSON.stringify(e).length>ji?(n=!0,`${JSON.stringify(e,null,2).slice(0,ji)}…`):e}catch(t){}return t}));return Qa({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return Qa(e)}(e);n&&Ha(t,n)};function uu(t){return!(!t||!t.on)}function lu(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function du(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession())return void(lc&&I.warn("[Replay] Received replay event after session expired."));const s=r||!e;e=!0,t.clickDetector&&Za(t.clickDetector,n),t.addUpdate((()=>{if("buffer"===t.recordingMode&&s&&t.setInitialState(),!Oc(t,n,s))return!0;if(!s)return!1;if(function(t,e){if(!e||!t.session||0!==t.session.segmentId)return;Oc(t,function(t){const e=t.getOptions();return{type:Ko.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}(t),!1)}(t,s),t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){const e=t.eventBuffer.getEarliestTimestamp();e&&(hc(`[Replay] Updating session start time to earliest event in buffer to ${new Date(e)}`,t.getOptions()._experiments.traceInternals),t.session.started=e,t.getOptions().stickySession&&Tc(t.session))}return"session"===t.recordingMode&&t.flush(),!0}))}}async function hu({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=function({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}\n`;if("string"==typeof t)n=`${r}${t}`;else{const e=(new TextEncoder).encode(r);n=new Uint8Array(e.length+t.length),n.set(e),n.set(t,e.length)}return n}({recordingData:t,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=Jt(),h=Xt(),p=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&p&&f&&i.sampled))return;const m={type:Pi,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:e,segment_id:n,replay_type:i.sampled},g=await async function({client:t,scope:e,replayId:n,event:r}){const s={event_id:n,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit&&t.emit("preprocessEvent",r,s);const i=await Mt(t.getOptions(),r,s,e,t);if(!i)return null;i.platform=i.platform||"javascript";const o=t.getSdkMetadata&&t.getSdkMetadata(),{name:a,version:c}=o&&o.sdk||{};return i.sdk={...i.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:h,client:d,replayId:e,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),void hc("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(t,e,n,r){return Cn(Pn(t,Ln(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(g,o,f,d.getOptions().tunnel);let _;try{_=await p.send(y)}catch(t){const e=new Error($i);try{e.cause=t}catch(t){}throw e}if(!_)return _;if("number"==typeof _.statusCode&&(_.statusCode<200||_.statusCode>=300))throw new pu(_.statusCode);const v=Kn({},_);if(Yn(v,"replay"))throw new fu(v);return _}class pu extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class fu extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function mu(t,e={count:0,interval:5e3}){const{recordingData:n,options:r}=t;if(n.length)try{return await hu(t),!0}catch(n){if(n instanceof pu||n instanceof fu)throw n;if(jt("Replays",{_retryCount:e.count}),lc&&r._experiments&&r._experiments.captureExceptions&&At(n),e.count>=3){const t=new Error(`${$i} - max retries exceeded`);try{t.cause=n}catch(t){}throw t}return e.interval*=++e.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await mu(t,e),n(!0)}catch(t){r(t)}}),e.interval)}))}}const gu="__THROTTLED";function yu(t,e,n){const r=new Map;let s=!1;return(...i)=>{const o=Math.floor(Date.now()/1e3);if((t=>{const e=t-n;r.forEach(((t,n)=>{n<e&&r.delete(n)}))})(o),[...r.values()].reduce(((t,e)=>t+e),0)>=e){const t=s;return s=!0,t?"__SKIPPED":gu}s=!1;const a=r.get(o)||0;return r.set(o,a+1),t(...i)}}class _u{constructor({options:t,recordingOptions:e}){_u.prototype.__init.call(this),_u.prototype.__init2.call(this),_u.prototype.__init3.call(this),_u.prototype.__init4.call(this),_u.prototype.__init5.call(this),_u.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return c(),r=t(),r}function c(){void 0!==s&&clearTimeout(s),void 0!==i&&clearTimeout(i),s=i=void 0}function u(){return s&&clearTimeout(s),s=setTimeout(a,e),o&&void 0===i&&(i=setTimeout(a,o)),r}return u.cancel=c,u.flush=function(){return void 0!==s||void 0!==i?a():r},u}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=yu(((t,e)=>function(t,e,n){return Nc(t,e)?Dc(t,e,n):Promise.resolve(null)}(this,t,e)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),s=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;s&&(this.clickDetector=new Ga(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:n}=this._options;e<=0&&n<=0||(this._initializeSessionForSampling(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",pc(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");pc("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=Mc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");pc("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=Mc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._options._experiments.canvas;this._stopRecording=$a({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:du(this),onMutation:this._onMutationHandler,...t&&t.manager&&{recordCanvas:!0,getCanvasManager:t.manager,...Hi[t.quality||"medium"]||Hi.medium}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:e}={}){if(this._isEnabled){this._isEnabled=!1;try{hc("[Replay] Stopping Replay"+(e?` triggered by ${e}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,kc(this)}catch(t){this._handleException(t)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),hc("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),hc("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();hc("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();t&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(e),this._updateSessionActivity(e),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Cc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const t=`${Ai.location.pathname}${Ai.location.hash}${Ai.location.search}`,e=`${Ai.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}throttledAddEvent(t,e){const n=this._throttledAddEvent(t,e);if(n===gu){const t=Qa({category:"replay.throttled"});this.addUpdate((()=>!Oc(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}})))}return n}getCurrentRoute(){const t=this.lastTransaction||Xt().getTransaction();if(t&&["route","custom"].includes(t.metadata.source))return t.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=bc({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){lc&&I.error("[Replay]",t),lc&&this._options._experiments&&this._options._experiments.captureExceptions&&At(t)}_initializeSessionForSampling(t){const e=this._options.errorSampleRate>0,n=Mc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:e});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return!Rc(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Ai.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ai.addEventListener("blur",this._handleWindowBlur),Ai.addEventListener("focus",this._handleWindowFocus),Ai.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){const e=Xt(),n=Jt();e.addScopeListener(cu(t)),Ss(rc(t)),es(Uc(t)),ou(t);const r=jc(t,!uu(n));n&&n.addEventProcessor?n.addEventProcessor(r):ur(r),uu(n)&&(n.on("beforeSendEvent",Fc(t)),n.on("afterSendEvent",$c(t)),n.on("createDsc",(e=>{const n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&t.checkAndHandleExpiredSession()&&(e.replay_id=n)})),n.on("startTransaction",(e=>{t.lastTransaction=e})),n.on("finishTransaction",(e=>{t.lastTransaction=e})),n.on("beforeSendFeedback",((e,n)=>{const r=t.getSessionId();n&&n.includeReplay&&t.isEnabled()&&r&&(t.flush(),e.contexts&&e.contexts.feedback&&(e.contexts.feedback.replay_id=r))})))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=uc(this)}_removeListeners(){try{Ai.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ai.removeEventListener("blur",this._handleWindowBlur),Ai.removeEventListener("focus",this._handleWindowFocus),Ai.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{"visible"===Ai.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Qa({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Qa({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{ic(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;Ic(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):hc("[Replay] Document has become active, but session has expired")}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate((()=>{this.throttledAddEvent({type:Ko.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})}))}_addPerformanceEntries(){const t=(e=this.performanceEntries,e.map(ac).filter(Boolean)).concat(this.replayPerformanceEntries);var e;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Bc(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Bc(t,[lu(Ai.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await mu({replayId:t,recordingData:s,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:e})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});const e=Jt();e&&e.recordDroppedEvent("send_error","replay")}}else lc&&I.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession())return void(lc&&I.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const e=this.session.started,n=Date.now()-e;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(r||s)return hc(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&hc("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(t){lc&&I.error(t)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Tc(this.session)}__init6(){this._onMutationHandler=t=>{const e=t.length,n=this._options.mutationLimit,r=n&&e>n;if(e>this._options.mutationBreadcrumbLimit||r){const t=Qa({category:"replay.mutations",data:{count:e,limit:r}});this._createCustomBreadcrumb(t)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function vu(t,e,n,r){const s=[...t,..."string"==typeof r?r.split(","):[],...e];return void 0!==n&&("string"==typeof n&&s.push(`.${n}`),C((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),s.join(",")}const bu='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Su=["content-length","content-type","accept"];let ku=!1;class wu{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:s=!0,useCompression:i=!0,workerUrl:o,_experiments:a={},sessionSampleRate:c,errorSampleRate:u,maskAllText:l=!0,maskAllInputs:d=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:k=[],maskAttributes:w=["title","placeholder"],unmask:E=[],block:T=[],unblock:x=[],ignore:C=[],maskFn:I,beforeAddRecordingEvent:R,beforeErrorSampling:M,blockClass:O,blockSelector:D,maskInputOptions:N,maskTextClass:A,maskTextSelector:L,ignoreClass:P}={}){this.name=wu.id;const $=function({mask:t,unmask:e,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l={maskTextSelector:vu(t,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:vu(e,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:vu(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,o),unblockSelector:vu(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:vu(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(l.blockClass=i),a instanceof RegExp&&(l.maskTextClass=a),l}({mask:k,unmask:E,block:T,unblock:x,ignore:C,blockClass:O,blockSelector:D,maskTextClass:A,maskTextSelector:L,ignoreClass:P});if(this._recordingOptions={maskAllInputs:d,maskAllText:l,maskInputOptions:{...N||{},password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(t,e,n)=>function({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return r?s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||"value"===e&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:w,maskAllText:l,privacyOptions:$,key:t,value:e,el:n}),...$,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,Ui),stickySession:s,sessionSampleRate:c,errorSampleRate:u,useCompression:i,workerUrl:o,blockAllMedia:h,maskAllInputs:d,maskAllText:l,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:Eu(b),networkResponseHeaders:Eu(S),beforeAddRecordingEvent:R,beforeErrorSampling:M,_experiments:a},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof u&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${bu}`:bu),this._isInitialized&&ii())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ku}set _isInitialized(t){ku=t}setupOnce(){ii()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=function(t){const e=Jt(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...B(t)};if(!n)return C((()=>{console.warn("SDK client is not available.")})),r;null==t.sessionSampleRate&&null==t.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&C((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new _u({options:t,recordingOptions:this._recordingOptions})}}function Eu(t){return[...Su,...t.map((t=>t.toLowerCase()))]}wu.__initStatic();const Tu=_.n2,xu="#ffffff",Cu="inherit",Iu="rgba(108, 95, 199, 1)",Ru={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:xu,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Iu,submitBorder:Iu,submitOutlineFocus:"#29232f",submitForeground:xu,submitForegroundHover:xu,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Cu,inputForeground:Cu,inputBorder:"var(--border)",inputOutlineFocus:Iu},Mu=Ru,Ou={...Ru,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},Du="widget",Nu="api";async function Au({feedback:{message:t,email:e,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=Jt(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:e,name:n,message:t,url:s,source:r}},type:"feedback"};return Wt((async t=>{t.clearBreadcrumbs(),[Nu,Du].includes(String(r))&&t.setLevel("info");const e=await async function({client:t,scope:e,event:n}){const r={};t.emit&&t.emit("preprocessEvent",n,r);const s=await Mt(t.getOptions(),n,r,e,t);return null===s?(t.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}({scope:t,client:o,event:u});if(!e)return;o.emit&&o.emit("beforeSendFeedback",e,{includeReplay:Boolean(i)});const n=rr(e,c,o.getOptions()._metadata,o.getOptions().tunnel);let s;try{s=await a.send(n)}catch(t){const e=new Error("Unable to send Feedback");try{e.cause=t}catch(t){}throw e}if(s){if("number"==typeof s.statusCode&&(s.statusCode<200||s.statusCode>=300))throw new Error("Unable to send Feedback");return s}}))}const Lu="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Pu(t,e){return{...t,...e,themeDark:{...t.themeDark,...e.themeDark},themeLight:{...t.themeLight,...e.themeLight}}}function $u(t){return`\n  --background: ${t.background};\n  --background-hover: ${t.backgroundHover};\n  --foreground: ${t.foreground};\n  --error: ${t.error};\n  --success: ${t.success};\n  --border: ${t.border};\n  --box-shadow: ${t.boxShadow};\n\n  --submit-background: ${t.submitBackground};\n  --submit-background-hover: ${t.submitBackgroundHover};\n  --submit-border: ${t.submitBorder};\n  --submit-outline-focus: ${t.submitOutlineFocus};\n  --submit-foreground: ${t.submitForeground};\n  --submit-foreground-hover: ${t.submitForegroundHover};\n\n  --cancel-background: ${t.cancelBackground};\n  --cancel-background-hover: ${t.cancelBackgroundHover};\n  --cancel-border: ${t.cancelBorder};\n  --cancel-outline-focus: ${t.cancelOutlineFocus};\n  --cancel-foreground: ${t.cancelForeground};\n  --cancel-foreground-hover: ${t.cancelForegroundHover};\n\n  --input-background: ${t.inputBackground};\n  --input-foreground: ${t.inputForeground};\n  --input-border: ${t.inputBorder};\n  --input-outline-focus: ${t.inputOutlineFocus};\n  `}function Fu({id:t,colorScheme:e,themeDark:n,themeLight:r}){try{const s=Tu.document,i=s.createElement("div");i.id=t;const o=i.attachShadow({mode:"open"});return o.appendChild(function(t,e,n){const r=t.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${$u("dark"===e?n.dark:n.light)}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${$u(n.dark)}\n  }\n}`:""}\n}`,r}(s,e,{dark:n,light:r})),o.appendChild(function(t){const e=t.createElement("style");return e.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: 20px;\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: 6px;\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: 12px;\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",e}(s)),{shadow:o,host:i}}catch(t){throw I.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function ju(t,e,n){if(!t)return;t.hideError();try{const t=await function({name:t,email:e,message:n,source:r=Nu,url:s=w()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Au({feedback:{name:t,email:e,message:n,url:s,source:r}},i)}({...e,source:Du},n);return t}catch(e){Lu&&I.error(e),t&&t.showError("There was a problem submitting feedback, please wait and try again.")}}function Bu(t,e){return Object.entries(e).forEach((([e,n])=>{t.setAttributeNS(null,e,n)})),t}const Uu=20,Hu="http://www.w3.org/2000/svg";function zu(t,e,...n){const r=Tu.document.createElement(t);e&&Object.entries(e).forEach((([t,e])=>{"className"===t&&"string"==typeof e?r.setAttribute("class",e):"boolean"==typeof e&&e?r.setAttribute(t,""):"string"==typeof e?r.setAttribute(t,e):t.startsWith("on")&&"function"==typeof e&&r.addEventListener(t.substring(2).toLowerCase(),e)}));for(const t of n)qu(r,t);return r}function qu(t,e){const n=Tu.document;if(null!=e)if(Array.isArray(e))for(const n of e)qu(t,n);else!1===e||("string"==typeof e?t.appendChild(n.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(n.createTextNode(String(e))))}function Wu({buttonLabel:t,onClick:e}){const n=zu("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},function(){const t=t=>Tu.document.createElementNS(Hu,t),e=Bu(t("svg"),{class:"feedback-icon",width:`${Uu}`,height:`${Uu}`,viewBox:`0 0 ${Uu} ${Uu}`,fill:"none"}),n=Bu(t("g"),{clipPath:"url(#clip0_57_80)"}),r=Bu(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const s=t("defs"),i=Bu(t("clipPath"),{id:"clip0_57_80"}),o=Bu(t("rect"),{width:`${Uu}`,height:`${Uu}`,fill:"white"});return i.appendChild(o),s.appendChild(i),e.appendChild(s).appendChild(i).appendChild(o),{get el(){return e}}}().el,t?zu("span",{className:"widget__actor__text"},t):null);return n.addEventListener("click",(function(t){e&&e(t)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function Vu(t,e){const n=t.get(e);return"string"==typeof n?n.trim():""}function Yu({nameLabel:t,namePlaceholder:e,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,cancelButtonLabel:o,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:h,defaultEmail:p,onCancel:f,onSubmit:m}){const{el:g}=function({label:t}){return{el:zu("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}({label:a});const y=zu("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const _=zu("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:e,value:h}),v=zu("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:p}),b=zu("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),S=zu("button",{type:"button",className:"btn btn--default","aria-label":o,onClick:t=>{f&&f(t)}},o),k=zu("form",{className:"form",onSubmit:function(t){if(t.preventDefault(),t.target instanceof HTMLFormElement)try{if(m){const e=new FormData(t.target),n={name:Vu(e,"name"),email:Vu(e,"email"),message:Vu(e,"message")};m(n)}}catch(t){}}},[y,c&&zu("label",{htmlFor:"name",className:"form__label"},[zu("span",{className:"form__label__text"},t,l&&zu("span",{className:"form__label__text--required"}," (required)")),_]),!c&&_,u&&zu("label",{htmlFor:"email",className:"form__label"},[zu("span",{className:"form__label__text"},n,d&&zu("span",{className:"form__label__text--required"}," (required)")),v]),!u&&v,zu("label",{htmlFor:"message",className:"form__label"},[zu("span",{className:"form__label__text"},s,zu("span",{className:"form__label__text--required"}," (required)")),b]),zu("div",{className:"btn-group"},[g,S])]);return{get el(){return k},showError:function(t){y.textContent=t,y.classList.remove("form__error-container--hidden"),y.setAttribute("aria-hidden","false")},hideError:function(){y.textContent="",y.classList.add("form__error-container--hidden"),y.setAttribute("aria-hidden","true")}}}const Ku="http://www.w3.org/2000/svg";function Gu({formTitle:t,showBranding:e,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...h}){let p=null;function f(){p&&(p.open=!1)}const{el:m,showError:g,hideError:y}=Yu({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...h});return p=zu("dialog",{className:"dialog",open:!0,onClick:function(){f(),u&&u()}},zu("div",{className:"dialog__content",onClick:t=>{t.stopPropagation()}},zu("h2",{className:"dialog__header"},t,e&&zu("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:t}){const e=t=>Tu.document.createElementNS(Ku,t),n=Bu(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Bu(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=e("defs"),i=e("style");return"system"===t&&(i.textContent="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),i.textContent=`\n    path {\n      fill: ${"dark"===t?"#fff":"#362d59"};\n    }`,s.append(i),n.append(s),{get el(){return n}}}({colorScheme:o}).el)),m)),{get el(){return p},showError:g,hideError:y,open:function(){p&&(p.open=!0)},close:f,checkIsOpen:function(){return p&&!0===p.open||!1}}}const Ju=16,Xu=17,Zu="http://www.w3.org/2000/svg";function Qu({message:t,onRemove:e}){function n(){r&&(r.remove(),e&&e())}const r=zu("div",{className:"success-message",onClick:n},function(){const t=t=>Tu.document.createElementNS(Zu,t),e=Bu(t("svg"),{class:"success-icon",width:`${Ju}`,height:`${Xu}`,viewBox:`0 0 ${Ju} ${Xu}`,fill:"none"}),n=Bu(t("g"),{clipPath:"url(#clip0_57_156)"}),r=Bu(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Bu(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(s,r);const i=t("defs"),o=Bu(t("clipPath"),{id:"clip0_57_156"}),a=Bu(t("rect"),{width:`${Ju}`,height:`${Ju}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(a),{get el(){return e}}}().el,t);return{el:r,remove:n}}function tl({shadow:t,options:{shouldCreateActor:e=!0,...n},attachTo:r}){let s,i,o=!1;async function a(e){if(!i)return;const r=[];if(n.isNameRequired&&!e.name&&r.push(n.nameLabel),n.isEmailRequired&&!e.email&&r.push(n.emailLabel),e.message||r.push(n.messageLabel),r.length>0)return void i.showError(`Please enter in the following required fields: ${r.join(", ")}`);await ju(i,e)?(h(),function(){if(t)try{const e=Qu({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),c()}});if(!e.el)throw new Error("Unable to show success message");t.appendChild(e.el);const r=setTimeout((()=>{e&&e.remove()}),5e3)}catch(t){I.error(t)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){s&&s.show()}function u(){s&&s.hide()}function l(){try{if(i)return i.open(),o=!0,void(n.onFormOpen&&n.onFormOpen());const e=n.useSentryUser,r=Xt(),s=r&&r.getUser();if(i=Gu({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:e&&s&&s[e.name]||"",defaultEmail:e&&s&&s[e.email]||"",onClosed:()=>{c(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{d(),c()},onSubmit:a}),!i.el)throw new Error("Unable to open Feedback dialog");t.appendChild(i.el),u(),n.onFormOpen&&n.onFormOpen()}catch(t){I.error(t)}}function d(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function h(){if(i){d();const t=i.el;t&&t.remove(),i=void 0}}function p(){o||l(),u()}return r?r.addEventListener("click",p):e&&(s=Wu({buttonLabel:n.buttonLabel,onClick:p}),s.el&&t.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:c,hideActor:u,removeActor:function(){s&&s.el&&s.el.remove()},openDialog:l,closeDialog:d,removeDialog:h}}const el=Tu.document;class nl{static __initStatic(){this.id="Feedback"}constructor({id:t="sentry-feedback",showBranding:e=!0,autoInject:n=!0,showEmail:r=!0,showName:s=!0,useSentryUser:i={email:"email",name:"username"},isEmailRequired:o=!1,isNameRequired:a=!1,themeDark:c,themeLight:u,colorScheme:l="system",buttonLabel:d="Report a Bug",cancelButtonLabel:h="Cancel",submitButtonLabel:p="Send Bug Report",formTitle:f="Report a Bug",emailPlaceholder:m="your.email@example.org",emailLabel:g="Email",messagePlaceholder:y="What's the bug? What did you expect?",messageLabel:_="Description",namePlaceholder:v="Your Name",nameLabel:b="Name",successMessageText:S="Thank you for your report!",onFormClose:k,onFormOpen:w,onSubmitError:E,onSubmitSuccess:T}={}){this.name=nl.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:t,showBranding:e,autoInject:n,isEmailRequired:o,isNameRequired:a,showEmail:r,showName:s,useSentryUser:i,colorScheme:l,themeDark:{...Ou,...c},themeLight:{...Mu,...u},buttonLabel:d,cancelButtonLabel:h,submitButtonLabel:p,formTitle:f,emailLabel:g,emailPlaceholder:m,messageLabel:_,messagePlaceholder:y,nameLabel:b,namePlaceholder:v,successMessageText:S,onFormClose:k,onFormOpen:w,onSubmitError:E,onSubmitSuccess:T}}setupOnce(){if(ii())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){Lu&&I.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,e){try{const n=Pu(this.options,e||{});return this._ensureShadowHost(n,(({shadow:e})=>{const r="string"==typeof t?el.querySelector(t):"function"==typeof t.addEventListener?t:null;if(!r)return Lu&&I.error("[Feedback] Unable to attach to target element"),null;const s=tl({shadow:e,options:n,attachTo:r});return this._widgets.add(s),this._widget||(this._widget=s),s}))}catch(t){return Lu&&I.error(t),null}}createWidget(t){try{return this._createWidget(Pu(this.options,t||{}))}catch(t){return Lu&&I.error(t),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(t){Lu&&I.error(t)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=el.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,(({shadow:e})=>{const n=tl({shadow:e,options:t});return!this._hasInsertedActorStyles&&n.actor&&(e.appendChild(function(t){const e=t.createElement("style");return e.textContent="\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",e}(el)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(t,e){let n=!1;if(!this._shadow||!this._host){const{id:e,colorScheme:r,themeLight:s,themeDark:i}=t,{shadow:o,host:a}=Fu({id:e,colorScheme:r,themeLight:s,themeDark:i});this._shadow=o,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const r=e({shadow:this._shadow,host:this._host});return n&&el.body.appendChild(this._host),r}}function rl(t,e,n,r,s="auto.http.browser"){if(!Qe()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const e=t.fetchData.__span;if(!e)return;const n=r[e];if(n){if(t.response){n.setHttpStatus(t.response.status);const e=t.response&&t.response.headers&&t.response.headers.get("content-length");if(e){const t=parseInt(e);t>0&&n.setData("http.response_content_length",t)}}else t.error&&n.setStatus("internal_error");n.finish(),delete r[e]}return}const o=Xt(),a=Jt(),c=o.getSpan(),{method:u,url:l}=t.fetchData,d=i&&c?c.startChild({data:{url:l,type:"fetch","http.method":u},description:`${u} ${l}`,op:"http.client",origin:s}):void 0;if(d&&(t.fetchData.__span=d.spanId,r[d.spanId]=d),n(t.fetchData.url)&&a){const e=t.args[0];t.args[1]=t.args[1]||{};const n=t.args[1];n.headers=function(t,e,n,r,s){const i=s||n.getSpan(),o=i&&i.transaction,{traceId:a,sampled:c,dsc:u}=n.getPropagationContext(),l=i?i.toTraceparent():je(a,void 0,c),d=o?o.getDynamicSamplingContext():u||Ye(a,e,n),h=Ae(d),p="undefined"!=typeof Request&&g(t,Request)?t.headers:r.headers;if(p){if("undefined"!=typeof Headers&&g(p,Headers)){const t=new Headers(p);return t.append("sentry-trace",l),h&&t.append(Me,h),t}if(Array.isArray(p)){const t=[...p,["sentry-trace",l]];return h&&t.push([Me,h]),t}{const t="baggage"in p?p.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),h&&e.push(h),{...p,"sentry-trace":l,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":l,baggage:h}}(e,a,o,n,d)}return d}nl.__initStatic();const sl=["localhost",/^\/(?!\/)/],il={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:sl,tracePropagationTargets:sl};function ol(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:il.traceFetch,traceXHR:il.traceXHR,...t},a="function"==typeof i?i:t=>!0,c=t=>function(t,e){return D(t,e||sl)}(t,r||s),u={};e&&Is((t=>{const e=rl(t,a,c,u);o&&e&&al(e)})),n&&xs((t=>{const e=function(t,e,n,r){const s=t.xhr,i=s&&s[Ts];if(!Qe()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const t=s.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==i.status_code&&(e.setHttpStatus(i.status_code),e.finish(),delete r[t]))}const a=Xt(),c=a.getSpan(),u=o&&c?c.startChild({data:{type:"xhr","http.method":i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;u&&(s.__sentry_xhr_span_id__=u.spanId,r[s.__sentry_xhr_span_id__]=u);if(s.setRequestHeader&&n(i.url))if(u){const t=u&&u.transaction,e=Ae(t&&t.getDynamicSamplingContext());ul(s,u.toTraceparent(),e)}else{const t=Jt(),{traceId:e,sampled:n,dsc:r}=a.getPropagationContext();ul(s,je(e,void 0,n),Ae(r||(t?Ye(e,t,a):void 0)))}return u}(t,a,c,u);o&&e&&al(e)}))}function al(t){const e=t.data.url;if(!e)return;const n=xi("resource",(({entries:r})=>{r.forEach((r=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(r)&&r.name.endsWith(e)){(function(t){const{name:e,version:n}=function(t){let e="unknown",n="unknown",r="";for(const s of t){if("/"===s){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e="h"===r?"http":r,n=t.split(r)[1];break}r+=s}r===t&&(e=r);return{name:e,version:n}}(t.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",e]),!rt.Z1)return r;return[...r,["http.request.redirect_start",cl(t.redirectStart)],["http.request.fetch_start",cl(t.fetchStart)],["http.request.domain_lookup_start",cl(t.domainLookupStart)],["http.request.domain_lookup_end",cl(t.domainLookupEnd)],["http.request.connect_start",cl(t.connectStart)],["http.request.secure_connection_start",cl(t.secureConnectionStart)],["http.request.connection_end",cl(t.connectEnd)],["http.request.request_start",cl(t.requestStart)],["http.request.response_start",cl(t.responseStart)],["http.request.response_end",cl(t.responseEnd)]]})(r).forEach((e=>t.setData(...e))),setTimeout(n)}}))}))}function cl(t=0){return((rt.Z1||performance.timeOrigin)+t)/1e3}function ul(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(Me,n)}catch(t){}}function ll(t){return"number"==typeof t&&isFinite(t)}function dl(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}const hl=2147483647;function pl(t){return t/1e3}function fl(){return ci&&ci.addEventListener&&ci.performance}let ml,gl,yl=0,_l={};function vl(){const t=fl();if(t&&rt.Z1){t.mark&&ci.performance.mark("sentry-tracing-init");const e=Oi("fid",(({metric:t})=>{const e=t.entries.pop();if(!e)return;const n=pl(rt.Z1),r=pl(e.startTime);oi&&I.log("[Measurements] Adding FID"),_l.fid={value:t.value,unit:"millisecond"},_l["mark.fid"]={value:n+r,unit:"second"}}),Ri,wi),n=function(t){return Oi("cls",t,Ii,ki)}((({metric:t})=>{const e=t.entries.pop();e&&(oi&&I.log("[Measurements] Adding CLS"),_l.cls={value:t.value,unit:""},gl=e)})),r=Ti((({metric:t})=>{const e=t.entries.pop();e&&(oi&&I.log("[Measurements] Adding LCP"),_l.lcp={value:t.value,unit:"millisecond"},ml=e)}));return()=>{e(),n(),r()}}return()=>{}}function bl(t){const e=fl();if(!e||!ci.performance.getEntries||!rt.Z1)return;oi&&I.log("[Tracing] Adding & adjusting spans using Performance API");const n=pl(rt.Z1),r=e.getEntries();let s,i;if(r.slice(yl).forEach((e=>{const r=pl(e.startTime),o=pl(e.duration);if(!("navigation"===t.op&&n+r<t.startTimestamp))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Sl(t,e,r,n)})),Sl(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Sl(t,e,"fetch",n,"cache","domainLookupStart"),Sl(t,e,"domainLookup",n,"DNS"),function(t,e,n){dl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+pl(e.requestStart),endTimestamp:n+pl(e.responseEnd)}),dl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+pl(e.responseStart),endTimestamp:n+pl(e.responseEnd)})}(t,e,n)}(t,e,n),s=n+pl(e.responseStart),i=n+pl(e.requestStart);break;case"mark":case"paint":case"measure":{!function(t,e,n,r,s){const i=s+n,o=i+r;dl(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(t,e,r,o,n);const s=gi(),i=e.startTime<s.firstHiddenTime;"first-paint"===e.name&&i&&(oi&&I.log("[Measurements] Adding FP"),_l.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&i&&(oi&&I.log("[Measurements] Adding FCP"),_l.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":{const s=e.name.replace(ci.location.origin,"");!function(t,e,n,r,s,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const o={};kl(o,e,"transferSize","http.response_transfer_size"),kl(o,e,"encodedBodySize","http.response_content_length"),kl(o,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);const a=i+r,c=a+s;dl(t,{description:n,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}(t,e,s,r,o,n);break}}})),yl=Math.max(r.length-1,0),function(t){const e=ci.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),ll(n.rtt)&&(_l["connection.rtt"]={value:n.rtt,unit:"millisecond"}));ll(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`);ll(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof s&&(oi&&I.log("[Measurements] Adding TTFB"),_l.ttfb={value:1e3*(s-t.startTimestamp),unit:"millisecond"},"number"==typeof i&&i<=s&&(_l["ttfb.requestTime"]={value:1e3*(s-i),unit:"millisecond"})),["fcp","fp","lcp"].forEach((e=>{if(!_l[e]||n>=t.startTimestamp)return;const r=_l[e].value,s=n+pl(r),i=Math.abs(1e3*(s-t.startTimestamp)),o=i-r;oi&&I.log(`[Measurements] Normalized ${e} from ${r} to ${i} (${o})`),_l[e].value=i}));const e=_l["mark.fid"];e&&_l.fid&&(dl(t,{description:"first input delay",endTimestamp:e.value+pl(_l.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:e.value}),delete _l["mark.fid"]),"fcp"in _l||delete _l.cls,Object.keys(_l).forEach((e=>{t.setMeasurement(e,_l[e].value,_l[e].unit)})),function(t){ml&&(oi&&I.log("[Measurements] Adding LCP Data"),ml.element&&t.setTag("lcp.element",S(ml.element)),ml.id&&t.setTag("lcp.id",ml.id),ml.url&&t.setTag("lcp.url",ml.url.trim().slice(0,200)),t.setTag("lcp.size",ml.size));gl&&gl.sources&&(oi&&I.log("[Measurements] Adding CLS Data"),gl.sources.forEach(((e,n)=>t.setTag(`cls.source.${n+1}`,S(e.node)))))}(t)}ml=void 0,gl=void 0,_l={}}function Sl(t,e,n,r,s,i){const o=i?e[i]:e[`${n}End`],a=e[`${n}Start`];a&&o&&dl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+pl(a),endTimestamp:r+pl(o)})}function kl(t,e,n,r){const s=e[n];null!=s&&s<hl&&(t[r]=s)}const wl={...Ge,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!ci||!ci.location)return void(oi&&I.warn("Could not initialize routing instrumentation due to invalid location"));let r,s=ci.location.href;e&&(r=t({name:ci.location.pathname,startTimestamp:rt.Z1?rt.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&es((({to:e,from:n})=>{void 0===n&&s&&-1!==s.indexOf(e)?s=void 0:n!==e&&(s=void 0,r&&(oi&&I.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=t({name:ci.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...il};class El{constructor(t){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,sn(),oi&&(this._hasSetTracePropagationTargets=!(!t||!t.tracePropagationTargets&&!t.tracingOrigins)),this.options={...wl,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=vl(),this.options.enableLongTask&&xi("longtask",(({entries:t})=>{for(const e of t){const t=Be();if(!t)return;const n=pl(rt.Z1+e.startTime),r=pl(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&xi("event",(({entries:t})=>{for(const e of t){const t=Be();if(!t)return;if("click"===e.name){const n=pl(rt.Z1+e.startTime),r=pl(e.duration);t.startChild({description:S(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}}))}setupOnce(t,e){this._getCurrentHub=e;const n=e().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:h}=this.options,p=r&&r.tracePropagationTargets,f=p||this.options.tracePropagationTargets;oi&&this._hasSetTracePropagationTargets&&p&&I.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s((t=>{const n=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,t,e),n}),o,i),a&&(ci&&ci.document?ci.document.addEventListener("visibilitychange",(()=>{const t=Be();if(ci.document.hidden&&t){const e="cancelled";oi&&I.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}})):oi&&I.warn("[Tracing] Could not set up background tab detection due to lack of global document")),h.enableInteractions&&this._registerInteractionListener(),ol({traceFetch:c,traceXHR:u,tracePropagationTargets:f,shouldCreateSpanForRequest:l,enableHTTPTimings:d})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(oi&&I.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const e=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="pageload"===t.op,a=o?Tl("sentry-trace"):"",c=o?Tl("baggage"):"",{traceparentData:u,dynamicSamplingContext:l,propagationContext:d}=Fe(a,c),h={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},p="function"==typeof n?n(h):h,f=void 0===p?{...h,sampled:!1}:p;f.metadata=f.name!==h.name?{...f.metadata,source:"custom"}:f.metadata,this._latestRouteName=f.name,this._latestRouteSource=f.metadata&&f.metadata.source,!1===f.sampled&&oi&&I.log(`[Tracing] Will not send ${f.op} transaction because of beforeNavigate.`),oi&&I.log(`[Tracing] Starting ${f.op} transaction on scope`);const{location:m}=ci,g=rn(e,f,r,s,!0,{location:m},i),y=e.getScope();return o&&u?y.setPropagationContext(d):y.setPropagationContext({traceId:g.traceId,spanId:g.spanId,parentSpanId:g.parentSpanId,sampled:g.sampled}),g.registerBeforeFinishCallback((t=>{this._collectWebVitals(),bl(t)})),g}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:n,heartbeatInterval:r}=this.options,s="ui.action.click",i=Be();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(oi&&I.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub)return void(oi&&I.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(oi&&I.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:a}=ci,c={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=rn(o,c,e,n,!0,{location:a},r)};["click"].forEach((t=>{addEventListener(t,e,{once:!1,capture:!0})}))}}function Tl(t){const e=(n=`meta[name=${t}]`,v.document&&v.document.querySelector?v.document.querySelector(n):null);var n;return e?e.getAttribute("content"):void 0}const xl=100,Cl=5e3,Il=36e5;function Rl(t,e){G&&I.info(`[Offline]: ${t}`,e)}function Ml(t){return e=>{const n=t(e),r=e.createStore?e.createStore(e):void 0;let s,i=Cl;function o(t,n,r){return s=["replay_event","replay_recording","client_report"],!Rn(t,((t,e)=>s.includes(e)))&&(!e.shouldStore||e.shouldStore(t,n,r));var s}function a(t){r&&(s&&clearTimeout(s),s=setTimeout((async()=>{s=void 0;const t=await r.pop();t&&(Rl("Attempting to send previously queued event"),u(t).catch((t=>{Rl("Failed to retry sending",t)})))}),t),"number"!=typeof s&&s.unref&&s.unref())}function c(){s||(a(i),i=Math.min(2*i,Il))}async function u(t){try{const e=await n.send(t);let r=xl;if(e)if(e.headers&&e.headers["retry-after"])r=Vn(e.headers["retry-after"]);else if((e.statusCode||0)>=400)return e;return a(r),i=Cl,e}catch(e){if(r&&await o(t,e,i))return await r.insert(t),c(),Rl("Error sending. Event queued",e),{};throw e}}return e.flushAtStartup&&c(),{send:u,flush:t=>n.flush(t)}}}function Ol(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function Dl(t){return Ol(t.getAllKeys())}function Nl(t){let e;function n(){return null==e&&(e=function(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Ol(n);return t=>r.then((n=>t(n.transaction(e,"readwrite").objectStore(e))))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:async e=>{try{const r=await On(e,t.textEncoder);await function(t,e,n){return t((t=>Dl(t).then((r=>{if(!(r.length>=n))return t.put(e,Math.max(...r,0)+1),Ol(t.transaction)}))))}(n(),r,t.maxQueueSize||30)}catch(t){}},pop:async()=>{try{const e=await function(t){return t((t=>Dl(t).then((e=>{if(0!==e.length)return Ol(t.get(e[0])).then((n=>(t.delete(e[0]),Ol(t.transaction).then((()=>n)))))}))))}(n());if(e)return function(t,e,n){let r="string"==typeof t?e.encode(t):t;function s(t){const e=r.subarray(0,t);return r=r.subarray(t+1),e}function i(){let t=r.indexOf(10);return t<0&&(t=r.length),JSON.parse(n.decode(s(t)))}const o=i(),a=[];for(;r.length;){const t=i(),e="number"==typeof t.length?t.length:void 0;a.push([t,e?s(e):i()])}return[o,a]}(e,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(t){}}}}function Al(t){return function(t){return e=>t({...e,createStore:Nl})}(Ml(t))}const Ll=1e6,Pl=String(0),$l="main";let Fl="",jl="",Bl="",Ul=lr.navigator&&lr.navigator.userAgent||"",Hl="";const zl=lr.navigator&&lr.navigator.language||lr.navigator&&lr.navigator.languages&&lr.navigator.languages[0]||"";const ql=lr.navigator&&lr.navigator.userAgentData;var Wl;function Vl(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Pl]:{name:$l}}};if(!t.samples.length)return r;const s=t.samples[0].timestamp,i="number"==typeof performance.timeOrigin?performance.timeOrigin:rt.Z1||0,o=i-(rt.Z1||i);for(let i=0;i<t.samples.length;i++){const a=t.samples[i];if(void 0===a.stackId){void 0===e&&(e=n,r.stacks[e]=[],n++),r.samples[i]={elapsed_since_start_ns:((a.timestamp+o-s)*Ll).toFixed(0),stack_id:e,thread_id:Pl};continue}let c=t.stacks[a.stackId];const u=[];for(;c;){u.push(c.frameId);const e=t.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:e.name,abs_path:"number"==typeof e.resourceId?t.resources[e.resourceId]:void 0,lineno:e.line,colno:e.column}),c=void 0===c.parentId?void 0:t.stacks[c.parentId]}const l={elapsed_since_start_ns:((a.timestamp+o-s)*Ll).toFixed(0),stack_id:n,thread_id:Pl};r.stacks[n]=u,r.samples[i]=l,n++}return r}(t):t}function Yl(t,e,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&mr&&I.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(r),i=Vl(n),o=e||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:t,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||st,runtime:{name:"javascript",version:lr.navigator.userAgent},os:{name:Fl,version:jl,build_number:Ul},device:{locale:zl,model:Hl,manufacturer:Ul,architecture:Bl,is_emulator:!1},debug_meta:{images:Jl(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||H(),trace_id:s,active_thread_id:Pl,relative_start_ns:"0",relative_end_ns:(1e6*(a-o)).toFixed(0)}]}}function Kl(t){return"pageload"===t.op}"object"==typeof(Wl=ql)&&null!==Wl&&"getHighEntropyValues"in Wl&&ql.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(Fl=t.platform||"",Bl=t.architecture||"",Hl=t.model||"",jl=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];Ul=`${e.brand} ${e.version}`}})).catch((t=>{}));const Gl=new WeakMap;function Jl(t){const e=_.n2._sentryDebugIds;if(!e)return[];const n=Jt(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=Gl.get(s);o?i=o:(i=new Map,Gl.set(s,i));const a=Object.keys(e).reduce(((t,n)=>{let r;const o=i.get(n);o?r=o:(r=s(n),i.set(n,r));for(let s=r.length-1;s>=0;s--){const i=r[s],o=i&&i.filename;if(i&&o){t[o]=e[n];break}}return t}),{}),c=[];for(const e of t)e&&a[e]&&c.push({type:"sourcemap",code_file:e,debug_id:a[e]});return c}let Xl=!1;const Zl=3e4;function Ql(t){if(Xl)return mr&&I.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.sampled)return mr&&I.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=Jt(),n=e&&e.getOptions();if(!n)return mr&&I.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(s=r)&&"boolean"!=typeof s||"number"==typeof s&&isNaN(s)?(mr&&I.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),0):!0===s||!1===s||!(s<0||s>1)||(mr&&I.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${s}.`),0)))return mr&&I.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var s;if(!r)return mr&&I.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(mr&&I.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function td(t,e,n,r){return function(t){return t.samples.length<2?(mr&&I.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(mr&&I.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?Yl(t,e,n,r):null}const ed=new Map;function nd(t){const e=ed.get(t);return e&&ed.delete(t),e}function rd(t){return t?Ql(t)?sd(t):t:(mr&&I.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function sd(t){let e;Kl(t)&&(e=1e3*(0,rt.ph)());const n=function(){const t=lr.Profiler;if("function"!=typeof t)return void(mr&&I.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const e=Math.floor(Zl/10);try{return new t({sampleInterval:10,maxBufferSize:e})}catch(t){mr&&(I.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),I.log("[Profiling] Disabling profiling for current user session.")),Xl=!0}}();if(!n)return t;mr&&I.log(`[Profiling] started profiling transaction: ${t.name||t.description}`);const r=H();async function s(){return t&&n?n.stop().then((e=>(i&&(lr.clearTimeout(i),i=void 0),mr&&I.log(`[Profiling] stopped profiling of transaction: ${t.name||t.description}`),e?(function(t,e){if(ed.set(t,e),ed.size>30){const t=ed.keys().next().value;ed.delete(t)}}(r,e),null):(mr&&I.log(`[Profiling] profiler returned null profile for: ${t.name||t.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((t=>(mr&&I.log("[Profiling] error while stopping profiler:",t),null))):null}let i=lr.setTimeout((()=>{mr&&I.log("[Profiling] max profile duration elapsed, stopping profiling for:",t.name||t.description),s()}),Zl);const o=t.finish.bind(t);return t.finish=function(){return t?(s().then((()=>{t.setContext("profile",{profile_id:r,start_timestamp:e}),o()}),(()=>{o()})),t):o()},t}class id{static __initStatic(){this.id="BrowserProfilingIntegration"}constructor(){this.name=id.id}setupOnce(t,e){}setup(t){const e=Xt().getTransaction();e&&Kl(e)&&Ql(e)&&sd(e),"function"==typeof t.on?(t.on("startTransaction",(t=>{Ql(t)&&sd(t)})),t.on("beforeEnvelope",(t=>{if(!ed.size)return;const e=function(t){const e=[];return Rn(t,((t,n)=>{if("transaction"===n)for(let n=1;n<t.length;n++){const r=t[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&e.push(t[n])}})),e}(t);if(!e.length)return;const n=[];for(const t of e){const e=t&&t.contexts,r=e&&e.profile&&e.profile.profile_id,s=e&&e.profile&&e.profile.start_timestamp;if("string"!=typeof r){mr&&I.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){mr&&I.log("[Profiling] cannot find profile for a transaction without a profile context");continue}e&&e.profile&&delete e.profile;const i=nd(r);if(!i){mr&&I.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const o=td(r,s,i,t);o&&n.push(o)}!function(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n])}(t,n)}))):I.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}id.__initStatic();let od={};lr.Sentry&&lr.Sentry.Integrations&&(od=lr.Sentry.Integrations);const ad={...od,...r,...s}},661:function(t,e,n){function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function s(){return"npm"}n.d(e,{S:function(){return s},n:function(){return r}})},305:function(t,e,n){n.d(e,{KV:function(){return s},l$:function(){return i}});var r=n(661);function s(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}t=n.hmd(t)},400:function(t,e,n){n.d(e,{Z1:function(){return h},ph:function(){return l},yW:function(){return u}});var r=n(305),s=n(846);t=n.hmd(t);const i=(0,s.Rf)(),o={nowSeconds:()=>Date.now()/1e3};const a=(0,r.KV)()?function(){try{return(0,r.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=i;if(!t||!t.now)return;return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),c=void 0===a?o:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=o.nowSeconds.bind(o),l=c.nowSeconds.bind(c);let d;const h=(()=>{const{performance:t}=i;if(!t||!t.now)return void(d="none");const e=36e5,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,o=s<e,a=t.timing&&t.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):e;return o||c<e?s<=c?(d="timeOrigin",t.timeOrigin):(d="navigationStart",a):(d="dateNow",r)})()},846:function(t,e,n){function r(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:function(){return i},YO:function(){return o},n2:function(){return s}});const s="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function i(){return s}function o(t,e,n){const r=n||s,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}}}]);