"use strict";(self.webpackChunkultimate_jekyll=self.webpackChunkultimate_jekyll||[]).push([[404],{404:function(t,e,n){n.r(e),n.d(e,{Breadcrumbs:function(){return Vs},BrowserClient:function(){return Pr},BrowserProfilingIntegration:function(){return fd},BrowserTracing:function(){return Nl},Dedupe:function(){return Zs},Feedback:function(){return dl},FunctionToString:function(){return ke},GlobalHandlers:function(){return hs},HttpContext:function(){return Js},Hub:function(){return Rt},InboundFilters:function(){return Te},Integrations:function(){return yd},LinkedErrors:function(){return Ks},ModuleMetadata:function(){return dr},Replay:function(){return Du},SDK_VERSION:function(){return Tt},Scope:function(){return Et},TryCatch:function(){return vs},WINDOW:function(){return vr},addBreadcrumb:function(){return ee},addEventProcessor:function(){return _r},addGlobalEventProcessor:function(){return nt},addIntegration:function(){return _e},addTracingExtensions:function(){return hn},captureEvent:function(){return Qt},captureException:function(){return Xt},captureMessage:function(){return Zt},captureUserFeedback:function(){return li},chromeStackLineParser:function(){return Kr},close:function(){return de},configureScope:function(){return te},continueTrace:function(){return bn},createTransport:function(){return ir},createUserFeedbackEnvelope:function(){return Lr},defaultIntegrations:function(){return ri},defaultRequestInstrumentationOptions:function(){return ml},defaultStackLineParsers:function(){return ss},defaultStackParser:function(){return is},eventFromException:function(){return Mr},eventFromMessage:function(){return Or},exceptionFromError:function(){return xr},extractTraceparentData:function(){return Ke},flush:function(){return le},forceLoad:function(){return oi},geckoStackLineParser:function(){return Xr},getActiveSpan:function(){return vn},getActiveTransaction:function(){return Ye},getClient:function(){return he},getCurrentHub:function(){return Dt},getCurrentScope:function(){return me},getHubFromCarrier:function(){return Pt},init:function(){return si},instrumentOutgoingRequests:function(){return fl},lastEventId:function(){return pe},makeBrowserOfflineTransport:function(){return zl},makeFetchTransport:function(){return Ur},makeMain:function(){return Ot},makeMultiplexedTransport:function(){return Xn},makeXHRTransport:function(){return zr},metrics:function(){return Mn},onLoad:function(){return ai},onProfilingStartRouteTransaction:function(){return pd},opera10StackLineParser:function(){return es},opera11StackLineParser:function(){return rs},setContext:function(){return ne},setExtra:function(){return se},setExtras:function(){return re},setMeasurement:function(){return wn},setTag:function(){return oe},setTags:function(){return ie},setUser:function(){return ae},showReportDialog:function(){return ii},spanStatusfromHttpCode:function(){return tn},startInactiveSpan:function(){return _n},startSpan:function(){return gn},startSpanManual:function(){return yn},startTransaction:function(){return ue},trace:function(){return fn},winjsStackLineParser:function(){return Qr},withScope:function(){return ce},wrap:function(){return ci}});var r={};n.r(r),n.d(r,{FunctionToString:function(){return ke},InboundFilters:function(){return Te},LinkedErrors:function(){return Le}});var s={};n.r(s),n.d(s,{Breadcrumbs:function(){return Vs},Dedupe:function(){return Zs},GlobalHandlers:function(){return hs},HttpContext:function(){return Js},LinkedErrors:function(){return Ks},TryCatch:function(){return vs}});const i=Object.prototype.toString;function o(t){switch(i.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function a(t,e){return i.call(t)===`[object ${e}]`}function c(t){return a(t,"ErrorEvent")}function u(t){return a(t,"DOMError")}function l(t){return a(t,"String")}function d(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function p(t){return a(t,"Object")}function h(t){return"undefined"!=typeof Event&&g(t,Event)}function m(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function f(t){return"number"==typeof t&&t!=t}function g(t,e){try{return t instanceof e}catch(t){return!1}}function y(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}var _=n(846);const v=(0,_.Rf)(),b=80;function S(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||b;for(;n&&i++<r&&(u=k(n,l),!("html"===u||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch(t){return"<unknown>"}}function k(t,e){const n=t,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(v.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(u&&u.length)u.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&l(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)o=d[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function w(){try{return v.document.location.href}catch(t){return""}}function E(t){if(!v.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const x="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,T=["debug","info","warn","error","log","assert","trace"],C={};function I(t){if(!("console"in _.n2))return t();const e=_.n2.console,n={},r=Object.keys(C);r.forEach((t=>{const r=C[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}const R=function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return x?T.forEach((n=>{e[n]=(...e)=>{t&&I((()=>{_.n2.console[n](`Sentry Logger [${n}]:`,...e)}))}})):T.forEach((t=>{e[t]=()=>{}})),e}();function M(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function O(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{y(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function D(t,e,n=!1){return!!l(t)&&(a(e,"RegExp")?e.test(t):!!l(e)&&(n?t===e:t.includes(e)))}function N(t,e=[],n=!1){return e.some((e=>D(t,e,n)))}function A(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);"function"==typeof s&&P(s,r),t[e]=s}function L(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){x&&R.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function P(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,L(t,"__sentry_original__",e)}catch(t){}}function $(t){return t.__sentry_original__}function F(t){if(o(t))return{message:t.message,name:t.name,stack:t.stack,...B(t)};if(h(t)){const e={type:t.type,target:j(t.target),currentTarget:j(t.currentTarget),...B(t)};return"undefined"!=typeof CustomEvent&&g(t,CustomEvent)&&(e.detail=t.detail),e}return t}function j(t){try{return e=t,"undefined"!=typeof Element&&g(e,Element)?S(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function B(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function U(t){return H(t,new Map)}function H(t,e){if(p(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.keys(t))void 0!==t[n]&&(r[n]=H(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(H(t,e))})),r}return t}function z(){const t=_.n2,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function q(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function W(t){const{message:e,event_id:n}=t;if(e)return e;const r=q(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function V(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function Y(t,e){const n=q(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function K(t){if(t&&t.__sentry_captured__)return!0;try{L(t,"__sentry_captured__",!0)}catch(t){}return!1}function G(t){return Array.isArray(t)?t:[t]}const J="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var X;function Z(t){return new tt((e=>{e(t)}))}function Q(t){return new tt(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(X||(X={}));class tt{constructor(t){tt.prototype.__init.call(this),tt.prototype.__init2.call(this),tt.prototype.__init3.call(this),tt.prototype.__init4.call(this),this._state=X.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new tt(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new tt(((e,n)=>{let r,s;return this.then((e=>{s=!1,r=e,t&&t()}),(e=>{s=!0,r=e,t&&t()})).then((()=>{s?n(r):e(r)}))}))}__init(){this._resolve=t=>{this._setResult(X.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(X.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===X.PENDING&&(m(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===X.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===X.RESOLVED&&t[1](this._value),this._state===X.REJECTED&&t[2](this._value),t[0]=!0)}))}}}function et(){return(0,_.YO)("globalEventProcessors",(()=>[]))}function nt(t){et().push(t)}function rt(t,e,n,r=0){return new tt(((s,i)=>{const o=t[r];if(null===e||"function"!=typeof o)s(e);else{const a=o({...e},n);J&&o.id&&null===a&&R.log(`Event processor "${o.id}" dropped event`),m(a)?a.then((e=>rt(t,e,n,r+1).then(s))).then(null,i):rt(t,a,n,r+1).then(s).then(null,i)}}))}var st=n(400);const it="production";function ot(t){const e=(0,st.ph)(),n={sid:z(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return U({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&at(n,t),n}function at(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,st.ph)(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:z()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}const ct="baggage",ut="sentry-",lt=/^sentry-/,dt=8192;function pt(t){if(!t)return;return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(((t,[e,n],r)=>{const s=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,i=0===r?s:`${t},${s}`;return i.length>dt?(x&&R.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):i}),"")}(Object.entries(t).reduce(((t,[e,n])=>(n&&(t[`${ut}${e}`]=n),t)),{}))}function ht(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(t[e]=n,t)),{})}const mt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ft(t){if(!t)return;const e=t.match(mt);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function gt(t,e){const n=ft(t),r=function(t){if(!l(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce(((t,e)=>{const n=ht(e);for(const e of Object.keys(n))t[e]=n[e];return t}),{});else{if(!t)return;e=ht(t)}const n=Object.entries(e).reduce(((t,[e,n])=>(e.match(lt)&&(t[e.slice(ut.length)]=n),t)),{});return Object.keys(n).length>0?n:void 0}(e),{traceId:s,parentSpanId:i,parentSampled:o}=n||{},a={traceId:s||z(),spanId:z().substring(16),sampled:o};return i&&(a.parentSpanId=i),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function yt(t=z(),e=z().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function _t(t){const{data:e,description:n,op:r,parent_span_id:s,span_id:i,status:o,tags:a,trace_id:c,origin:u}=t.toJSON();return U({data:e,description:n,op:r,parent_span_id:s,span_id:i,status:o,tags:a,trace_id:c,origin:u})}function vt(t){return yt(t.traceId,t.spanId,t.sampled)}function bt(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i,propagationContext:o}=e;!function(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e;n&&Object.keys(n).length&&(t.extra={...n,...t.extra});r&&Object.keys(r).length&&(t.tags={...r,...t.tags});s&&Object.keys(s).length&&(t.user={...s,...t.user});i&&Object.keys(i).length&&(t.contexts={...i,...t.contexts});o&&(t.level=o);a&&(t.transaction=a)}(t,e),r&&function(t,e){t.contexts={trace:_t(e),...t.contexts};const n=e.transaction;if(n){t.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const e=n.name;e&&(t.tags={transaction:e,...t.tags})}}(t,r),function(t,e){t.fingerprint=t.fingerprint?G(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,s),function(t,e,n){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e,propagationContext:n}}(t,i,o)}function St(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:m}=e;kt(t,"extra",n),kt(t,"tags",r),kt(t,"user",s),kt(t,"contexts",i),kt(t,"sdkProcessingMetadata",a),o&&(t.level=o),h&&(t.transactionName=h),m&&(t.span=m),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function kt(t,e,n){n&&Object.keys(n).length&&(t[e]={...t[e],...n})}let wt;class Et{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=xt()}static clone(t){return t?t.clone():new Et}clone(){const t=new Et;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&at(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof Et?e:this}return t instanceof Et?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):p(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=xt(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:(0,st.yW)(),...t},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:e,_contexts:n,_tags:r,_extra:s,_user:i,_level:o,_fingerprint:a,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:l,_transactionName:d,_span:p}=this;return{breadcrumbs:t,attachments:e,contexts:n,tags:r,extra:s,user:i,level:o,fingerprint:a||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:l,transactionName:d,span:p}}applyToEvent(t,e={},n=[]){bt(t,this.getScopeData());return rt([...n,...et(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}function xt(){return{traceId:z(),spanId:z().substring(16)}}const Tt="7.92.0",Ct=parseFloat(Tt),It=100;class Rt{constructor(t,e,n,r=Ct){let s,i;this._version=r,e?s=e:(s=new Et,s.setClient(t)),n?i=n:(i=new Et,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const e=this.pushScope();let n;try{n=t(e)}catch(t){throw this.popScope(),t}return m(n)?n.then((t=>(this.popScope(),t)),(t=>{throw this.popScope(),t})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:z(),r=new Error("Sentry syntheticException");return this._withClient(((s,i)=>{s.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},i)})),n}captureMessage(t,e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:z(),s=new Error(t);return this._withClient(((i,o)=>{i.captureMessage(t,e,{originalException:t,syntheticException:s,...n,event_id:r},o)})),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:z();return t.type||(this._lastEventId=n),this._withClient(((r,s)=>{r.captureEvent(t,{...e,event_id:n},s)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=It}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const o={timestamp:(0,st.yW)(),...t},a=s?I((()=>s(o,e))):o;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,e),n.addBreadcrumb(a,i))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();n&&t(e)}run(t){const e=Ot(this);try{t(this)}finally{Ot(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return J&&R.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const n=this._callExtensionMethod("startTransaction",t,e);if(J&&!n){this.getClient()?R.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):R.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,e=t.getSession();e&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),at(t,n)}(e),this._sendSessionUpdate(),t.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:r,environment:s=it}=n&&n.getOptions()||{},{userAgent:i}=_.n2.navigator||{},o=ot({release:r,environment:s,user:e.getUser(),...i&&{userAgent:i},...t}),a=e.getSession&&e.getSession();return a&&"ok"===a.status&&at(a,{status:"exited"}),this.endSession(),e.setSession(o),o}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=Mt().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);J&&R.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Mt(){return _.n2.__SENTRY__=_.n2.__SENTRY__||{extensions:{},hub:void 0},_.n2}function Ot(t){const e=Mt(),n=Pt(e);return $t(e,t),n}function Dt(){const t=Mt();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return At(t)}function Nt(){return Dt().getIsolationScope()}function At(t=Mt()){return Lt(t)&&!Pt(t).isOlderThan(Ct)||$t(t,new Rt),Pt(t)}function Lt(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Pt(t){return(0,_.YO)("hub",(()=>new Rt),t)}function $t(t,e){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0}const Ft=50,jt=/\(error: (.*)\)/,Bt=/captureMessage|captureException/;function Ut(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const r=[],s=t.split("\n");for(let t=n;t<s.length;t++){const n=s[t];if(n.length>1024)continue;const i=jt.test(n)?n.replace(jt,"$1"):n;if(!i.match(/\S*Error: /)){for(const t of e){const e=t(i);if(e){r.push(e);break}}if(r.length>=Ft)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop();e.reverse(),Bt.test(e[e.length-1].function||"")&&(e.pop(),Bt.test(e[e.length-1].function||"")&&e.pop());return e.slice(0,Ft).map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"})))}(r)}}const Ht="<anonymous>";function zt(t){try{return t&&"function"==typeof t&&t.name||Ht}catch(t){return Ht}}function qt(t,e=100,n=1/0){try{return Vt("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Wt(t,e=3,n=102400){const r=qt(t,e);return s=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(s))>n?Wt(t,e-1,n):r;var s}function Vt(t,e,r=1/0,s=1/0,i=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[o,a]=i;if(null==e||["number","boolean","string"].includes(typeof e)&&!f(e))return e;const c=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==n.g&&e===n.g)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(y(e))return"[VueViewModel]";if(p(r=e)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${zt(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const s=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(t){return`**non-serializable** (${t})`}var r}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const u="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:r;if(0===u)return c.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&"function"==typeof l.toJSON)try{return Vt("",l.toJSON(),u-1,s,i)}catch(t){}const d=Array.isArray(e)?[]:{};let h=0;const m=F(e);for(const t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;if(h>=s){d[t]="[MaxProperties ~]";break}const e=m[t];d[t]=Vt(t,e,u-1,s,i),h++}return a(e),d}function Yt(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||z(),timestamp:e.timestamp||(0,st.yW)()},u=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:it);void 0===t.release&&void 0!==r&&(t.release=r);void 0===t.dist&&void 0!==s&&(t.dist=s);t.message&&(t.message=M(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=M(o.value,i));const a=t.request;a&&a.url&&(a.url=M(a.url,i))}(c,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(c,u),void 0===e.type&&function(t,e){const n=_.n2._sentryDebugIds;if(!n)return;let r;const s=Kt.get(e);s?r=s:(r=new Map,Kt.set(e,r));const i=Object.keys(n).reduce(((t,s)=>{let i;const o=r.get(s);o?i=o:(i=e(s),r.set(s,i));for(let e=i.length-1;e>=0;e--){const r=i[e];if(r.filename){t[r.filename]=n[s];break}}return t}),{});try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&(t.debug_id=i[t.filename])}))}))}catch(t){}}(c,t.stackParser);const l=function(t,e){if(!e)return t;const n=t?t.clone():new Et;return n.update(e),n}(r,n.captureContext);n.mechanism&&Y(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=(wt||(wt=new Et),wt).getScopeData();if(i){St(p,i.getScopeData())}if(l){St(p,l.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),bt(c,p);return rt([...d,...et(),...p.eventProcessors],c,n).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach((t=>{n.push({type:"sourcemap",code_file:t,debug_id:e[t]})}))}(t),"number"==typeof o&&o>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:qt(t.data,e,n)}})))},...t.user&&{user:qt(t.user,e,n)},...t.contexts&&{contexts:qt(t.contexts,e,n)},...t.extra&&{extra:qt(t.extra,e,n)}};t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=qt(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map((t=>(t.data&&(t.data=qt(t.data,e,n)),t))));return r}(t,o,a):t)))}const Kt=new WeakMap;function Gt(t){if(t)return function(t){return t instanceof Et||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>Jt.includes(t)))}(t)?{captureContext:t}:t}const Jt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Xt(t,e){return Dt().captureException(t,Gt(e))}function Zt(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return Dt().captureMessage(t,n,r)}function Qt(t,e){return Dt().captureEvent(t,e)}function te(t){Dt().configureScope(t)}function ee(t,e){Dt().addBreadcrumb(t,e)}function ne(t,e){Dt().setContext(t,e)}function re(t){Dt().setExtras(t)}function se(t,e){Dt().setExtra(t,e)}function ie(t){Dt().setTags(t)}function oe(t,e){Dt().setTag(t,e)}function ae(t){Dt().setUser(t)}function ce(t){return Dt().withScope(t)}function ue(t,e){return Dt().startTransaction({...t},e)}async function le(t){const e=he();return e?e.flush(t):(J&&R.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function de(t){const e=he();return e?e.close(t):(J&&R.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function pe(){return Dt().lastEventId()}function he(){return Dt().getClient()}function me(){return Dt().getScope()}const fe=[];function ge(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;e.forEach((t=>{t.isDefaultInstance=!0})),r=Array.isArray(n)?[...e,...n]:"function"==typeof n?G(n(e)):e;const s=function(t){const e={};return t.forEach((t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.keys(e).map((t=>e[t]))}(r),i=function(t,e){for(let n=0;n<t.length;n++)if(!0===e(t[n]))return n;return-1}(s,(t=>"Debug"===t.name));if(-1!==i){const[t]=s.splice(i,1);s.push(t)}return s}function ye(t,e,n){if(n[e.name]=e,-1===fe.indexOf(e.name)&&(e.setupOnce(nt,Dt),fe.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),t.on&&"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if(t.addEventProcessor&&"function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}J&&R.log(`Integration installed: ${e.name}`)}function _e(t){const e=he();e&&e.addIntegration?e.addIntegration(t):J&&R.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`)}function ve(t,e){return Object.assign((function(...t){return{setupOnce:()=>{},...e(...t)}}),{id:t})}let be;const Se="FunctionToString",ke=ve(Se,(()=>({name:Se,setupOnce(){be=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=$(this)||this;return be.apply(e,t)}}catch(t){}}}))),we=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ee=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],xe="InboundFilters",Te=ve(xe,(t=>({name:xe,processEvent(e,n,r){const s=r.getOptions(),i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:we],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:Ee],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,s);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return J&&R.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${W(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(t){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));J&&0===e.length&&R.error(`Could not extract message for event ${W(t)}`);return e}(t).some((t=>N(t,e)))}(t,e.ignoreErrors))return J&&R.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${W(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&N(n,e)}(t,e.ignoreTransactions))return J&&R.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${W(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=Ce(t);return!!n&&N(n,e)}(t,e.denyUrls))return J&&R.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${W(t)}.\nUrl: ${Ce(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=Ce(t);return!n||N(n,e)}(t,e.allowUrls))return J&&R.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${W(t)}.\nUrl: ${Ce(t)}`),!0;return!1}(e,i)?null:e}})));function Ce(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return J&&R.error(`Cannot extract url for event ${W(t)}`),null}}function Ie(t,e,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&g(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;a&&(i.exception.values=(c=Re(t,e,s,o.originalException,r,i.exception.values,a,0),u=n,c.map((t=>(t.value&&(t.value=M(t.value,u)),t)))))}function Re(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(g(r[s],Error)){Me(o,a);const i=t(e,r[s]),u=c.length;Oe(i,s,u,a),c=Re(t,e,n,r[s],s,[i,...c],i,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(g(r,Error)){Me(o,a);const u=t(e,r),l=c.length;Oe(u,`errors[${i}]`,l,a),c=Re(t,e,n,r,s,[u,...c],u,l)}})),c}function Me(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function Oe(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function De(t,e){return t(e.stack||"",1)}function Ne(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=De(t,e);return r.length&&(n.stacktrace={frames:r}),n}const Ae="LinkedErrors",Le=ve(Ae,((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:Ae,preprocessEvent(t,r,s){const i=s.getOptions();Ie(Ne,i.stackParser,i.maxValueLength,n,e,t,r)}}})),Pe={},$e={};function Fe(t,e){Pe[t]=Pe[t]||[],Pe[t].push(e)}function je(t,e){$e[t]||(e(),$e[t]=!0)}function Be(t,e){const n=t&&Pe[t];if(n)for(const r of n)try{r(e)}catch(e){x&&R.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${zt(r)}\nError:`,e)}}let Ue=null;function He(t){const e="error";Fe(e,t),je(e,ze)}function ze(){Ue=_.n2.onerror,_.n2.onerror=function(t,e,n,r,s){return Be("error",{column:r,error:s,line:n,msg:t,url:e}),!(!Ue||Ue.__SENTRY_LOADER__)&&Ue.apply(this,arguments)},_.n2.onerror.__SENTRY_INSTRUMENTED__=!0}let qe=null;function We(t){const e="unhandledrejection";Fe(e,t),je(e,Ve)}function Ve(){qe=_.n2.onunhandledrejection,_.n2.onunhandledrejection=function(t){return Be("unhandledrejection",t),!(qe&&!qe.__SENTRY_LOADER__)||qe.apply(this,arguments)},_.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ye(t){return(t||Dt()).getScope().getTransaction()}const Ke=ft;function Ge(t){return t>9999999999?t/1e3:t}let Je=!1;function Xe(){const t=Ye();if(t){const e="internal_error";J&&R.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Xe.tag="sentry_tracingErrorCallback";class Ze{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Qe{constructor(t={}){this.traceId=t.traceId||z(),this.spanId=t.spanId||z().substring(16),this.startTimestamp=t.startTimestamp||(0,st.ph)(),this.tags=t.tags||{},this.data=t.data||{},this.attributes=t.attributes||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.updateName(t)}startChild(t){const e=new Qe({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,J&&e.transaction){const n=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${e.transaction.name||"< unknown name >"}' (${e.transaction.spanId}).`;e.transaction.metadata.spanMetadata[e.spanId]={logMessage:n},R.log(n)}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setAttribute(t,e){void 0===e?delete this.attributes[t]:this.attributes[t]=e}setAttributes(t){Object.keys(t).forEach((e=>this.setAttribute(e,t[e])))}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const e=tn(t);return"unknown_error"!==e&&this.setStatus(e),this}setName(t){this.updateName(t)}updateName(t){return this.description=t,this}isSuccess(){return"ok"===this.status}finish(t){return this.end(t)}end(t){if(J&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&R.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?Ge(t):(0,st.ph)()}toTraceparent(){return vt(this)}toContext(){return U({data:this._getData(),description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return _t(this)}toJSON(){return U({data:this._getData(),description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}_getData(){const{data:t,attributes:e}=this,n=Object.keys(t).length>0,r=Object.keys(e).length>0;if(n||r)return n&&r?{...t,...e}:n?t:e}}function tn(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function en(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=U({environment:r.environment||it,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}class nn extends Qe{constructor(t,e){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=e||Dt(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,e="custom"){this._name=t,this.metadata.source=e}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Ze(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}end(t){const e="number"==typeof t?Ge(t):(0,st.ph)(),n=this._finishTransaction(e);if(n)return this._hub.captureEvent(n)}toContext(){return U({...super.toContext(),name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||Dt(),e=t.getClient();if(!e)return{};const n=t.getScope(),r=en(this.traceId,e,n),s=this.metadata.sampleRate;void 0!==s&&(r.sample_rate=`${s}`);const i=this.metadata.source;return i&&"url"!==i&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}setHub(t){this._hub=t}_finishTransaction(t){if(void 0!==this.endTimestamp)return;this.name||(J&&R.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.end(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this.sampled)return J&&R.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const r=this.metadata,s={contexts:{...this._contexts,trace:_t(this)},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&(J&&R.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),J&&R.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),s}}const rn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},sn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class on extends Ze{constructor(t,e,n,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){if(t.spanId!==this.transactionSpanId){const e=t.end;t.end=(...n)=>(this._popActivity(t.spanId),e.apply(t,n)),void 0===t.endTimestamp&&this._pushActivity(t.spanId)}super.add(t)}}class an extends nn{constructor(t,e,n=rn.idleTimeout,r=rn.finalTimeout,s=rn.heartbeatInterval,i=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=sn[4],i&&(J&&R.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=sn[3],this.end())}),this._finalTimeout)}end(t=(0,st.ph)()){const e=Ge(t);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){J&&R.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),J&&R.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const n=t.startTimestamp<e,r=(this._finalTimeout+this._idleTimeout)/1e3,s=t.endTimestamp-this.startTimestamp<r;if(J){const e=JSON.stringify(t,void 0,2);n?s||R.log("[Tracing] discarding Span since it finished after Transaction final timeout",e):R.log("[Tracing] discarding Span since it happened after Transaction was finished",e)}return n&&s})),J&&R.log("[Tracing] flushing IdleTransaction")}else J&&R.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new on(e,n,this.spanId,t),J&&R.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=sn[5],this.end(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=sn[1],this.end(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),J&&R.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,J&&R.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(J&&R.log(`[Tracing] popActivity ${t}`),delete this.activities[t],J&&R.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=(0,st.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=sn[5],this.end(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(J&&R.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=sn[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){J&&R.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function cn(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=he(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function un(t,e,n){if(!cn(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let r;return"function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:void 0!==e.tracesSampleRate?(r=e.tracesSampleRate,t.setMetadata({sampleRate:Number(r)})):(r=1,t.setMetadata({sampleRate:r})),function(t){if(f(t)||"number"!=typeof t&&"boolean"!=typeof t)return J&&R.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1;if(t<0||t>1)return J&&R.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(J&&R.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(J&&R.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(J&&R.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(J&&R.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function ln(){const t=this.getScope().getSpan();return t?{"sentry-trace":vt(t)}:{}}function dn(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&(J&&R.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.\nThe transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new nn(t,this);return o=un(o,r,{parentSampled:t.parentSampled,transactionContext:t,...e}),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function pn(t,e,n,r,s,i,o){const a=t.getClient(),c=a&&a.getOptions()||{};let u=new an(e,t,n,r,o,s);return u=un(u,c,{parentSampled:e.parentSampled,transactionContext:e,...i}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function hn(){const t=Mt();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=dn),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=ln),Je||(Je=!0,He(Xe),We(Xe)))}function mn(t,e,n=(()=>{})){let r;try{r=t()}catch(t){throw e(t),n(),t}return function(t,e,n){if(m(t))return t.then((t=>(n(),t)),(t=>{throw e(t),n(),t}));return n(),t}(r,e,n)}function fn(t,e,n=(()=>{}),r=(()=>{})){const s=kn(t),i=Dt(),o=me(),a=o.getSpan(),c=Sn(i,a,s);return o.setSpan(c),mn((()=>e(c)),(t=>{c&&c.setStatus("internal_error"),n(t,c)}),(()=>{c&&c.end(),o.setSpan(a),r()}))}function gn(t,e){const n=kn(t);return ce((t=>{const r=Sn(Dt(),t.getSpan(),n);return t.setSpan(r),mn((()=>e(r)),(()=>{!r||r.status&&"ok"!==r.status||r.setStatus("internal_error")}),(()=>r&&r.end()))}))}function yn(t,e){const n=kn(t);return ce((t=>{const r=Sn(Dt(),t.getSpan(),n);function s(){r&&r.end()}return t.setSpan(r),mn((()=>e(r,s)),(()=>{!r||r.endTimestamp||r.status&&"ok"!==r.status||r.setStatus("internal_error")}))}))}function _n(t){if(!cn())return;const e={...t};void 0!==e.name&&void 0===e.description&&(e.description=e.name);const n=Dt(),r=vn();return r?r.startChild(e):n.startTransaction(e)}function vn(){return me().getSpan()}function bn({sentryTrace:t,baggage:e},n){const r=me(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=gt(t,e);r.setPropagationContext(o),J&&s&&R.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:U({dynamicSamplingContext:s&&!i?{}:i})};return n?n(a):a}function Sn(t,e,n){if(cn())return e?e.startChild(n):t.startTransaction(n)}function kn(t){const e={...t};return void 0!==e.name&&void 0===e.description&&(e.description=e.name),e}function wn(t,e,n){const r=Ye();r&&r.setMeasurement(t,e,n)}const En=/[^a-zA-Z0-9_/.-]+/g,xn=/[^\w\d_:/@.{}[\]$-]+/g;const Tn={c:class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},g:class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},d:class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},s:class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map((t=>"string"==typeof t?function(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e>>>0}(t):t)).join(":")}}};class Cn{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(t,e,n,r="none",s={},i=(0,st.ph)()){const o=Math.floor(i),a=e.replace(En,"_"),c=function(t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n.replace(En,"_")]=String(t[n]).replace(xn,"_"));return e}(s),u=function(t,e,n,r){return`${t}${e}${n}${Object.entries(U(r)).sort(((t,e)=>t[0].localeCompare(e[0])))}`}(t,a,r,c),l=this._buckets.get(u);l?(l.metric.add(n),l.timestamp<o&&(l.timestamp=o)):this._buckets.set(u,{metric:new Tn[t](n),timestamp:o,metricType:t,name:a,unit:r,tags:c})}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map((([,t])=>t));this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const In="MetricsAggregator";function Rn(t,e,n,r={}){const s=he(),i=me();if(s){if(!s.metricsAggregator)return void(J&&R.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=i.getTransaction(),p={};u&&(p.release=u),l&&(p.environment=l),d&&(p.transaction=d.name),J&&R.log(`Adding value of ${n} to ${t} metric ${e}`),s.metricsAggregator.add(t,e,n,o,{...p,...a},c)}}const Mn={increment:function(t,e=1,n){Rn("c",t,e,n)},distribution:function(t,e,n){Rn("d",t,e,n)},set:function(t,e,n){Rn("s",t,e,n)},gauge:function(t,e,n){Rn("g",t,e,n)},MetricsAggregator:ve(In,(()=>({name:In,setup(t){t.metricsAggregator=new Cn(t)}})))},On=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Dn(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${o}`}function Nn(t){const e=On.exec(t);if(!e)return void I((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,s="",i,o="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return An({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function An(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ln(t){const e="string"==typeof t?Nn(t):An(t);if(e&&function(t){if(!x)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(R.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(R.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(R.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(R.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}function Pn(t,e=[]){return[t,e]}function $n(t,e){const[n,r]=t;return[n,[...r,e]]}function Fn(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function jn(t,e){return(e||new TextEncoder).encode(t)}function Bn(t,e){const[n,r]=t;let s=JSON.stringify(n);function i(t){"string"==typeof s?s="string"==typeof t?s+t:[jn(s,e),t]:s.push("string"==typeof t?jn(t,e):t)}for(const t of r){const[e,n]=t;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(qt(n))}i(t)}}return"string"==typeof s?s:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(s)}function Un(t,e){const n="string"==typeof t.data?jn(t.data,e):t.data;return[U({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Hn={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function zn(t){return Hn[t]}function qn(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Wn(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Dn(r)},...s&&{trace:U({...s})}}}const Vn="7";function Yn(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Kn(t,e){return n={sentry_key:t.publicKey,sentry_version:Vn,...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`)).join("&");var n}function Gn(t,e={}){const n="string"==typeof e?e:e.tunnel,r="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${Yn(t)}${t.projectId}/envelope/`}(t)}?${Kn(t,r)}`}function Jn(t,e){let n;return Fn(t,((t,r)=>(e.includes(r)&&(n=Array.isArray(t)?t[1]:void 0),!!n))),n}function Xn(t,e){return n=>{const r=t(n),s={};function i(e,r){const i=r?`${e}:${r}`:e;if(!s[i]){const o=Nn(e);if(!o)return;const a=Gn(o);s[i]=r?function(t,e){return n=>{const r=t(n);return{send:async t=>{const n=Jn(t,["event","transaction","profile","replay_event"]);return n&&(n.release=e),r.send(t)},flush:t=>r.flush(t)}}}(t,r)({...n,url:a}):t({...n,url:a})}return s[i]}return{send:async function(t){const n=e({envelope:t,getEvent:function(e){const n=e&&e.length?e:["event"];return Jn(t,n)}}).map((t=>"string"==typeof t?i(t,void 0):i(t.dsn,t.release))).filter((t=>!!t));return 0===n.length&&n.push(r),(await Promise.all(n.map((e=>e.send(t)))))[0]},flush:async function(t){const e=[...Object.keys(s).map((t=>s[t])),r];return(await Promise.all(e.map((e=>e.flush(t))))).every((t=>t))}}}}class Zn extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}function Qn(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return Q(new Zn("Not adding Promise because buffer limit was reached."));const s=r();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new tt(((n,r)=>{let s=e.length;if(!s)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{Z(t).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}const tr=6e4;function er(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?tr:r-e}function nr(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}function rr(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n]=t.split(":",2),i=parseInt(e,10),o=1e3*(isNaN(i)?60:i);if(n)for(const t of n.split(";"))s[t]=r+o;else s.all=r+o}else o?s.all=r+er(o,r):429===e&&(s.all=r+6e4);return s}const sr=30;function ir(t,e,n=Qn(t.bufferSize||sr)){let r={};function s(s){const i=[];if(Fn(s,((e,n)=>{const s=zn(n);if(nr(r,s)){const r=or(e,n);t.recordDroppedEvent("ratelimit_backoff",s,r)}else i.push(e)})),0===i.length)return Z();const o=Pn(s[0],i),a=e=>{Fn(o,((n,r)=>{const s=or(n,r);t.recordDroppedEvent(e,zn(r),s)}))};return n.add((()=>e({body:Bn(o,t.textEncoder)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&J&&R.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=rr(r,t),t)),(t=>{throw a("network_error"),t})))).then((t=>t),(t=>{if(t instanceof Zn)return J&&R.error("Skipped sending event because buffer is full."),a("queue_overflow"),Z();throw t}))}return s.__sentry__baseTransport__=!0,{send:s,flush:t=>n.drain(t)}}function or(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}const ar=new Map,cr=new Set;function ur(t,e){return function(t){if(_.n2._sentryModuleMetadata)for(const e of Object.keys(_.n2._sentryModuleMetadata)){const n=_.n2._sentryModuleMetadata[e];if(cr.has(e))continue;cr.add(e);const r=t(e);for(const t of r.reverse())if(t.filename){ar.set(t.filename,n);break}}}(t),ar.get(e)}const lr="ModuleMetadata",dr=ve(lr,(()=>({name:lr,setup(t){"function"==typeof t.on&&t.on("beforeEnvelope",(t=>{Fn(t,((t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(!function(t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const e of t.stacktrace.frames||[])delete e.module_metadata}))}catch(t){}}(e),t[1]=e)}}))}))},processEvent(t,e,n){return function(t,e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[]){if(!n.filename)continue;const e=ur(t,n.filename);e&&(n.module_metadata=e)}}))}catch(t){}}(n.getOptions().stackParser,t),t}})));function pr(t,e,n,r){const s=qn(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const o=Wn(t,s,r,e);delete t.sdkProcessingMetadata;return Pn(o,[[{type:i},t]])}function hr(t,e,n,r){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&e&&(s.dsn=Dn(e));const i=function(t){const e=function(t){let e="";for(const n of t){const t=Object.entries(n.tags),r=t.length>0?`|#${t.map((([t,e])=>`${t}:${e}`)).join(",")}`:"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return e}(t);return[{type:"statsd",length:e.length},e]}(t);return Pn(s,[i])}const mr="Not capturing exception because it's already been captured.";class fr{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ln(t.dsn):J&&R.warn("No DSN provided, client will not send events."),this._dsn){const e=Gn(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){if(K(t))return void(J&&R.log(mr));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{r=t}))),r}captureMessage(t,e,n,r){let s=n&&n.event_id;const i=d(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(i.then((t=>this._captureEvent(t,n,r))).then((t=>{s=t}))),s}captureEvent(t,e,n){if(e&&e.originalException&&K(e.originalException))return void(J&&R.log(mr));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{r=t}))),r}captureSession(t){"string"!=typeof t.release?J&&R.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),at(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):Z(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&ye(t,e,n)})),n}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return J&&R.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){ye(this,t,this._integrations)}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=pr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=$n(n,Un(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,n,r){const s=qn(n);return Pn({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:Dn(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;J&&R.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(t){J&&R.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const e=hr(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}_updateSessionFromEvent(t,e){let n=!1,r=!1;const s=e.exception&&e.exception.values;if(s){r=!0;for(const t of s){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(at(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new tt((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r=Nt()){const s=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),Yt(s,t,e,n,this,r).then((t=>{if(null===t)return t;const{propagationContext:e}=t.sdkProcessingMetadata||{};if(!(t.contexts&&t.contexts.trace)&&e){const{traceId:r,spanId:s,parentSpanId:i,dsc:o}=e;t.contexts={trace:{trace_id:r,span_id:s,parent_span_id:i},...t.contexts};const a=o||en(r,this,n);t.sdkProcessingMetadata={dynamicSamplingContext:a,...t.sdkProcessingMetadata}}return t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if(J){const e=t;"log"===e.logLevel?R.log(e.message):R.warn(e)}}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:s}=r,i=yr(t),o=gr(t),a=t.type||"error",c=`before send for type \`${a}\``;if(o&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),Q(new Zn(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u="replay_event"===a?"replay":a;return this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,t),new Zn("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const s=function(t,e,n){const{beforeSend:r,beforeSendTransaction:s}=t;if(gr(e)&&r)return r(e,n);if(yr(e)&&s)return s(e,n);return e}(r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(m(t))return t.then((t=>{if(!p(t)&&null!==t)throw new Zn(n);return t}),(t=>{throw new Zn(`${e} rejected with ${t}`)}));if(!p(t)&&null!==t)throw new Zn(n);return t}(s,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",u,t),new Zn(`${c} returned \`null\`, will not send event.`,"log");const s=n&&n.getSession();!i&&s&&this._updateSessionFromEvent(s,r);const o=r.transaction_info;if(i&&o&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...o,source:t}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof Zn)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new Zn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,(t=>{J&&R.error("Error while sending event:",t)}));J&&R.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t[e]}}))}}function gr(t){return void 0===t.type}function yr(t){return"transaction"===t.type}function _r(t){const e=he();e&&e.addEventProcessor&&e.addEventProcessor(t)}const vr=_.n2;let br=0;function Sr(){return br>0}function kr(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if($(t))return t}catch(e){return t}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const s=r.map((t=>kr(t,e)));return t.apply(this,s)}catch(t){throw br++,setTimeout((()=>{br--})),ce((n=>{n.addEventProcessor((t=>(e.mechanism&&(V(t,void 0,void 0),Y(t,e.mechanism)),t.extra={...t.extra,arguments:r},t))),Xt(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}catch(t){}P(r,t),L(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch(t){}return r}var wr=n(661);const Er="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function xr(t,e){const n=Cr(t,e),r={type:e&&e.name,value:Rr(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Tr(t,e){return{exception:{values:[xr(t,e)]}}}function Cr(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(Ir.test(t.message))return 1}return 0}(e);try{return t(n,r)}catch(t){}return[]}const Ir=/Minified React error #\d+;/i;function Rr(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Mr(t,e,n,r){const s=Dr(t,e,n&&n.syntheticException||void 0,r);return Y(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Z(s)}function Or(t,e,n="info",r,s){const i=Nr(t,e,r&&r.syntheticException||void 0,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Z(i)}function Dr(t,e,n,r,s){let i;if(c(e)&&e.error){return Tr(t,e.error)}if(u(e)||a(e,"DOMException")){const s=e;if("stack"in e)i=Tr(t,e);else{const e=s.name||(u(s)?"DOMError":"DOMException"),o=s.message?`${e}: ${s.message}`:e;i=Nr(t,o,n,r),V(i,o)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}if(o(e))return Tr(t,e);if(p(e)||h(e)){return i=function(t,e,n,r){const s=he(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:h(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Ar(e,{isUnhandledRejection:r})}]},extra:{__serialized__:Wt(e,i)}};if(n){const e=Cr(t,n);e.length&&(o.exception.values[0].stacktrace={frames:e})}return o}(t,e,n,s),Y(i,{synthetic:!0}),i}return i=Nr(t,e,n,r),V(i,`${e}`,void 0),Y(i,{synthetic:!0}),i}function Nr(t,e,n,r){const s={message:e};if(r&&n){const r=Cr(t,n);r.length&&(s.exception={values:[{value:e,stacktrace:{frames:r}}]})}return s}function Ar(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys(F(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return M(n[0],e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:M(r,e)}return""}(t),r=e?"promise rejection":"exception";if(c(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(h(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function Lr(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:Dn(r)}},i=function(t){return[{type:"user_report"},t]}(t);return Pn(s,[i])}class Pr extends fr{constructor(t){const e=vr.SENTRY_SDK_SOURCE||(0,wr.S)();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${e}:@sentry/browser`,version:Tt}],version:Tt},super(t),t.sendClientReports&&vr.document&&vr.document.addEventListener("visibilitychange",(()=>{"hidden"===vr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return Mr(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return Or(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Er&&R.warn("SDK not enabled, will not capture user feedback."));const e=Lr(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(Er&&R.log("No outcomes to send"));if(!this._dsn)return void(Er&&R.log("No dsn provided, will not send outcomes"));Er&&R.log("Sending outcomes:",t);const e=(n=t,Pn((r=this._options.tunnel&&Dn(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||(0,st.yW)(),discarded_events:n}]]));var n,r,s;this._sendEnvelope(e)}}const $r=(0,_.Rf)();function Fr(){if(!("fetch"in $r))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function jr(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}let Br;function Ur(t,e=function(){if(Br)return Br;if(jr(vr.fetch))return Br=vr.fetch.bind(vr);const t=vr.document;let e=vr.fetch;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(t){Er&&R.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return Br=e.bind(vr)}()){let n=0,r=0;return ir(t,(function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,o).then((t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return Br=void 0,n-=i,r--,Q(t)}}))}const Hr=4;function zr(t){return ir(t,(function(e){return new tt(((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{s.readyState===Hr&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&s.setRequestHeader(e,t.headers[e]);s.send(e.body)}))}))}const qr="?";function Wr(t,e,n,r){const s={filename:t,function:e,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const Vr=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Yr=/\((\S*)(?::(\d+))(?::(\d+))\)/,Kr=[30,t=>{const e=Vr.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=Yr.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=os(e[1]||qr,e[2]);return Wr(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],Gr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Jr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Xr=[50,t=>{const e=Gr.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=Jr.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||qr;return[n,t]=os(n,t),Wr(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],Zr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Qr=[40,t=>{const e=Zr.exec(t);return e?Wr(e[2],e[1]||qr,+e[3],e[4]?+e[4]:void 0):void 0}],ts=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,es=[10,t=>{const e=ts.exec(t);return e?Wr(e[2],e[3]||qr,+e[1]):void 0}],ns=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,rs=[20,t=>{const e=ns.exec(t);return e?Wr(e[5],e[3]||e[4]||qr,+e[1],+e[2]):void 0}],ss=[Kr,Xr,Qr],is=Ut(...ss),os=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:qr,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};const as=(0,_.Rf)();const cs=_.n2;let us;function ls(t){const e="history";Fe(e,t),je(e,ds)}function ds(){if(!function(){const t=as.chrome,e=t&&t.app&&t.app.runtime,n="history"in as&&!!as.history.pushState&&!!as.history.replaceState;return!e&&n}())return;const t=cs.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=us,e=String(n);us=e;Be("history",{from:t,to:e})}return t.apply(this,e)}}cs.onpopstate=function(...e){const n=cs.location.href,r=us;us=n;if(Be("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},A(cs.history,"pushState",e),A(cs.history,"replaceState",e)}const ps="GlobalHandlers",hs=ve(ps,((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:ps,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){He((e=>{const{stackParser:n,attachStacktrace:r}=gs();if(he()!==t||Sr())return;const{msg:s,url:i,line:o,column:a,error:u}=e,d=void 0===u&&l(s)?function(t,e,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=c(t)?t.message:t,o="Error";const a=i.match(s);a&&(o=a[1],i=a[2]);const u={exception:{values:[{type:o,value:i}]}};return ms(u,e,n,r)}(s,i,o,a):ms(Dr(n,u||s,void 0,r,!1),i,o,a);d.level="error",Qt(d,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}(t),fs("onerror")),e.onunhandledrejection&&(!function(t){We((e=>{const{stackParser:n,attachStacktrace:r}=gs();if(he()!==t||Sr())return;const s=function(t){if(d(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return t}(e),i=d(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:Dr(n,s,void 0,r,!0);i.level="error",Qt(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),fs("onunhandledrejection"))}}}));function ms(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,p=l(e)&&e.length>0?e:w();return 0===c.length&&c.push({colno:u,filename:p,function:"?",in_app:!0,lineno:d}),t}function fs(t){Er&&R.log(`Global Handler attached: ${t}`)}function gs(){const t=he();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const ys=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],_s="TryCatch",vs=ve(_s,((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:_s,setupOnce(){e.setTimeout&&A(vr,"setTimeout",bs),e.setInterval&&A(vr,"setInterval",bs),e.requestAnimationFrame&&A(vr,"requestAnimationFrame",Ss),e.XMLHttpRequest&&"XMLHttpRequest"in vr&&A(XMLHttpRequest.prototype,"send",ks);const t=e.eventTarget;if(t){(Array.isArray(t)?t:ys).forEach(ws)}}}}));function bs(t){return function(...e){const n=e[0];return e[0]=kr(n,{mechanism:{data:{function:zt(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Ss(t){return function(e){return t.apply(this,[kr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:zt(t)},handled:!1,type:"instrument"}})])}}function ks(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&A(n,t,(function(e){const n={mechanism:{data:{function:t,handler:zt(e)},handled:!1,type:"instrument"}},r=$(e);return r&&(n.mechanism.data.handler=zt(r)),kr(e,n)}))})),t.apply(this,e)}}function ws(t){const e=vr,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(A(n,"addEventListener",(function(e){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=kr(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:zt(r),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[n,kr(r,{mechanism:{data:{function:"addEventListener",handler:zt(r),target:t},handled:!1,type:"instrument"}}),s])}})),A(n,"removeEventListener",(function(t){return function(e,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&t.call(this,e,n,r)}catch(t){}return t.call(this,e,s,r)}})))}function Es(){"console"in _.n2&&T.forEach((function(t){t in _.n2.console&&A(_.n2.console,t,(function(e){return C[t]=e,function(...e){Be("console",{args:e,level:t});const n=C[t];n&&n.apply(_.n2.console,e)}}))}))}const xs=_.n2,Ts=1e3;let Cs,Is,Rs;function Ms(t){Fe("dom",t),je("dom",Os)}function Os(){if(!xs.document)return;const t=Be.bind(null,"dom"),e=Ds(t,!0);xs.document.addEventListener("click",e,!1),xs.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=xs[e]&&xs[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(A(n,"addEventListener",(function(e){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},o=i[n]=i[n]||{refCount:0};if(!o.handler){const r=Ds(t);o.handler=r,e.call(this,n,r,s)}o.refCount++}catch(t){}return e.call(this,n,r,s)}})),A(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},i=s[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,r),i.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}function Ds(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;L(n,"_sentryCaptured",!0),r&&!r._sentryId&&L(r,"_sentryId",z());const s="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==Is)return!1;try{if(!t.target||t.target._sentryId!==Rs)return!1}catch(t){}return!0}(n)){t({event:n,name:s,global:e}),Is=n.type,Rs=r?r._sentryId:void 0}clearTimeout(Cs),Cs=xs.setTimeout((()=>{Rs=void 0,Is=void 0}),Ts)}}const Ns=_.n2,As="__sentry_xhr_v3__";function Ls(t){Fe("xhr",t),je("xhr",Ps)}function Ps(){if(!Ns.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;A(t,"open",(function(t){return function(...e){const n=Date.now(),r=l(e[0])?e[0].toUpperCase():void 0,s=function(t){if(l(t))return t;try{return t.toString()}catch(t){}return}(e[1]);if(!r||!s)return t.apply(this,e);this[As]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const t=this[As];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}Be("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?A(this,"onreadystatechange",(function(t){return function(...e){return i(),t.apply(this,e)}})):this.addEventListener("readystatechange",i),A(this,"setRequestHeader",(function(t){return function(...e){const[n,r]=e,s=this[As];return s&&l(n)&&l(r)&&(s.request_headers[n.toLowerCase()]=r),t.apply(this,e)}})),t.apply(this,e)}})),A(t,"send",(function(t){return function(...e){const n=this[As];if(!n)return t.apply(this,e);void 0!==e[0]&&(n.body=e[0]);return Be("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}function $s(t){const e="fetch";Fe(e,t),je(e,Fs)}function Fs(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!Fr())return!1;if(jr($r.fetch))return!0;let t=!1;const e=$r.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=jr(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){x&&R.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&A(_.n2,"fetch",(function(t){return function(...e){const{method:n,url:r}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Bs(e),method:js(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Bs(e),method:js(e,"method")?String(e.method).toUpperCase():"GET"}}(e),s={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Be("fetch",{...s}),t.apply(_.n2,e).then((t=>(Be("fetch",{...s,endTimestamp:Date.now(),response:t}),t)),(t=>{throw Be("fetch",{...s,endTimestamp:Date.now(),error:t}),t}))}}))}function js(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Bs(t){return"string"==typeof t?t:t?js(t,"url")?t.url:t.toString?t.toString():"":""}const Us=["fatal","error","warning","log","info","debug"];function Hs(t){return"warn"===t?"warning":Us.includes(t)?t:"log"}function zs(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const qs=1024,Ws="Breadcrumbs",Vs=ve(Ws,((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Ws,setup(t){e.console&&function(t){const e="console";Fe(e,t),je(e,Es)}(function(t){return function(e){if(he()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:Hs(e.level),message:O(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${O(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}ee(n,{input:e.args,level:e.level})}}(t)),e.dom&&Ms(function(t,e){return function(n){if(he()!==t)return;let r,s,i="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>qs&&(Er&&R.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=qs),"string"==typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=S(e,{keyAttrs:i,maxStringLength:o}),s=E(e)}catch(t){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),ee(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&Ls(function(t){return function(e){if(he()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,s=e.xhr[As];if(!n||!r||!s)return;const{method:i,url:o,status_code:a,body:c}=s;ee({category:"xhr",data:{method:i,url:o,status_code:a},type:"http"},{xhr:e.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(t)),e.fetch&&$s(function(t){return function(e){if(he()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){ee({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:n,endTimestamp:r})}else{const t=e.response;ee({category:"fetch",data:{...e.fetchData,status_code:t&&t.status},type:"http"},{input:e.args,response:t,startTimestamp:n,endTimestamp:r})}}}(t)),e.history&&ls(function(t){return function(e){if(he()!==t)return;let n=e.from,r=e.to;const s=zs(vr.location.href);let i=n?zs(n):void 0;const o=zs(r);i&&i.path||(i=s),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),ee({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on&&t.on("beforeSendEvent",function(t){return function(e){he()===t&&ee({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:W(e)},{event:e})}}(t))}}}));const Ys="LinkedErrors",Ks=ve(Ys,((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:Ys,preprocessEvent(t,r,s){const i=s.getOptions();Ie(xr,i.stackParser,i.maxValueLength,n,e,t,r)}}})),Gs="HttpContext",Js=ve(Gs,(()=>({name:Gs,preprocessEvent(t){if(!vr.navigator&&!vr.location&&!vr.document)return;const e=t.request&&t.request.url||vr.location&&vr.location.href,{referrer:n}=vr.document||{},{userAgent:r}=vr.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}))),Xs="Dedupe",Zs=ve(Xs,(()=>{let t;return{name:Xs,processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!ti(t,e))return!1;if(!Qs(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=ei(e),r=ei(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!ti(t,e))return!1;if(!Qs(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return Er&&R.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}}));function Qs(t,e){let n=ni(t),r=ni(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],s=n[t];if(e.filename!==s.filename||e.lineno!==s.lineno||e.colno!==s.colno||e.function!==s.function)return!1}return!0}function ti(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function ei(t){return t.exception&&t.exception.values&&t.exception.values[0]}function ni(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}const ri=[new Te,new ke,new vs,new Vs,new hs,new Ks,new Zs,new Js];function si(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=ri),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),vr.SENTRY_RELEASE&&vr.SENTRY_RELEASE.id&&(t.release=vr.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(n=t.stackParser||is,Array.isArray(n)?Ut(...n):n),integrations:ge(t),transport:t.transport||(Fr()?Ur:zr)};var n;!function(t,e){!0===e.debug&&(J?R.enable():I((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const n=Dt();n.getScope().update(e.initialScope);const r=new t(e);n.bindClient(r)}(Pr,e),t.autoSessionTracking&&function(){if(void 0===vr.document)return void(Er&&R.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const t=Dt();if(!t.captureSession)return;ui(t),ls((({from:t,to:e})=>{void 0!==t&&t!==e&&ui(Dt())}))}()}const ii=(t={},e=Dt())=>{if(!vr.document)return void(Er&&R.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=e.getStackTop(),s=t.dsn||n&&n.getDsn();if(!s)return void(Er&&R.error("DSN not configured for showReportDialog call"));r&&(t.user={...r.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const i=vr.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(t,e){const n=Ln(t);if(!n)return"";const r=`${Yn(n)}embed/error-page/`;let s=`dsn=${Dn(n)}`;for(const t in e)if("dsn"!==t&&"onClose"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(s+=`&name=${encodeURIComponent(t.name)}`),t.email&&(s+=`&email=${encodeURIComponent(t.email)}`)}else s+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${r}?${s}`}(s,t),t.onLoad&&(i.onload=t.onLoad);const{onClose:o}=t;if(o){const t=e=>{if("__sentry_reportdialog_closed__"===e.data)try{o()}finally{vr.removeEventListener("message",t)}};vr.addEventListener("message",t)}const a=vr.document.head||vr.document.body;a?a.appendChild(i):Er&&R.error("Not injecting report dialog. No injection point found in HTML")};function oi(){}function ai(t){t()}function ci(t){return kr(t)()}function ui(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function li(t){const e=he();e&&e.captureUserFeedback(t)}function di(t,e){const n=e&&function(t){return void 0!==t.getClient}(e)?e.getClient():e,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return function(t,e){return!!e&&t.includes(e.host)}(t,r)||function(t,e){if(!e)return!1;return pi(t)===pi(e)}(t,s)}function pi(t){return"/"===t[t.length-1]?t.slice(0,-1):t}var hi=n(305);function mi(){return"undefined"!=typeof window&&(!(0,hi.KV)()||void 0!==_.n2.process&&"renderer"===_.n2.process.type)}const fi="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,gi=(t,e,n)=>{let r,s;return i=>{e.value>=0&&(i||n)&&(s=e.value-(r||0),(s||void 0===r)&&(r=e.value,e.delta=s,t(e)))}},yi=_.n2,_i=()=>yi.__WEB_VITALS_POLYFILL__?yi.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=yi.performance.timing,e=yi.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n})()):yi.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],vi=()=>{const t=_i();return t&&t.activationStart||0},bi=(t,e)=>{const n=_i();let r="navigate";return n&&(r=yi.document.prerendering||vi()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Si=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver((t=>{e(t.getEntries())}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},ki=(t,e)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==yi.document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},wi=t=>{const e=bi("CLS",0);let n,r=0,s=[];const i=t=>{t.forEach((t=>{if(!t.hadRecentInput){const i=s[0],o=s[s.length-1];r&&0!==s.length&&t.startTime-o.startTime<1e3&&t.startTime-i.startTime<5e3?(r+=t.value,s.push(t)):(r=t.value,s=[t]),r>e.value&&(e.value=r,e.entries=s,n&&n())}}))},o=Si("layout-shift",i);if(o){n=gi(t,e);const r=()=>{i(o.takeRecords()),n(!0)};return ki(r),r}};let Ei=-1;const xi=()=>(Ei<0&&(Ei="hidden"!==yi.document.visibilityState||yi.document.prerendering?1/0:0,ki((({timeStamp:t})=>{Ei=t}),!0)),{get firstHiddenTime(){return Ei}}),Ti=t=>{const e=xi(),n=bi("FID");let r;const s=t=>{t.startTime<e.firstHiddenTime&&(n.value=t.processingStart-t.startTime,n.entries.push(t),r(!0))},i=t=>{t.forEach(s)},o=Si("first-input",i);r=gi(t,n),o&&ki((()=>{i(o.takeRecords()),o.disconnect()}),!0)},Ci={},Ii=t=>{const e=xi(),n=bi("LCP");let r;const s=t=>{const s=t[t.length-1];if(s){const t=Math.max(s.startTime-vi(),0);t<e.firstHiddenTime&&(n.value=t,n.entries=[s],r())}},i=Si("largest-contentful-paint",s);if(i){r=gi(t,n);const e=()=>{Ci[n.id]||(s(i.takeRecords()),i.disconnect(),Ci[n.id]=!0,r(!0))};return["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),ki(e,!0),e}},Ri={},Mi={};let Oi,Di,Ni;function Ai(t){return Bi("lcp",t,ji,Ni)}function Li(t,e){return Ui(t,e),Mi[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);Si(t,(e=>{Pi(t,{entries:e})}),e)}(t),Mi[t]=!0),Hi(t,e)}function Pi(t,e){const n=Ri[t];if(n&&n.length)for(const r of n)try{r(e)}catch(e){fi&&R.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${zt(r)}\nError:`,e)}}function $i(){wi((t=>{Pi("cls",{metric:t}),Oi=t}))}function Fi(){Ti((t=>{Pi("fid",{metric:t}),Di=t}))}function ji(){Ii((t=>{Pi("lcp",{metric:t}),Ni=t}))}function Bi(t,e,n,r){return Ui(t,e),Mi[t]||(n(),Mi[t]=!0),r&&e({metric:r}),Hi(t,e)}function Ui(t,e){Ri[t]=Ri[t]||[],Ri[t].push(e)}function Hi(t,e){return()=>{const n=Ri[t];if(!n)return;const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}const zi=_.n2,qi="sentryReplaySession",Wi="replay_event",Vi="Unable to send Replay",Yi=15e4,Ki=5e3,Gi=2e7,Ji=36e5,Xi={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};var Zi;function Qi(t){const e=null==t?void 0:t.host;return Boolean((null==e?void 0:e.shadowRoot)===t)}function to(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function eo(t){try{const n=t.rules||t.cssRules;return n?((e=Array.from(n,no).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e):null}catch(t){return null}var e}function no(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=eo(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}(t)}catch(t){}else if(function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":"))return function(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}(t.cssText);return e||t.cssText}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(Zi||(Zi={}));class ro{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var e;if(!t)return-1;const n=null===(e=this.getMeta(t))||void 0===e?void 0:e.id;return null!=n?n:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)}replace(t,e){const n=this.getNode(t);if(n){const t=this.nodeMetaMap.get(n);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function so({maskInputOptions:t,tagName:e,type:n}){return"OPTION"===e&&(e="SELECT"),Boolean(t[e.toLowerCase()]||n&&t[n]||"password"===n||"INPUT"===e&&!n&&t.text)}function io({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function oo(t){return t.toLowerCase()}function ao(t){return t.toUpperCase()}const co="__rrweb_original__";function uo(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?oo(e):null}function lo(t,e,n){return"INPUT"!==e||"radio"!==n&&"checkbox"!==n?t.value:t.getAttribute("value")||""}let po=1;const ho=new RegExp("[^a-z0-9-_:]"),mo=-2;function fo(){return po++}let go,yo;const _o=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,vo=/^(?:[a-z+]+:)?\/\//i,bo=/^www\..*/i,So=/^(data:)([^,]*),(.*)/i;function ko(t,e){return(t||"").replace(_o,((t,n,r,s,i,o)=>{const a=r||i||o,c=n||s||"";if(!a)return t;if(vo.test(a)||bo.test(a))return`url(${c}${a}${c})`;if(So.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${c})`;const u=e.split("/"),l=a.split("/");u.pop();for(const t of l)"."!==t&&(".."===t?u.pop():u.push(t));return`url(${c}${u.join("/")}${c})`}))}const wo=/^[^ \t\n\r\u000c]+/,Eo=/^[, \t\n\r\u000c]+/;function xo(t,e){if(!e||""===e.trim())return e;const n=t.createElement("a");return n.href=e,n.href}function To(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function Co(){const t=document.createElement("a");return t.href="",t.href}function Io(t,e,n,r,s,i){return r?"src"===n||"href"===n&&("use"!==e||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?xo(t,r):"background"!==n||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n?function(t,e){if(""===e.trim())return e;let n=0;function r(t){let r;const s=t.exec(e.substring(n));return s?(r=s[0],n+=r.length,r):""}const s=[];for(;r(Eo),!(n>=e.length);){let i=r(wo);if(","===i.slice(-1))i=xo(t,i.substring(0,i.length-1)),s.push(i);else{let r="";i=xo(t,i);let o=!1;for(;;){const t=e.charAt(n);if(""===t){s.push((i+r).trim());break}if(o)")"===t&&(o=!1);else{if(","===t){n+=1,s.push((i+r).trim());break}"("===t&&(o=!0)}r+=t,n+=1}}}return s.join(", ")}(t,r):"style"===n?ko(r,Co()):"object"===e&&"data"===n?xo(t,r):"function"==typeof i?i(n,r,s):r:xo(t,r):r}function Ro(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}function Mo(t,e,n=1/0,r=0){return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:Mo(t.parentNode,e,n,r+1):-1}function Oo(t,e){return n=>{const r=n;if(null===r)return!1;if(t)if("string"==typeof t){if(r.matches(`.${t}`))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}}function Do(t,e,n,r,s,i){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===o)return!1;let a=-1,c=-1;if(i){if(c=Mo(o,Oo(r,s)),c<0)return!0;a=Mo(o,Oo(e,n),c>=0?c:1/0)}else{if(a=Mo(o,Oo(e,n)),a<0)return!1;c=Mo(o,Oo(r,s),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!i}catch(t){}return!!i}function No(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:m={},maskTextFn:f,maskInputFn:g,dataURLOptions:y={},inlineImages:_,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S=!1}=e,k=function(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return 1===n?void 0:n}(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:Zi.Document,childNodes:[],compatMode:t.compatMode}:{type:Zi.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Zi.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:k};case t.ELEMENT_NODE:return function(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:m=!1,rootId:f,maskAllText:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:b}=e,S=function(t,e,n,r){try{if(r&&t.matches(r))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}if(n)return t.matches(n)}catch(t){}return!1}(t,r,s,i),k=function(t){if(t instanceof HTMLFormElement)return"form";const e=oo(t.tagName);return ho.test(e)?"div":e}(t);let w={};const E=t.attributes.length;for(let e=0;e<E;e++){const r=t.attributes[e];Ro(k,r.name,r.value)||(w[r.name]=Io(n,k,oo(r.name),r.value,t,c))}if("link"===k&&o){const e=Array.from(n.styleSheets).find((e=>e.href===t.href));let r=null;e&&(r=eo(e)),r&&(delete w.rel,delete w.href,w._cssText=ko(r,e.href))}if("style"===k&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=eo(t.sheet);e&&(w._cssText=ko(e,Co()))}if("input"===k||"textarea"===k||"select"===k||"option"===k){const e=t,n=uo(e),r=lo(e,ao(k),n),s=e.checked;if("submit"!==n&&"button"!==n&&r){const t=Do(e,y,v,_,b,so({type:n,tagName:ao(k),maskInputOptions:a}));w.value=io({isMasked:t,element:e,value:r,maskInputFn:u})}s&&(w.checked=s)}"option"===k&&(t.selected&&!a.select?w.selected=!0:delete w.selected);if("canvas"===k&&p)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let r=0;r<t.height;r+=50){const s=e.getImageData,i=co in s?s[co]:s;if(new Uint32Array(i.call(e,n,r,Math.min(50,t.width-n),Math.min(50,t.height-r)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(w.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const e=t.toDataURL(l.type,l.quality),n=document.createElement("canvas");n.width=t.width,n.height=t.height;e!==n.toDataURL(l.type,l.quality)&&(w.rr_dataURL=e)}if("img"===k&&d){go||(go=n.createElement("canvas"),yo=go.getContext("2d"));const e=t,r=e.crossOrigin;e.crossOrigin="anonymous";const s=()=>{e.removeEventListener("load",s);try{go.width=e.naturalWidth,go.height=e.naturalHeight,yo.drawImage(e,0,0),w.rr_dataURL=go.toDataURL(l.type,l.quality)}catch(t){console.warn(`Cannot inline img src=${e.currentSrc}! Error: ${t}`)}r?w.crossOrigin=r:e.removeAttribute("crossorigin")};e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s)}"audio"!==k&&"video"!==k||(w.rr_mediaState=t.paused?"paused":"played",w.rr_mediaCurrentTime=t.currentTime);m||(t.scrollLeft&&(w.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(w.rr_scrollTop=t.scrollTop));if(S){const{width:e,height:n}=t.getBoundingClientRect();w={class:w.class,rr_width:`${e}px`,rr_height:`${n}px`}}"iframe"!==k||h(w.src)||(t.contentDocument||(w.rr_src=w.src),delete w.src);let x;try{customElements.get(k)&&(x=!0)}catch(t){}return{type:Zi.Element,tagName:k,attributes:w,childNodes:[],isSVG:To(t)||void 0,needBlock:S,rootId:f,isCustom:x}}(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:m,maskInputFn:g,dataURLOptions:y,inlineImages:_,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S,rootId:k,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p});case t.TEXT_NODE:return function(t,e){var n;const{maskAllText:r,maskTextClass:s,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:u,maskInputFn:l,rootId:d}=e,p=t.parentNode&&t.parentNode.tagName;let h=t.textContent;const m="STYLE"===p||void 0,f="SCRIPT"===p||void 0,g="TEXTAREA"===p||void 0;if(m&&h){try{t.nextSibling||t.previousSibling||(null===(n=t.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(h=eo(t.parentNode.sheet))}catch(e){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${e}`,t)}h=ko(h,Co())}f&&(h="SCRIPT_PLACEHOLDER");const y=Do(t,s,o,i,a,r);m||f||g||!h||!y||(h=c?c(h):h.replace(/[\S]/g,"*"));g&&h&&(u.textarea||y)&&(h=l?l(h,t.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===p&&h){h=io({isMasked:Do(t,s,o,i,a,so({type:null,tagName:p,maskInputOptions:u})),element:t,value:h,maskInputFn:l})}return{type:Zi.Text,textContent:h||"",isStyle:m,rootId:d}}(t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:f,maskInputOptions:m,maskInputFn:g,rootId:k});case t.CDATA_SECTION_NODE:return{type:Zi.CDATA,textContent:"",rootId:k};case t.COMMENT_NODE:return{type:Zi.Comment,textContent:t.textContent||"",rootId:k};default:return!1}}function Ao(t){return null==t?"":t.toLowerCase()}function Lo(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:m={},maskAttributeFn:f,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:C=(()=>!1),newlyAddedElement:I=!1}=e;let{preserveWhiteSpace:R=!0}=e;const M=No(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:y,dataURLOptions:v,inlineImages:b,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:I});if(!M)return console.warn(t,"not serialized"),null;let O;O=r.hasNode(t)?r.getId(t):!function(t,e){if(e.comment&&t.type===Zi.Comment)return!0;if(t.type===Zi.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(Ao(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Ao(t.attributes.name)||"icon"===Ao(t.attributes.rel)||"apple-touch-icon"===Ao(t.attributes.rel)||"shortcut icon"===Ao(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&Ao(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Ao(t.attributes.property).match(/^(og|twitter|fb):/)||Ao(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===Ao(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===Ao(t.attributes.name)||"googlebot"===Ao(t.attributes.name)||"bingbot"===Ao(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===Ao(t.attributes.name)||"generator"===Ao(t.attributes.name)||"framework"===Ao(t.attributes.name)||"publisher"===Ao(t.attributes.name)||"progid"===Ao(t.attributes.name)||Ao(t.attributes.property).match(/^article:/)||Ao(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===Ao(t.attributes.name)||"yandex-verification"===Ao(t.attributes.name)||"csrf-token"===Ao(t.attributes.name)||"p:domain_verify"===Ao(t.attributes.name)||"verify-v1"===Ao(t.attributes.name)||"verification"===Ao(t.attributes.name)||"shopify-checkout-api-token"===Ao(t.attributes.name)))return!0}}return!1}(M,_)&&(R||M.type!==Zi.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?fo():mo;const D=Object.assign(M,{id:O});if(r.add(t,D),O===mo)return null;k&&k(t);let N=!p;if(D.type===Zi.Element){N=N&&!D.needBlock,delete D.needBlock;const e=t.shadowRoot;e&&to(e)&&(D.isShadowHost=!0)}if((D.type===Zi.Document||D.type===Zi.Element)&&N){_.headWhitespace&&D.type===Zi.Element&&"head"===D.tagName&&(R=!1);const e={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:T,keepIframeSrcFn:C};for(const n of Array.from(t.childNodes)){const t=Lo(n,e);t&&D.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const r=Lo(n,e);r&&(to(t.shadowRoot)&&(r.isShadow=!0),D.childNodes.push(r))}}return t.parentNode&&Qi(t.parentNode)&&to(t.parentNode)&&(D.isShadow=!0),D.type===Zi.Element&&"iframe"===D.tagName&&function(t,e,n){const r=t.contentWindow;if(!r)return;let s,i=!1;try{s=r.document.readyState}catch(t){return}if("complete"!==s){const r=setTimeout((()=>{i||(e(),i=!0)}),n);return void t.addEventListener("load",(()=>{clearTimeout(r),i=!0,e()}))}const o="about:blank";if(r.location.href!==o||t.src===o||""===t.src)return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,(()=>{const e=t.contentDocument;if(e&&w){const n=Lo(e,{doc:e,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:T,keepIframeSrcFn:C});n&&w(t,n)}}),E),D.type===Zi.Element&&"link"===D.tagName&&"stylesheet"===D.attributes.rel&&function(t,e,n){let r,s=!1;try{r=t.sheet}catch(t){return}if(r)return;const i=setTimeout((()=>{s||(e(),s=!0)}),n);t.addEventListener("load",(()=>{clearTimeout(i),s=!0,e()}))}(t,(()=>{if(x){const e=Lo(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:T,keepIframeSrcFn:C});e&&x(t,e)}}),T),D}function Po(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const $o="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Fo={map:{},getId(){return console.error($o),-1},getNode(){return console.error($o),null},removeNodeFromMap(){console.error($o)},has(){return console.error($o),!1},reset(){console.error($o)}};function jo(t,e,n={}){let r=null,s=0;return function(...i){const o=Date.now();s||!1!==n.leading||(s=o);const a=e-(o-s),c=this;a<=0||a>e?(r&&(clearTimeout(r),r=null),s=o,t.apply(c,i)):r||!1===n.trailing||(r=setTimeout((()=>{s=!1===n.leading?0:Date.now(),r=null,t.apply(c,i)}),a))}}function Bo(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(t){setTimeout((()=>{n.set.call(this,t)}),0),i&&i.set&&i.set.call(this,t)}}),()=>Bo(t,e,i||{},!0)}function Uo(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch(t){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Fo=new Proxy(Fo,{get(t,e,n){return"map"===e&&console.error($o),Reflect.get(t,e,n)}}));let Ho=Date.now;function zo(t){var e,n,r,s,i,o;const a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null===(n=null===(e=null==a?void 0:a.body)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null==a?void 0:a.body)||void 0===r?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null===(i=null===(s=null==a?void 0:a.body)||void 0===s?void 0:s.parentElement)||void 0===i?void 0:i.scrollTop)||(null===(o=null==a?void 0:a.body)||void 0===o?void 0:o.scrollTop)||0}}function qo(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Wo(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Vo(t,e,n,r,s){if(!t)return!1;const i=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!i)return!1;const o=Oo(e,n);if(!s){const t=r&&i.matches(r);return o(i)&&!t}const a=Mo(i,o);let c=-1;return!(a<0)&&(r&&(c=Mo(i,Oo(null,r))),a>-1&&c<0||a<c)}function Yo(t,e){return e.getId(t)===mo}function Ko(t,e){if(Qi(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||Ko(t.parentNode,e))}function Go(t){return Boolean(t.changedTouches)}function Jo(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function Xo(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function Zo(t){return Boolean(null==t?void 0:t.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(Ho=()=>(new Date).getTime());class Qo{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var e;return null!==(e=this.styleIDMap.get(t))&&void 0!==e?e:-1}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let n;return n=void 0===e?this.id++:e,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ta(t){var e,n;let r=null;return(null===(n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(r=t.getRootNode().host),r}function ea(t){const e=t.ownerDocument;if(!e)return!1;const n=function(t){let e,n=t;for(;e=ta(n);)n=e;return n}(t);return e.contains(n)}function na(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||ea(t))}var ra=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(ra||{}),sa=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(sa||{}),ia=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(ia||{}),oa=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(oa||{});function aa(t){return"__ln"in t}class ca{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&aa(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&aa(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ua=(t,e)=>`${t}@${e}`;class la{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,n=new ca,r=t=>{let e=t,n=mo;for(;n===mo;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},s=s=>{if(!s.parentNode||!na(s))return;const i=Qi(s.parentNode)?this.mirror.getId(ta(s)):this.mirror.getId(s.parentNode),o=r(s);if(-1===i||-1===o)return n.addNode(s);const a=Lo(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{Jo(t,this.mirror)&&this.iframeManager.addIframe(t),Xo(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),Zo(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});a&&(t.push({parentId:i,nextId:o,node:a}),e.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)pa(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||s(t);for(const t of this.addedSet)ma(this.droppedSet,t)||pa(this.removes,t,this.mirror)?ma(this.movedSet,t)?s(t):this.droppedSet.add(t):s(t);let i=null;for(;n.length;){let t=null;if(i){const e=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==e&&-1!==n&&(t=i)}if(!t){let e=n.tail;for(;e;){const n=e;if(e=e.previous,n){const e=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==e){t=n;break}{const e=n.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=e.parentNode.host;if(-1!==this.mirror.getId(r)){t=n;break}}}}}}if(!t){for(;n.head;)n.removeNode(n.head.value);break}i=t.previous,n.removeNode(t.value),s(t.value)}const o={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>{const{attributes:e}=t;if("string"==typeof e.style){const n=JSON.stringify(t.styleDiff),r=JSON.stringify(t._unchangedStyles);n.length<e.style.length&&(n+r).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}})).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=t=>{if(Yo(t.target,this.mirror))return;let e;try{e=document.implementation.createHTMLDocument()}catch(t){e=this.doc}switch(t.type){case"characterData":{const e=t.target.textContent;Vo(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||e===t.oldValue||this.texts.push({value:Do(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if("value"===r){const e=uo(n),r=n.tagName;s=lo(n,r,e);const i=so({maskInputOptions:this.maskInputOptions,tagName:r,type:e});s=io({isMasked:Do(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:n,value:s,maskInputFn:this.maskInputFn})}if(Vo(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributes.find((e=>e.node===t.target));if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(s)){if(n.contentDocument)return;r="rr_src"}if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i)),"type"===r&&"INPUT"===n.tagName&&"password"===(t.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Ro(n.tagName,r)&&(i.attributes[r]=Io(this.doc,oo(n.tagName),oo(r),s,n,this.maskAttributeFn),"style"===r)){const r=e.createElement("span");t.oldValue&&r.setAttribute("style",t.oldValue);for(const t of Array.from(n.style)){const e=n.style.getPropertyValue(t),s=n.style.getPropertyPriority(t);e!==r.style.getPropertyValue(t)||s!==r.style.getPropertyPriority(t)?i.styleDiff[t]=""===s?e:[e,s]:i._unchangedStyles[t]=[e,s]}for(const t of Array.from(r.style))""===n.style.getPropertyValue(t)&&(i.styleDiff[t]=!1)}break}case"childList":if(Vo(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const n=this.mirror.getId(e),r=Qi(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Vo(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Yo(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(da(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||Ko(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[ua(n,r)]?da(this.movedSet,e):this.removes.push({parentId:r,id:n,isShadow:!(!Qi(t.target)||!to(t.target))||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(Yo(t,this.mirror))return;this.movedSet.add(t);let n=null;e&&this.mirror.hasNode(e)&&(n=this.mirror.getId(e)),n&&-1!==n&&(this.movedMap[ua(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Vo(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach((t=>this.genAdds(t))),Zo(t)&&t.shadowRoot.childNodes.forEach((e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)})))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function da(t,e){t.delete(e),e.childNodes.forEach((e=>da(t,e)))}function pa(t,e,n){return 0!==t.length&&ha(t,e,n)}function ha(t,e,n){const{parentNode:r}=e;if(!r)return!1;const s=n.getId(r);return!!t.some((t=>t.id===s))||ha(t,r,n)}function ma(t,e){return 0!==t.size&&fa(t,e)}function fa(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||fa(t,n))}let ga;function ya(t){ga=t}function _a(){ga=void 0}const va=t=>{if(!ga)return t;return(...e)=>{try{return t(...e)}catch(t){if(ga&&!0===ga(t))return()=>{};throw t}}},ba=[];function Sa(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function ka(t,e){var n,r;const s=new la;ba.push(s),s.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const o=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");o&&window[o]&&(i=window[o]);const a=new i(va((e=>{t.onMutation&&!1===t.onMutation(e)||s.processMutations.bind(s)(e)})));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function wa({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const a=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,c=[];let u=null;return Object.keys(ia).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==a[t])).forEach((o=>{let a=oo(o);const l=(e=>o=>{const a=Sa(o);if(Vo(a,r,s,i,!0))return;let c=null,l=e;if("pointerType"in o){switch(o.pointerType){case"mouse":c=oa.Mouse;break;case"touch":c=oa.Touch;break;case"pen":c=oa.Pen}c===oa.Touch?ia[e]===ia.MouseDown?l="TouchStart":ia[e]===ia.MouseUp&&(l="TouchEnd"):oa.Pen}else Go(o)&&(c=oa.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===oa.Touch||l.startsWith("Mouse")&&c===oa.Mouse)&&(c=null)):ia[e]===ia.Click&&(c=u,u=null);const d=Go(o)?o.changedTouches[0]:o;if(!d)return;const p=n.getId(a),{clientX:h,clientY:m}=d;va(t)(Object.assign({type:ia[l],id:p,x:h,y:m},null!==c&&{pointerType:c}))})(o);if(window.PointerEvent)switch(ia[o]){case ia.MouseDown:case ia.MouseUp:a=a.replace("mouse","pointer");break;case ia.TouchStart:case ia.TouchEnd:return}c.push(Po(a,l,e))})),va((()=>{c.forEach((t=>t()))}))}function Ea({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){return Po("scroll",va(jo(va((o=>{const a=Sa(o);if(!a||Vo(a,r,s,i,!0))return;const c=n.getId(a);if(a===e&&e.defaultView){const n=zo(e.defaultView);t({id:c,x:n.left,y:n.top})}else t({id:c,x:a.scrollLeft,y:a.scrollTop})})),o.scroll||100)),e)}const xa=["INPUT","TEXTAREA","SELECT"],Ta=new WeakMap;function Ca({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:f}){function g(t){let n=Sa(t);const l=t.isTrusted,g=n&&ao(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||xa.indexOf(g)<0||Vo(n,r,s,i,!0))return;const _=n;if(_.classList.contains(o)||a&&_.matches(a))return;const v=uo(n);let b=lo(_,g,v),S=!1;const k=so({maskInputOptions:c,tagName:g,type:v}),w=Do(n,p,m,h,f,k);"radio"!==v&&"checkbox"!==v||(S=n.checked),b=io({isMasked:w,element:n,value:b,maskInputFn:u}),y(n,d?{text:b,isChecked:S,userTriggered:l}:{text:b,isChecked:S});const E=n.name;"radio"===v&&E&&S&&e.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach((t=>{if(t!==n){const e=io({isMasked:w,element:t,value:lo(t,g,v),maskInputFn:u});y(t,d?{text:e,isChecked:!S,userTriggered:!1}:{text:e,isChecked:!S})}}))}function y(e,r){const s=Ta.get(e);if(!s||s.text!==r.text||s.isChecked!==r.isChecked){Ta.set(e,r);const s=n.getId(e);va(t)(Object.assign(Object.assign({},r),{id:s}))}}const _=("last"===l.input?["change"]:["input","change"]).map((t=>Po(t,va(g),e))),v=e.defaultView;if(!v)return()=>{_.forEach((t=>t()))};const b=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),S=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&_.push(...S.map((t=>Bo(t[0],t[1],{set(){va(g)({target:this,isTrusted:!1})}},!1,v)))),va((()=>{_.forEach((t=>t()))}))}function Ia(t){return function(t,e){if(Da("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||Da("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||Da("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||Da("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else if(t.parentStyleSheet){const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function Ra(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function Ma({mirror:t,stylesheetManager:e},n){var r,s,i;let o=null;o="#document"===n.nodeName?t.getId(n):t.getId(n.host);const a="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(i=null===(s=n.ownerDocument)||void 0===s?void 0:s.defaultView)||void 0===i?void 0:i.ShadowRoot,c=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&a&&c?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var t;return null===(t=c.get)||void 0===t?void 0:t.call(this)},set(t){var n;const r=null===(n=c.set)||void 0===n?void 0:n.call(this,t);if(null!==o&&-1!==o)try{e.adoptStyleSheets(t,o)}catch(t){}return r}}),va((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):()=>{}}function Oa(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=ka(t,t.doc),s=function({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(!1===e.mousemove)return()=>{};const s="number"==typeof e.mousemove?e.mousemove:50,i="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let o,a=[];const c=jo(va((e=>{const n=Date.now()-o;t(a.map((t=>(t.timeOffset-=n,t))),e),a=[],o=null})),i),u=va(jo(va((t=>{const e=Sa(t),{clientX:n,clientY:s}=Go(t)?t.changedTouches[0]:t;o||(o=Ho()),a.push({x:n,y:s,id:r.getId(e),timeOffset:Ho()-o}),c("undefined"!=typeof DragEvent&&t instanceof DragEvent?sa.Drag:t instanceof MouseEvent?sa.MouseMove:sa.TouchMove)})),s,{trailing:!1})),l=[Po("mousemove",u,n),Po("touchmove",u,n),Po("drag",u,n)];return va((()=>{l.forEach((t=>t()))}))}(t),i=wa(t),o=Ea(t),a=function({viewportResizeCb:t},{win:e}){let n=-1,r=-1;return Po("resize",va(jo(va((()=>{const e=qo(),s=Wo();n===e&&r===s||(t({width:Number(s),height:Number(e)}),n=e,r=s)})),200)),e)}(t,{win:n}),c=Ca(t),u=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=va((o=>jo(va((i=>{const a=Sa(i);if(!a||Vo(a,e,n,r,!0))return;const{currentTime:c,volume:u,muted:l,playbackRate:d}=a;t({type:o,id:s.getId(a),currentTime:c,volume:u,muted:l,playbackRate:d})})),i.media||500))),c=[Po("play",a(0),o),Po("pause",a(1),o),Po("seeked",a(2),o),Po("volumechange",a(3),o),Po("ratechange",a(4),o)];return va((()=>{c.forEach((t=>t()))}))}(t),l=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:va(((r,s,i)=>{const[o,a]=i,{id:c,styleId:u}=Ra(s,e,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,adds:[{rule:o,index:a}]}),r.apply(s,i)}))});const i=r.CSSStyleSheet.prototype.deleteRule;let o,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:va(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=Ra(s,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,removes:[{index:o}]}),r.apply(s,i)}))}),r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:va(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=Ra(s,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,replace:o}),r.apply(s,i)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:va(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=Ra(s,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,replaceSync:o}),r.apply(s,i)}))}));const c={};Na("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Na("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Na("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Na("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach((([r,s])=>{u[r]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(u[r].insertRule,{apply:va(((r,s,i)=>{const[o,a]=i,{id:c,styleId:u}=Ra(s.parentStyleSheet,e,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,adds:[{rule:o,index:[...Ia(s),a||0]}]}),r.apply(s,i)}))}),s.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:va(((r,s,i)=>{const[o]=i,{id:a,styleId:c}=Ra(s.parentStyleSheet,e,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&t({id:a,styleId:c,removes:[{index:[...Ia(s),o]}]}),r.apply(s,i)}))})})),va((()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([t,e])=>{e.prototype.insertRule=u[t].insertRule,e.prototype.deleteRule=u[t].deleteRule}))}))}(t,{win:n}),d=Ma(t,t.doc),p=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:va(((s,o,a)=>{var c;const[u,l,d]=a;if(n.has(u))return i.apply(o,[u,l,d]);const{id:p,styleId:h}=Ra(null===(c=o.parentRule)||void 0===c?void 0:c.parentStyleSheet,e,r.styleMirror);return(p&&-1!==p||h&&-1!==h)&&t({id:p,styleId:h,set:{property:u,value:l,priority:d},index:Ia(o.parentRule)}),s.apply(o,a)}))});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:va(((s,i,a)=>{var c;const[u]=a;if(n.has(u))return o.apply(i,[u]);const{id:l,styleId:d}=Ra(null===(c=i.parentRule)||void 0===c?void 0:c.parentStyleSheet,e,r.styleMirror);return(l&&-1!==l||d&&-1!==d)&&t({id:l,styleId:d,remove:{property:u},index:Ia(i.parentRule)}),s.apply(i,a)}))}),va((()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o}))}(t,{win:n}),h=t.collectFonts?function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(t,e,n){const r=new i(t,e,n);return s.set(r,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const o=Uo(e.fonts,"add",(function(e){return function(n){return setTimeout(va((()=>{const e=s.get(n);e&&(t(e),s.delete(n))})),0),e.apply(this,[n])}}));return r.push((()=>{n.FontFace=i})),r.push(o),va((()=>{r.forEach((t=>t()))}))}(t):()=>{},m=function(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=t;let a=!0;const c=va((()=>{const t=e.getSelection();if(!t||a&&(null==t?void 0:t.isCollapsed))return;a=t.isCollapsed||!1;const c=[],u=t.rangeCount||0;for(let e=0;e<u;e++){const o=t.getRangeAt(e),{startContainer:a,startOffset:u,endContainer:l,endOffset:d}=o;Vo(a,r,s,i,!0)||Vo(l,r,s,i,!0)||c.push({start:n.getId(a),startOffset:u,end:n.getId(l),endOffset:d})}o({ranges:c})}));return c(),Po("selectionchange",c)}(t),f=function({doc:t,customElementCb:e}){const n=t.defaultView;return n&&n.customElements?Uo(n.customElements,"define",(function(t){return function(n,r,s){try{e({define:{name:n}})}catch(t){}return t.apply(this,[n,r,s])}})):()=>{}}(t),g=[];for(const e of t.plugins)g.push(e.observer(e.callback,n,e.options));return va((()=>{ba.forEach((t=>t.reset())),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),p(),h(),m(),f(),g.forEach((t=>t()))}))}function Da(t){return void 0!==window[t]}function Na(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Aa{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,n,r){const s=n||this.getIdToRemoteIdMap(t),i=r||this.getRemoteIdToIdMap(t);let o=s.get(e);return o||(o=this.generateIdFn(),s.set(e,o),i.set(o,e)),o}getIds(t,e){const n=this.getIdToRemoteIdMap(t),r=this.getRemoteIdToIdMap(t);return e.map((e=>this.getId(t,e,n,r)))}getRemoteId(t,e,n){const r=n||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;const s=r.get(e);return s||-1}getRemoteIds(t,e){const n=this.getRemoteIdToIdMap(t);return e.map((e=>this.getRemoteId(t,e,n)))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}class La{constructor(){this.crossOriginIframeMirror=new Aa(fo),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Pa{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Aa(fo),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Aa(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const n=this.crossOriginIframeMap.get(t.source);if(!n)return;const r=this.transformCrossOriginEvent(n,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(t,e){var n;switch(e.type){case ra.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const n=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(e.data.node,n),{timestamp:e.timestamp,type:ra.IncrementalSnapshot,data:{source:sa.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ra.Meta:case ra.Load:case ra.DomContentLoaded:return!1;case ra.Plugin:return e;case ra.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case ra.IncrementalSnapshot:switch(e.data.source){case sa.Mutation:return e.data.adds.forEach((e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const n=this.crossOriginIframeRootIdMap.get(t);n&&this.patchRootIdOnNode(e.node,n)})),e.data.removes.forEach((e=>{this.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((e=>{this.replaceIds(e,t,["id"])})),e.data.texts.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case sa.Drag:case sa.TouchMove:case sa.MouseMove:return e.data.positions.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case sa.ViewportResize:return!1;case sa.MediaInteraction:case sa.MouseInteraction:case sa.Scroll:case sa.CanvasMutation:case sa.Input:return this.replaceIds(e.data,t,["id"]),e;case sa.StyleSheetRule:case sa.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case sa.Font:return e;case sa.Selection:return e.data.ranges.forEach((e=>{this.replaceIds(e,t,["start","end"])})),e;case sa.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null===(n=e.data.styles)||void 0===n||n.forEach((e=>{this.replaceStyleIds(e,t,["styleId"])})),e}}return!1}replace(t,e,n,r){for(const s of r)(Array.isArray(e[s])||"number"==typeof e[s])&&(Array.isArray(e[s])?e[s]=t.getIds(n,e[s]):e[s]=t.getId(n,e[s]));return e}replaceIds(t,e,n){return this.replace(this.crossOriginIframeMirror,t,e,n)}replaceStyleIds(t,e,n){return this.replace(this.crossOriginIframeStyleMirror,t,e,n)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach((t=>{this.replaceIdOnNode(t,e)}))}patchRootIdOnNode(t,e){t.type===Zi.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach((t=>{this.patchRootIdOnNode(t,e)}))}}class $a{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Fa{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!to(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t);const n=ka(Object.assign(Object.assign({},this.bypassOptions),{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Ea(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout((()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Ma({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))}),0)}observeAttachShadow(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,e){const n=this;this.restoreHandlers.push(Uo(t.prototype,"attachShadow",(function(t){return function(r){const s=t.call(this,r);return this.shadowRoot&&na(this)&&n.addShadowRoot(this.shadowRoot,e),s}})))}reset(){this.restoreHandlers.forEach((t=>{try{t()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class ja{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class Ba{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Qo,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const n={id:e,styleIds:[]},r=[];for(const e of t){let t;this.styleMirror.has(e)?t=this.styleMirror.getId(e):(t=this.styleMirror.add(e),r.push({styleId:t,rules:Array.from(e.rules||CSSRule,((t,e)=>({rule:no(t),index:e})))})),n.styleIds.push(t)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Ua{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(t,e){const n=this.nodeMap.get(t);return n&&Array.from(n).some((t=>t!==e))}add(t,e){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function Ha(t){const e=t;return e.timestamp=Ho(),e}let za,qa;const Wa=new ro;function Va(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:m=!0,maskAllInputs:f,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,packFn:S,sampling:k={},dataURLOptions:w={},mousemoveWait:E,recordCanvas:x=!1,recordCrossOriginIframes:T=!1,recordAfter:C=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:R=!1,inlineImages:M=!1,plugins:O,keepIframeSrcFn:D=(()=>!1),ignoreCSSAttributes:N=new Set([]),errorHandler:A,onMutation:L,getCanvasManager:P}=t;ya(A);const $=!T||window.parent===window;let F=!1;if(!$)try{window.parent.document&&(F=!1)}catch(t){F=!0}if($&&!e)throw new Error("emit function is required");void 0!==E&&void 0===k.mousemove&&(k.mousemove=E),Wa.reset();const j=!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},B=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let U;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let H=0;const z=t=>{for(const e of O||[])e.eventProcessor&&(t=e.eventProcessor(t));return S&&!F&&(t=S(t)),t},q=(t,s)=>{var i;if(!(null===(i=ba[0])||void 0===i?void 0:i.isFrozen())||t.type===ra.FullSnapshot||t.type===ra.IncrementalSnapshot&&t.data.source===sa.Mutation||ba.forEach((t=>t.unfreeze())),$)null==e||e(z(t),s);else if(F){const e={type:"rrweb",event:z(t),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(t.type===ra.FullSnapshot)U=t,H=0;else if(t.type===ra.IncrementalSnapshot){if(t.data.source===sa.Mutation&&t.data.isAttachIframe)return;H++;const e=r&&H>=r,s=n&&t.timestamp-U.timestamp>n;(e||s)&&Q(!0)}};za=q;const W=t=>{q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.Mutation},t)}))},V=t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.Scroll},t)})),Y=t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.CanvasMutation},t)})),K=new Ba({mutationCb:W,adoptedStyleSheetCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.AdoptedStyleSheet},t)}))}),G="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new La:new Pa({mirror:Wa,mutationCb:W,stylesheetManager:K,recordCrossOriginIframes:T,wrappedEmit:q});for(const t of O||[])t.getMirror&&t.getMirror({nodeMirror:Wa,crossOriginIframeMirror:G.crossOriginIframeMirror,crossOriginIframeStyleMirror:G.crossOriginIframeStyleMirror});const J=new Ua,X=Ya(P,{recordCanvas:x,blockClass:s,blockSelector:i,unblockSelector:o,sampling:k.canvas,dataURLOptions:w}),Z="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new $a:new Fa({mutationCb:W,scrollCb:V,bypassOptions:{onMutation:L,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:m,maskInputOptions:j,dataURLOptions:w,maskAttributeFn:_,maskTextFn:b,maskInputFn:v,recordCanvas:x,inlineImages:M,sampling:k,slimDOMOptions:B,iframeManager:G,stylesheetManager:K,canvasManager:X,keepIframeSrcFn:D,processedNodeManager:J},mirror:Wa}),Q=(t=!1)=>{q(Ha({type:ra.Meta,data:{href:window.location.href,width:Wo(),height:qo()}}),t),K.reset(),Z.init(),ba.forEach((t=>t.lock()));const e=function(t,e){const{mirror:n=new ro,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:m=!1,maskAttributeFn:f,maskTextFn:g,maskInputFn:y,slimDOM:_=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T=(()=>!1)}=e||{};return Lo(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===m?{}:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:v,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:Wa,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:m,maskAllInputs:j,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,slimDOM:B,dataURLOptions:w,recordCanvas:x,inlineImages:M,onSerialize:t=>{Jo(t,Wa)&&G.addIframe(t),Xo(t,Wa)&&K.trackLinkElement(t),Zo(t)&&Z.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{G.attachIframe(t,e),Z.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{K.attachLinkElement(t,e)},keepIframeSrcFn:D});if(!e)return console.warn("Failed to snapshot the document");q(Ha({type:ra.FullSnapshot,data:{node:e,initialOffset:zo(window)}})),ba.forEach((t=>t.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&K.adoptStyleSheets(document.adoptedStyleSheets,Wa.getId(document))};qa=Q;try{const t=[],e=t=>{var e;return va(Oa)({onMutation:L,mutationCb:W,mousemoveCb:(t,e)=>q(Ha({type:ra.IncrementalSnapshot,data:{source:e,positions:t}})),mouseInteractionCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.MouseInteraction},t)})),scrollCb:V,viewportResizeCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.ViewportResize},t)})),inputCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.Input},t)})),mediaInteractionCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.MediaInteraction},t)})),styleSheetRuleCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.StyleSheetRule},t)})),styleDeclarationCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.StyleDeclaration},t)})),canvasMutationCb:Y,fontCb:t=>q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.Font},t)})),selectionCb:t=>{q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.Selection},t)}))},customElementCb:t=>{q(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.CustomElement},t)}))},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:j,inlineStylesheet:m,sampling:k,recordCanvas:x,inlineImages:M,userTriggeredOnInput:I,collectFonts:R,doc:t,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,keepIframeSrcFn:D,blockSelector:i,unblockSelector:o,slimDOMOptions:B,dataURLOptions:w,mirror:Wa,iframeManager:G,stylesheetManager:K,shadowDomManager:Z,processedNodeManager:J,canvasManager:X,ignoreCSSAttributes:N,plugins:(null===(e=null==O?void 0:O.filter((t=>t.observer)))||void 0===e?void 0:e.map((t=>({observer:t.observer,options:t.options,callback:e=>q(Ha({type:ra.Plugin,data:{plugin:t.name,payload:e}}))}))))||[]},{})};G.addLoadListener((n=>{try{t.push(e(n.contentDocument))}catch(t){console.warn(t)}}));const n=()=>{Q(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(t.push(Po("DOMContentLoaded",(()=>{q(Ha({type:ra.DomContentLoaded,data:{}})),"DOMContentLoaded"===C&&n()}))),t.push(Po("load",(()=>{q(Ha({type:ra.Load,data:{}})),"load"===C&&n()}),window))),()=>{t.forEach((t=>t())),J.destroy(),qa=void 0,_a()}}catch(t){console.warn(t)}}function Ya(t,e){return t?t(Object.assign(Object.assign({},e),{mirror:Wa,win:window,mutationCb:t=>function(t){za&&za(t)}(Ha({type:ra.IncrementalSnapshot,data:Object.assign({source:sa.CanvasMutation},t)}))})):new ja}Va.mirror=Wa,Va.takeFullSnapshot=function(t){if(!qa)throw new Error("please take full snapshot after start recording");qa(t)};const Ka=3;function Ga(t){return t>9999999999?t:1e3*t}function Ja(t){return t>9999999999?t/1e3:t}function Xa(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate((()=>(t.throttledAddEvent({type:ra.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:qt(e,10,1e3)}}),"console"===e.category))))}const Za="button,a";function Qa(t){return t.closest(Za)||t}function tc(t){const e=ec(t);return e&&e instanceof Element?Qa(e):e}function ec(t){return function(t){return"object"==typeof t&&!!t&&"target"in t}(t)?t.target:t}let nc;function rc(t){return nc||(nc=[],A(zi,"open",(function(t){return function(...e){if(nc)try{nc.forEach((t=>t()))}catch(t){}return t.apply(zi,e)}}))),nc.push(t),()=>{const e=nc?nc.indexOf(t):-1;e>-1&&nc.splice(e,1)}}class sc{constructor(t,e,n=Xa){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=e.timeout/1e3,this._threshold=e.threshold/1e3,this._scollTimeout=e.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=e.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=rc((()=>{this._lastMutation=oc()}));this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,e){if(function(t,e){if(!ic.includes(t.tagName))return!0;if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||""))return!0;if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target")))return!0;if(e&&t.matches(e))return!0;return!1}(e,this._ignoreSelector)||!function(t){return!(!t.data||"number"!=typeof t.data.nodeId||!t.timestamp)}(t))return;const n={timestamp:Ja(t.timestamp),clickBreadcrumb:t,clickCount:0,node:e};this._clicks.some((t=>t.node===n.node&&Math.abs(t.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ja(t)}registerScroll(t=Date.now()){this._lastScroll=Ja(t)}registerClick(t){const e=Qa(t);this._handleMultiClick(e)}_handleMultiClick(t){this._getClicks(t).forEach((t=>{t.clickCount++}))}_getClicks(t){return this._clicks.filter((e=>e.node===t))}_checkClicks(){const t=[],e=oc();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=e&&t.push(n)}));for(const e of t){const t=this._clicks.indexOf(e);t>-1&&(this._generateBreadcrumbs(e),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const e=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,r=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!n&&!r,{clickCount:i,clickBreadcrumb:o}=t;if(s){const n=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:zi.location.href,route:e.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(e,s)}else if(i>1){const t={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:zi.location.href,route:e.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(e,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const ic=["A","BUTTON","INPUT"];function oc(){return Date.now()/1e3}function ac(t,e){try{if(!function(t){return t.type===Ka}(e))return;const{source:n}=e.data;if(n===sa.Mutation&&t.registerMutation(e.timestamp),n===sa.Scroll&&t.registerScroll(e.timestamp),function(t){return t.data.source===sa.MouseInteraction}(e)){const{type:n,id:r}=e.data,s=Va.mirror.getNode(r);s instanceof HTMLElement&&n===ia.Click&&t.registerClick(s)}}catch(t){}}function cc(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var uc;!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(uc||(uc={}));const lc=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function dc(t){const e={};for(const n in t)if(lc.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),e[r]=t[n]}return e}const pc=t=>e=>{if(!t.isEnabled())return;const n=function(t){const{target:e,message:n}=function(t){const e="click"===t.name;let n,r=null;try{r=e?tc(t.event):ec(t.event),n=S(r,{maxStringLength:200})||"<unknown>"}catch(t){n="<unknown>"}return{target:r,message:n}}(t);return cc({category:`ui.${t.name}`,...hc(e,n)})}(e);if(!n)return;const r="click"===e.name,s=r?e.event:void 0;!(r&&t.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||function(t,e,n){t.handleClick(e,n)}(t.clickDetector,n,tc(e.event)),Xa(t,n)};function hc(t,e){const n=Va.mirror.getId(t),r=n&&Va.mirror.getNode(n),s=r&&Va.mirror.getMeta(r),i=s&&function(t){return t.type===uc.Element}(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((t=>t.type===uc.Text&&t.textContent)).filter(Boolean).map((t=>t.trim())).join(""),attributes:dc(i.attributes)}}:{}}}function mc(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=function(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=t;if(!o||function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(o)||!i)return null;const a=e||r||s,c=1===i.length;if(!a&&c)return null;const u=S(o,{maxStringLength:200})||"<unknown>",l=hc(o,u);return cc({category:"ui.keyDown",message:u,data:{...l.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}(e);n&&Xa(t,n)}const fc={resource:function(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${e}.${n}`,start:yc(i),end:yc(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=yc(s);return{type:n,name:r,start:i,end:i+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:m,type:f}=t;if(0===s)return null;return{type:`${e}.${f}`,start:yc(h),end:yc(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:p}}}};function gc(t){return fc[t.entryType]?fc[t.entryType](t):null}function yc(t){return((st.Z1||zi.performance.timeOrigin)+t)/1e3}function _c(t){function e(e){t.performanceEntries.includes(e)||t.performanceEntries.push(e)}function n({entries:t}){t.forEach(e)}const r=[];return["navigation","paint","resource"].forEach((t=>{r.push(Li(t,n))})),r.push(Ai((({metric:e})=>{t.replayPerformanceEntries.push(function(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,s=t.value,i=yc(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Va.mirror.getId(r):void 0}}}(e))}))),()=>{r.forEach((t=>t()))}}const vc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,bc='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Sc(t,e){vc&&(R.info(t),e&&wc(t))}function kc(t,e){vc&&(R.info(t),e&&setTimeout((()=>{wc(t)}),0))}function wc(t){ee({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class Ec extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class xc{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const e=JSON.stringify(t).length;if(this._totalSize+=e,this._totalSize>Gi)throw new Ec;this.events.push(t)}finish(){return new Promise((t=>{const e=this.events;this.clear(),t(JSON.stringify(e))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map((t=>t.timestamp)).sort()[0];return t?Ga(t):null}}class Tc{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((t,e)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?t():e()}),{once:!0}),this._worker.addEventListener("error",(t=>{e(t)}),{once:!0})}))),this._ensureReadyPromise}destroy(){Sc("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise(((r,s)=>{const i=({data:e})=>{const o=e;if(o.method===t&&o.id===n){if(this._worker.removeEventListener("message",i),!o.success)return vc&&R.error("[Replay]",o.response),void s(new Error("Error in compression worker"));r(o.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:e})}))}_getAndIncrementId(){return this._id++}}class Cc{constructor(t){this._worker=new Tc(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=Ga(t.timestamp);(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>Gi?Promise.reject(new Ec):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(t=>{vc&&R.warn('[Replay] Sending "clear" message to worker failed',t)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Ic{constructor(t){this._fallback=new xc,this._compression=new Cc(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void Sc("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:e}=this._fallback,n=[];for(const e of t)n.push(this._compression.addEvent(e));this._compression.hasCheckout=e,this._used=this._compression;try{await Promise.all(n)}catch(t){vc&&R.warn("[Replay] Failed to add events when switching buffers.",t)}}}function Rc({useCompression:t,workerUrl:e}){if(t&&window.Worker){const t=function(t){try{const e=t||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const t=new Blob([bc]);return URL.createObjectURL(t)}();return""}();if(!e)return;Sc("[Replay] Using compression worker"+(t?` from ${t}`:""));const n=new Worker(e);return new Ic(n)}catch(t){Sc("[Replay] Failed to create compression worker")}}(e);if(t)return t}return Sc("[Replay] Using simple buffer"),new xc}function Mc(){try{return"sessionStorage"in zi&&!!zi.sessionStorage}catch(t){return!1}}function Oc(t){!function(){if(!Mc())return;try{zi.sessionStorage.removeItem(qi)}catch(t){}}(),t.session=void 0}function Dc(t){return void 0!==t&&Math.random()<t}function Nc(t){const e=Date.now();return{id:t.id||z(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,previousSessionId:t.previousSessionId}}function Ac(t){if(Mc())try{zi.sessionStorage.setItem(qi,JSON.stringify(t))}catch(t){}}function Lc({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=function(t,e){return Dc(t)?"session":!!e&&"buffer"}(t,e),i=Nc({sampled:s,previousSessionId:r});return n&&Ac(i),i}function Pc(t,e,n=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=n}function $c(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return Pc(t.started,e,r)||Pc(t.lastActivity,n,r)}function Fc(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!!$c(t,{sessionIdleExpire:e,maxReplayDuration:n})&&("buffer"!==t.sampled||0!==t.segmentId)}function jc({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&function(t){if(!Mc())return null;try{const e=zi.sessionStorage.getItem(qi);if(!e)return null;const n=JSON.parse(e);return kc("[Replay] Loading existing session",t),Nc(n)}catch(t){return null}}(t);return i?Fc(i,{sessionIdleExpire:e,maxReplayDuration:n})?(kc("[Replay] Session in sessionStorage is expired, creating new one..."),Lc(s,{previousSessionId:i.id})):i:(kc("[Replay] Creating new session",t),Lc(s,{previousSessionId:r}))}function Bc(t,e,n){return!!Hc(t,e)&&(Uc(t,e,n),!0)}async function Uc(t,e,n){if(!t.eventBuffer)return null;try{n&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=function(t,e){try{if("function"==typeof e&&function(t){return t.type===ra.Custom}(t))return e(t)}catch(t){return vc&&R.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",t),null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!r)return;return await t.eventBuffer.addEvent(r)}catch(e){const n=e&&e instanceof Ec?"addEventSizeExceeded":"addEvent";vc&&R.error(e),await t.stop({reason:n});const r=he();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Hc(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Ga(e.timestamp);return!(n+t.timeouts.sessionIdlePause<Date.now())&&(!(n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(Sc(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1))}function zc(t){return!t.type}function qc(t){return"transaction"===t.type}function Wc(t){return"feedback"===t.type}function Vc(t){const e=function(){const t=he();if(!t)return!1;const e=t.getTransport();if(!e)return!1;return e.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!t.isEnabled()||!zc(n)&&!qc(n))return;const s=r&&r.statusCode;e&&(!s||s<200||s>=300)||(qc(n)?function(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}(t,n):function(t,e){const n=t.getContext();e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id);if("buffer"!==t.recordingMode||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();if("function"==typeof r&&!r(e))return;setTimeout((()=>{t.sendBufferedReplayOrFlush()}))}(t,n))}}function Yc(t){return e=>{t.isEnabled()&&zc(e)&&function(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Xa(t,cc({category:"replay.hydrate-error"}))}}(t,e)}}function Kc(t,e=!1){const n=e?Vc(t):void 0;return Object.assign(((e,r)=>{if(!t.isEnabled())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!zc(e)&&!qc(e)&&!Wc(e))return e;if(!t.checkAndHandleExpiredSession())return e;if(Wc(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),function(t,e){t.triggerUserActivity(),t.addUpdate((()=>!e.timestamp||(t.throttledAddEvent({type:ra.Custom,timestamp:1e3*e.timestamp,data:{timestamp:e.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1)))}(t,e),e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length||!e.originalException||!e.originalException.__rrweb__)}(e,r)&&!t.getOptions()._experiments.captureExceptions)return vc&&R.log("[Replay] Ignoring error from rrweb internals",e),null;const s=function(t,e){return"buffer"===t.recordingMode&&e.message!==Vi&&!(!e.exception||e.type)&&Dc(t.getOptions().errorSampleRate)}(t,e);return(s||"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),n&&n(e,{statusCode:200}),e}),{id:"Replay"})}function Gc(t,e){return e.map((({type:e,start:n,end:r,name:s,data:i})=>{const o=t.throttledAddEvent({type:ra.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:e,description:s,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof o?Promise.resolve(null):o}))}function Jc(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate((()=>(Gc(t,[n]),!1))))}}function Xc(t,e){t.isEnabled()&&null!==e&&(function(t,e){return(!vc||!t.getOptions()._experiments.traceInternals)&&di(e,he())}(t,e.name)||t.addUpdate((()=>(Gc(t,[e]),!0))))}function Zc(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,s=r[As];if(!e||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return void 0===o?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(e);Xc(t,n)}}function Qc(t,e){if(t)try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=au(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function tu(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function eu(t){try{if("string"==typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[au(t)];if(!t)return[void 0]}catch(e){return vc&&R.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return vc&&R.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function nu(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function ru(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:U({method:i,statusCode:o,request:a,response:c})}}function su(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function iu(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=function(t){if(!t||"string"!=typeof t)return{body:t};const e=t.length>Yi,n=function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t);if(e){const e=t.slice(0,Yi);return n?{body:e,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${e}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(t){}return{body:t}}(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function ou(t,e){return Object.keys(t).reduce(((n,r)=>{const s=r.toLowerCase();return e.includes(s)&&t[r]&&(n[s]=t[r]),n}),{})}function au(t){return new URLSearchParams(t).toString()}function cu(t,e){const n=function(t,e=zi.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(zi.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;if(!t.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(t);return N(n,e)}async function uu(t,e,n){try{const r=await async function(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,d=cu(o,n.networkDetailAllowUrls)&&!cu(o,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?function(t,e){if(1===t.length&&"string"!=typeof t[0])return pu(t[0],e);if(2===t.length)return pu(t[1],e);return{}}(n,e):{};if(!t)return iu(s,r,void 0);const i=lu(n),[o,a]=eu(i),c=iu(s,r,o);if(a)return nu(c,a);return c}(n,e.input,u):su(u),h=await async function(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&void 0!==i)return su(i);const o=s?du(s.headers,r):{};if(!s||!e&&void 0!==i)return iu(o,i,void 0);const[a,c]=await async function(t){const e=function(t){try{return t.clone()}catch(t){vc&&R.warn("[Replay] Failed to clone response body",t)}}(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{const t=await function(t){return new Promise(((e,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(t){return await t.text()})(t).then((t=>e(t)),(t=>n(t))).finally((()=>clearTimeout(r)))}))}(e);return[t]}catch(t){return vc&&R.warn("[Replay] Failed to get text body from response",t),[void 0,"BODY_PARSE_ERROR"]}}(s),u=function(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&void 0===r?Qc(t,n):r;return s?iu(i,o,e?t:void 0):su(o)}catch(t){return vc&&R.warn("[Replay] Failed to serialize response body",t),iu(i,r,void 0)}}(a,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:o});if(c)return nu(u,c);return u}(d,n,e.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:p,response:h}}(t,e,n),s=ru("resource.fetch",r);Xc(n.replay,s)}catch(t){vc&&R.error("[Replay] Failed to capture fetch breadcrumb",t)}}function lu(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function du(t,e){const n={};return e.forEach((e=>{t.get(e)&&(n[e]=t.get(e))})),n}function pu(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?du(n,e):Array.isArray(n)?{}:ou(n,e):{}}async function hu(t,e,n){try{const r=function(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=t.data;if(!c)return null;if(!a||!cu(c,n.networkDetailAllowUrls)||cu(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:su(d),response:su(p)}}const h=a[As],m=h?ou(h.request_headers,n.networkRequestHeaders):{},f=ou(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[n,r]=e.split(": ");return t[n.toLowerCase()]=r,t}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?eu(o):[void 0],[_,v]=n.networkCaptureBodies?function(t){const e=[];try{return[t.responseText]}catch(t){e.push(t)}try{return function(t,e){try{if("string"==typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"==typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(e){return vc&&R.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return vc&&R.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(t){e.push(t)}return vc&&R.warn("[Replay] Failed to get xhr response body",...e),[void 0]}(a):[void 0],b=iu(m,d,g),S=iu(f,p,_);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:y?nu(b,y):b,response:v?nu(S,v):S}}(t,e,n),s=ru("resource.xhr",r);Xc(n.replay,s)}catch(t){vc&&R.error("[Replay] Failed to capture xhr breadcrumb",t)}}function mu(t,e,n){const{xhr:r,input:s}=e;if(!r)return;const i=Qc(s,n.textEncoder),o=r.getResponseHeader("content-length")?tu(r.getResponseHeader("content-length")):function(t,e,n){try{return Qc("json"===e&&t&&"object"==typeof t?JSON.stringify(t):t,n)}catch(t){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}function fu(t){const e=he();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(mu(e,n,t),hu(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(n)&&(!function(t,e,n){const{input:r,response:s}=e,i=Qc(r?lu(r):void 0,n.textEncoder),o=s?tu(s.headers.get("content-length")):void 0;void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}(e,n,t),uu(e,n,t))}catch(t){vc&&R.warn("Error when enriching network breadcrumb")}}(c,t,e))):($s(function(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:s}=t;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}(e);Xc(t,n)}}(t)),Ls(Zc(t)))}catch(t){}}let gu=null;const yu=t=>e=>{if(!t.isEnabled())return;const n=function(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();if(gu===e||!e)return null;if(gu=e,!function(t){return!!t.category}(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return cc(t);let n=!1;const r=e.map((t=>{if(!t)return t;if("string"==typeof t)return t.length>Ki?(n=!0,`${t.slice(0,Ki)}…`):t;if("object"==typeof t)try{const e=qt(t,7);return JSON.stringify(e).length>Ki?(n=!0,`${JSON.stringify(e,null,2).slice(0,Ki)}…`):e}catch(t){}return t}));return cc({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return cc(e)}(e);n&&Xa(t,n)};function _u(t){return!(!t||!t.on)}function vu(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function bu(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession())return void(vc&&R.warn("[Replay] Received replay event after session expired."));const s=r||!e;e=!0,t.clickDetector&&ac(t.clickDetector,n),t.addUpdate((()=>{if("buffer"===t.recordingMode&&s&&t.setInitialState(),!Bc(t,n,s))return!0;if(!s)return!1;if(function(t,e){if(!e||!t.session||0!==t.session.segmentId)return;Bc(t,function(t){const e=t.getOptions();return{type:ra.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}(t),!1)}(t,s),t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){const e=t.eventBuffer.getEarliestTimestamp();e&&(Sc(`[Replay] Updating session start time to earliest event in buffer to ${new Date(e)}`,t.getOptions()._experiments.traceInternals),t.session.started=e,t.getOptions().stickySession&&Ac(t.session))}return"session"===t.recordingMode&&t.flush(),!0}))}}async function Su({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=function({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}\n`;if("string"==typeof t)n=`${r}${t}`;else{const e=(new TextEncoder).encode(r);n=new Uint8Array(e.length+t.length),n.set(e),n.set(t,e.length)}return n}({recordingData:t,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=he(),p=me(),h=d&&d.getTransport(),m=d&&d.getDsn();if(!(d&&h&&m&&i.sampled))return;const f={type:Wi,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:e,segment_id:n,replay_type:i.sampled},g=await async function({client:t,scope:e,replayId:n,event:r}){const s={event_id:n,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit&&t.emit("preprocessEvent",r,s);const i=await Yt(t.getOptions(),r,s,e,t,Nt());if(!i)return null;i.platform=i.platform||"javascript";const o=t.getSdkMetadata&&t.getSdkMetadata(),{name:a,version:c}=o&&o.sdk||{};return i.sdk={...i.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:p,client:d,replayId:e,event:f});if(!g)return d.recordDroppedEvent("event_processor","replay",f),void Sc("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(t,e,n,r){return Pn(Wn(t,qn(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(g,o,m,d.getOptions().tunnel);let _;try{_=await h.send(y)}catch(t){const e=new Error(Vi);try{e.cause=t}catch(t){}throw e}if(!_)return _;if("number"==typeof _.statusCode&&(_.statusCode<200||_.statusCode>=300))throw new ku(_.statusCode);const v=rr({},_);if(nr(v,"replay"))throw new wu(v);return _}class ku extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class wu extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Eu(t,e={count:0,interval:5e3}){const{recordingData:n,options:r}=t;if(n.length)try{return await Su(t),!0}catch(n){if(n instanceof ku||n instanceof wu)throw n;if(ne("Replays",{_retryCount:e.count}),vc&&r._experiments&&r._experiments.captureExceptions&&Xt(n),e.count>=3){const t=new Error(`${Vi} - max retries exceeded`);try{t.cause=n}catch(t){}throw t}return e.interval*=++e.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await Eu(t,e),n(!0)}catch(t){r(t)}}),e.interval)}))}}const xu="__THROTTLED";function Tu(t,e,n){const r=new Map;let s=!1;return(...i)=>{const o=Math.floor(Date.now()/1e3);if((t=>{const e=t-n;r.forEach(((t,n)=>{n<e&&r.delete(n)}))})(o),[...r.values()].reduce(((t,e)=>t+e),0)>=e){const t=s;return s=!0,t?"__SKIPPED":xu}s=!1;const a=r.get(o)||0;return r.set(o,a+1),t(...i)}}class Cu{constructor({options:t,recordingOptions:e}){Cu.prototype.__init.call(this),Cu.prototype.__init2.call(this),Cu.prototype.__init3.call(this),Cu.prototype.__init4.call(this),Cu.prototype.__init5.call(this),Cu.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return c(),r=t(),r}function c(){void 0!==s&&clearTimeout(s),void 0!==i&&clearTimeout(i),s=i=void 0}function u(){return s&&clearTimeout(s),s=setTimeout(a,e),o&&void 0===i&&(i=setTimeout(a,o)),r}return u.cancel=c,u.flush=function(){return void 0!==s||void 0!==i?a():r},u}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Tu(((t,e)=>function(t,e,n){return Hc(t,e)?Uc(t,e,n):Promise.resolve(null)}(this,t,e)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),s=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;s&&(this.clickDetector=new sc(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:n}=this._options;e<=0&&n<=0||(this._initializeSessionForSampling(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",kc(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");kc("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=jc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");kc("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=jc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._options._experiments.canvas;this._stopRecording=Va({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:bu(this),onMutation:this._onMutationHandler,...t&&t.manager&&{recordCanvas:!0,getCanvasManager:t.manager,...Xi[t.quality||"medium"]||Xi.medium}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:e}={}){if(this._isEnabled){this._isEnabled=!1;try{Sc("[Replay] Stopping Replay"+(e?` triggered by ${e}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Oc(this)}catch(t){this._handleException(t)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Sc("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Sc("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();Sc("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();t&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(e),this._updateSessionActivity(e),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Pc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const t=`${zi.location.pathname}${zi.location.hash}${zi.location.search}`,e=`${zi.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}throttledAddEvent(t,e){const n=this._throttledAddEvent(t,e);if(n===xu){const t=cc({category:"replay.throttled"});this.addUpdate((()=>!Bc(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}})))}return n}getCurrentRoute(){const t=this.lastTransaction||me().getTransaction();if(t&&["route","custom"].includes(t.metadata.source))return t.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Rc({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){vc&&R.error("[Replay]",t),vc&&this._options._experiments&&this._options._experiments.captureExceptions&&Xt(t)}_initializeSessionForSampling(t){const e=this._options.errorSampleRate>0,n=jc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:e});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return!Fc(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{zi.document.addEventListener("visibilitychange",this._handleVisibilityChange),zi.addEventListener("blur",this._handleWindowBlur),zi.addEventListener("focus",this._handleWindowFocus),zi.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){const e=me(),n=he();e.addScopeListener(yu(t)),Ms(pc(t)),ls(Jc(t)),fu(t);const r=Kc(t,!_u(n));n&&n.addEventProcessor?n.addEventProcessor(r):_r(r),_u(n)&&(n.on("beforeSendEvent",Yc(t)),n.on("afterSendEvent",Vc(t)),n.on("createDsc",(e=>{const n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&t.checkAndHandleExpiredSession()&&(e.replay_id=n)})),n.on("startTransaction",(e=>{t.lastTransaction=e})),n.on("finishTransaction",(e=>{t.lastTransaction=e})),n.on("beforeSendFeedback",((e,n)=>{const r=t.getSessionId();n&&n.includeReplay&&t.isEnabled()&&r&&(t.flush(),e.contexts&&e.contexts.feedback&&(e.contexts.feedback.replay_id=r))})))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=_c(this)}_removeListeners(){try{zi.document.removeEventListener("visibilitychange",this._handleVisibilityChange),zi.removeEventListener("blur",this._handleWindowBlur),zi.removeEventListener("focus",this._handleWindowFocus),zi.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{"visible"===zi.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=cc({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=cc({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{mc(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;$c(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):Sc("[Replay] Document has become active, but session has expired")}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate((()=>{this.throttledAddEvent({type:ra.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})}))}_addPerformanceEntries(){const t=(e=this.performanceEntries,e.map(gc).filter(Boolean)).concat(this.replayPerformanceEntries);var e;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Gc(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Gc(t,[vu(zi.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await Eu({replayId:t,recordingData:s,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:e})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});const e=he();e&&e.recordDroppedEvent("send_error","replay")}}else vc&&R.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession())return void(vc&&R.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const e=this.session.started,n=Date.now()-e;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(r||s)return Sc(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&Sc("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(t){vc&&R.error(t)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ac(this.session)}__init6(){this._onMutationHandler=t=>{const e=t.length,n=this._options.mutationLimit,r=n&&e>n;if(e>this._options.mutationBreadcrumbLimit||r){const t=cc({category:"replay.mutations",data:{count:e,limit:r}});this._createCustomBreadcrumb(t)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Iu(t,e,n,r){const s=[...t,..."string"==typeof r?r.split(","):[],...e];return void 0!==n&&("string"==typeof n&&s.push(`.${n}`),I((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),s.join(",")}const Ru='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Mu=["content-length","content-type","accept"];let Ou=!1;class Du{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:s=!0,useCompression:i=!0,workerUrl:o,_experiments:a={},sessionSampleRate:c,errorSampleRate:u,maskAllText:l=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:m=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:k=[],maskAttributes:w=["title","placeholder"],unmask:E=[],block:x=[],unblock:T=[],ignore:C=[],maskFn:I,beforeAddRecordingEvent:R,beforeErrorSampling:M,blockClass:O,blockSelector:D,maskInputOptions:N,maskTextClass:A,maskTextSelector:L,ignoreClass:P}={}){this.name=Du.id;const $=function({mask:t,unmask:e,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l={maskTextSelector:Iu(t,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:Iu(e,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:Iu(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,o),unblockSelector:Iu(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Iu(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(l.blockClass=i),a instanceof RegExp&&(l.maskTextClass=a),l}({mask:k,unmask:E,block:x,unblock:T,ignore:C,blockClass:O,blockSelector:D,maskTextClass:A,maskTextSelector:L,ignoreClass:P});if(this._recordingOptions={maskAllInputs:d,maskAllText:l,maskInputOptions:{...N||{},password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(t,e,n)=>function({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return r?s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||"value"===e&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:w,maskAllText:l,privacyOptions:$,key:t,value:e,el:n}),...$,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,Ji),stickySession:s,sessionSampleRate:c,errorSampleRate:u,useCompression:i,workerUrl:o,blockAllMedia:p,maskAllInputs:d,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:m,slowClickTimeout:f,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:Nu(b),networkResponseHeaders:Nu(S),beforeAddRecordingEvent:R,beforeErrorSampling:M,_experiments:a},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof u&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ru}`:Ru),this._isInitialized&&mi())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Ou}set _isInitialized(t){Ou=t}setupOnce(){mi()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=function(t){const e=he(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...U(t)};if(!n)return I((()=>{console.warn("SDK client is not available.")})),r;null==t.sessionSampleRate&&null==t.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&I((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new Cu({options:t,recordingOptions:this._recordingOptions})}}function Nu(t){return[...Mu,...t.map((t=>t.toLowerCase()))]}Du.__initStatic();const Au=_.n2,Lu="#ffffff",Pu="inherit",$u="rgba(108, 95, 199, 1)",Fu={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Lu,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:$u,submitBorder:$u,submitOutlineFocus:"#29232f",submitForeground:Lu,submitForegroundHover:Lu,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Pu,inputForeground:Pu,inputBorder:"var(--border)",inputOutlineFocus:$u},ju=Fu,Bu={...Fu,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},Uu="widget",Hu="api";async function zu({feedback:{message:t,email:e,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=he(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:e,name:n,message:t,url:s,source:r}},type:"feedback"};return ce((async t=>{t.clearBreadcrumbs(),[Hu,Uu].includes(String(r))&&t.setLevel("info");const e=await async function({client:t,scope:e,event:n}){const r={};t.emit&&t.emit("preprocessEvent",n,r);const s=await Yt(t.getOptions(),n,r,e,t,Nt());return null===s?(t.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}({scope:t,client:o,event:u});if(!e)return;o.emit&&o.emit("beforeSendFeedback",e,{includeReplay:Boolean(i)});const n=pr(e,c,o.getOptions()._metadata,o.getOptions().tunnel);let s;try{s=await a.send(n)}catch(t){const e=new Error("Unable to send Feedback");try{e.cause=t}catch(t){}throw e}if(s){if("number"==typeof s.statusCode&&(s.statusCode<200||s.statusCode>=300))throw new Error("Unable to send Feedback");return s}}))}const qu="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Wu(t,e){return{...t,...e,themeDark:{...t.themeDark,...e.themeDark},themeLight:{...t.themeLight,...e.themeLight}}}function Vu(t){return`\n  --background: ${t.background};\n  --background-hover: ${t.backgroundHover};\n  --foreground: ${t.foreground};\n  --error: ${t.error};\n  --success: ${t.success};\n  --border: ${t.border};\n  --box-shadow: ${t.boxShadow};\n\n  --submit-background: ${t.submitBackground};\n  --submit-background-hover: ${t.submitBackgroundHover};\n  --submit-border: ${t.submitBorder};\n  --submit-outline-focus: ${t.submitOutlineFocus};\n  --submit-foreground: ${t.submitForeground};\n  --submit-foreground-hover: ${t.submitForegroundHover};\n\n  --cancel-background: ${t.cancelBackground};\n  --cancel-background-hover: ${t.cancelBackgroundHover};\n  --cancel-border: ${t.cancelBorder};\n  --cancel-outline-focus: ${t.cancelOutlineFocus};\n  --cancel-foreground: ${t.cancelForeground};\n  --cancel-foreground-hover: ${t.cancelForegroundHover};\n\n  --input-background: ${t.inputBackground};\n  --input-foreground: ${t.inputForeground};\n  --input-border: ${t.inputBorder};\n  --input-outline-focus: ${t.inputOutlineFocus};\n  `}function Yu({id:t,colorScheme:e,themeDark:n,themeLight:r}){try{const s=Au.document,i=s.createElement("div");i.id=t;const o=i.attachShadow({mode:"open"});return o.appendChild(function(t,e,n){const r=t.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Vu("dark"===e?n.dark:n.light)}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Vu(n.dark)}\n  }\n}`:""}\n}`,r}(s,e,{dark:n,light:r})),o.appendChild(function(t){const e=t.createElement("style");return e.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: 20px;\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: 6px;\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: 12px;\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",e}(s)),{shadow:o,host:i}}catch(t){throw R.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Ku(t,e,n){if(!t)return;t.hideError();try{const t=await function({name:t,email:e,message:n,source:r=Hu,url:s=w()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return zu({feedback:{name:t,email:e,message:n,url:s,source:r}},i)}({...e,source:Uu},n);return t}catch(e){qu&&R.error(e),t&&t.showError("There was a problem submitting feedback, please wait and try again.")}}function Gu(t,e){return Object.entries(e).forEach((([e,n])=>{t.setAttributeNS(null,e,n)})),t}const Ju=20,Xu="http://www.w3.org/2000/svg";function Zu(t,e,...n){const r=Au.document.createElement(t);e&&Object.entries(e).forEach((([t,e])=>{"className"===t&&"string"==typeof e?r.setAttribute("class",e):"boolean"==typeof e&&e?r.setAttribute(t,""):"string"==typeof e?r.setAttribute(t,e):t.startsWith("on")&&"function"==typeof e&&r.addEventListener(t.substring(2).toLowerCase(),e)}));for(const t of n)Qu(r,t);return r}function Qu(t,e){const n=Au.document;if(null!=e)if(Array.isArray(e))for(const n of e)Qu(t,n);else!1===e||("string"==typeof e?t.appendChild(n.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(n.createTextNode(String(e))))}function tl({buttonLabel:t,onClick:e}){const n=Zu("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},function(){const t=t=>Au.document.createElementNS(Xu,t),e=Gu(t("svg"),{class:"feedback-icon",width:`${Ju}`,height:`${Ju}`,viewBox:`0 0 ${Ju} ${Ju}`,fill:"none"}),n=Gu(t("g"),{clipPath:"url(#clip0_57_80)"}),r=Gu(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const s=t("defs"),i=Gu(t("clipPath"),{id:"clip0_57_80"}),o=Gu(t("rect"),{width:`${Ju}`,height:`${Ju}`,fill:"white"});return i.appendChild(o),s.appendChild(i),e.appendChild(s).appendChild(i).appendChild(o),{get el(){return e}}}().el,t?Zu("span",{className:"widget__actor__text"},t):null);return n.addEventListener("click",(function(t){e&&e(t)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function el(t,e){const n=t.get(e);return"string"==typeof n?n.trim():""}function nl({nameLabel:t,namePlaceholder:e,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,cancelButtonLabel:o,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:p,defaultEmail:h,onCancel:m,onSubmit:f}){const{el:g}=function({label:t}){return{el:Zu("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}({label:a});const y=Zu("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const _=Zu("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:e,value:p}),v=Zu("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:h}),b=Zu("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),S=Zu("button",{type:"button",className:"btn btn--default","aria-label":o,onClick:t=>{m&&m(t)}},o),k=Zu("form",{className:"form",onSubmit:function(t){if(t.preventDefault(),t.target instanceof HTMLFormElement)try{if(f){const e=new FormData(t.target),n={name:el(e,"name"),email:el(e,"email"),message:el(e,"message")};f(n)}}catch(t){}}},[y,c&&Zu("label",{htmlFor:"name",className:"form__label"},[Zu("span",{className:"form__label__text"},t,l&&Zu("span",{className:"form__label__text--required"}," (required)")),_]),!c&&_,u&&Zu("label",{htmlFor:"email",className:"form__label"},[Zu("span",{className:"form__label__text"},n,d&&Zu("span",{className:"form__label__text--required"}," (required)")),v]),!u&&v,Zu("label",{htmlFor:"message",className:"form__label"},[Zu("span",{className:"form__label__text"},s,Zu("span",{className:"form__label__text--required"}," (required)")),b]),Zu("div",{className:"btn-group"},[g,S])]);return{get el(){return k},showError:function(t){y.textContent=t,y.classList.remove("form__error-container--hidden"),y.setAttribute("aria-hidden","false")},hideError:function(){y.textContent="",y.classList.add("form__error-container--hidden"),y.setAttribute("aria-hidden","true")}}}const rl="http://www.w3.org/2000/svg";function sl({formTitle:t,showBranding:e,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...p}){let h=null;function m(){h&&(h.open=!1)}const{el:f,showError:g,hideError:y}=nl({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...p});return h=Zu("dialog",{className:"dialog",open:!0,onClick:function(){m(),u&&u()}},Zu("div",{className:"dialog__content",onClick:t=>{t.stopPropagation()}},Zu("h2",{className:"dialog__header"},t,e&&Zu("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:t}){const e=t=>Au.document.createElementNS(rl,t),n=Gu(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Gu(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=e("defs"),i=e("style");return"system"===t&&(i.textContent="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),i.textContent=`\n    path {\n      fill: ${"dark"===t?"#fff":"#362d59"};\n    }`,s.append(i),n.append(s),{get el(){return n}}}({colorScheme:o}).el)),f)),{get el(){return h},showError:g,hideError:y,open:function(){h&&(h.open=!0)},close:m,checkIsOpen:function(){return h&&!0===h.open||!1}}}const il=16,ol=17,al="http://www.w3.org/2000/svg";function cl({message:t,onRemove:e}){function n(){r&&(r.remove(),e&&e())}const r=Zu("div",{className:"success-message",onClick:n},function(){const t=t=>Au.document.createElementNS(al,t),e=Gu(t("svg"),{class:"success-icon",width:`${il}`,height:`${ol}`,viewBox:`0 0 ${il} ${ol}`,fill:"none"}),n=Gu(t("g"),{clipPath:"url(#clip0_57_156)"}),r=Gu(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Gu(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(s,r);const i=t("defs"),o=Gu(t("clipPath"),{id:"clip0_57_156"}),a=Gu(t("rect"),{width:`${il}`,height:`${il}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(a),{get el(){return e}}}().el,t);return{el:r,remove:n}}function ul({shadow:t,options:{shouldCreateActor:e=!0,...n},attachTo:r}){let s,i,o=!1;async function a(e){if(!i)return;const r=[];if(n.isNameRequired&&!e.name&&r.push(n.nameLabel),n.isEmailRequired&&!e.email&&r.push(n.emailLabel),e.message||r.push(n.messageLabel),r.length>0)return void i.showError(`Please enter in the following required fields: ${r.join(", ")}`);await Ku(i,e)?(p(),function(){if(t)try{const e=cl({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),c()}});if(!e.el)throw new Error("Unable to show success message");t.appendChild(e.el);const r=setTimeout((()=>{e&&e.remove()}),5e3)}catch(t){R.error(t)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){s&&s.show()}function u(){s&&s.hide()}function l(){try{if(i)return i.open(),o=!0,void(n.onFormOpen&&n.onFormOpen());const e=n.useSentryUser,r=me(),s=r&&r.getUser();if(i=sl({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:e&&s&&s[e.name]||"",defaultEmail:e&&s&&s[e.email]||"",onClosed:()=>{c(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{d(),c()},onSubmit:a}),!i.el)throw new Error("Unable to open Feedback dialog");t.appendChild(i.el),u(),n.onFormOpen&&n.onFormOpen()}catch(t){R.error(t)}}function d(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function p(){if(i){d();const t=i.el;t&&t.remove(),i=void 0}}function h(){o||l(),u()}return r?r.addEventListener("click",h):e&&(s=tl({buttonLabel:n.buttonLabel,onClick:h}),s.el&&t.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:c,hideActor:u,removeActor:function(){s&&s.el&&s.el.remove()},openDialog:l,closeDialog:d,removeDialog:p}}const ll=Au.document;class dl{static __initStatic(){this.id="Feedback"}constructor({id:t="sentry-feedback",showBranding:e=!0,autoInject:n=!0,showEmail:r=!0,showName:s=!0,useSentryUser:i={email:"email",name:"username"},isEmailRequired:o=!1,isNameRequired:a=!1,themeDark:c,themeLight:u,colorScheme:l="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:m="Report a Bug",emailPlaceholder:f="your.email@example.org",emailLabel:g="Email",messagePlaceholder:y="What's the bug? What did you expect?",messageLabel:_="Description",namePlaceholder:v="Your Name",nameLabel:b="Name",successMessageText:S="Thank you for your report!",onFormClose:k,onFormOpen:w,onSubmitError:E,onSubmitSuccess:x}={}){this.name=dl.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:t,showBranding:e,autoInject:n,isEmailRequired:o,isNameRequired:a,showEmail:r,showName:s,useSentryUser:i,colorScheme:l,themeDark:{...Bu,...c},themeLight:{...ju,...u},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:m,emailLabel:g,emailPlaceholder:f,messageLabel:_,messagePlaceholder:y,nameLabel:b,namePlaceholder:v,successMessageText:S,onFormClose:k,onFormOpen:w,onSubmitError:E,onSubmitSuccess:x}}setupOnce(){if(mi())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){qu&&R.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,e){try{const n=Wu(this.options,e||{});return this._ensureShadowHost(n,(({shadow:e})=>{const r="string"==typeof t?ll.querySelector(t):"function"==typeof t.addEventListener?t:null;if(!r)return qu&&R.error("[Feedback] Unable to attach to target element"),null;const s=ul({shadow:e,options:n,attachTo:r});return this._widgets.add(s),this._widget||(this._widget=s),s}))}catch(t){return qu&&R.error(t),null}}createWidget(t){try{return this._createWidget(Wu(this.options,t||{}))}catch(t){return qu&&R.error(t),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(t){qu&&R.error(t)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=ll.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,(({shadow:e})=>{const n=ul({shadow:e,options:t});return!this._hasInsertedActorStyles&&n.actor&&(e.appendChild(function(t){const e=t.createElement("style");return e.textContent="\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",e}(ll)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(t,e){let n=!1;if(!this._shadow||!this._host){const{id:e,colorScheme:r,themeLight:s,themeDark:i}=t,{shadow:o,host:a}=Yu({id:e,colorScheme:r,themeLight:s,themeDark:i});this._shadow=o,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const r=e({shadow:this._shadow,host:this._host});return n&&ll.body.appendChild(this._host),r}}function pl(t,e,n,r,s="auto.http.browser"){if(!cn()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const e=t.fetchData.__span;if(!e)return;const n=r[e];if(n){if(t.response){n.setHttpStatus(t.response.status);const e=t.response&&t.response.headers&&t.response.headers.get("content-length");if(e){const t=parseInt(e);t>0&&n.setData("http.response_content_length",t)}}else t.error&&n.setStatus("internal_error");n.end(),delete r[e]}return}const o=me(),a=he(),c=o.getSpan(),{method:u,url:l}=t.fetchData,d=i&&c?c.startChild({data:{url:l,type:"fetch","http.method":u},description:`${u} ${l}`,op:"http.client",origin:s}):void 0;if(d&&(t.fetchData.__span=d.spanId,r[d.spanId]=d),n(t.fetchData.url)&&a){const e=t.args[0];t.args[1]=t.args[1]||{};const n=t.args[1];n.headers=function(t,e,n,r,s){const i=s||n.getSpan(),o=i&&i.transaction,{traceId:a,sampled:c,dsc:u}=n.getPropagationContext(),l=i?vt(i):yt(a,void 0,c),d=o?o.getDynamicSamplingContext():u||en(a,e,n),p=pt(d),h="undefined"!=typeof Request&&g(t,Request)?t.headers:r.headers;if(h){if("undefined"!=typeof Headers&&g(h,Headers)){const t=new Headers(h);return t.append("sentry-trace",l),p&&t.append(ct,p),t}if(Array.isArray(h)){const t=[...h,["sentry-trace",l]];return p&&t.push([ct,p]),t}{const t="baggage"in h?h.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),p&&e.push(p),{...h,"sentry-trace":l,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":l,baggage:p}}(e,a,o,n,d)}return d}dl.__initStatic();const hl=["localhost",/^\/(?!\/)/],ml={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:hl,tracePropagationTargets:hl};function fl(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:ml.traceFetch,traceXHR:ml.traceXHR,...t},a="function"==typeof i?i:t=>!0,c=t=>function(t,e){return N(t,e||hl)}(t,r||s),u={};e&&$s((t=>{const e=pl(t,a,c,u);o&&e&&gl(e)})),n&&Ls((t=>{const e=function(t,e,n,r){const s=t.xhr,i=s&&s[As];if(!cn()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const t=s.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==i.status_code&&(e.setHttpStatus(i.status_code),e.end(),delete r[t]))}const a=me(),c=a.getSpan(),u=o&&c?c.startChild({data:{type:"xhr","http.method":i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;u&&(s.__sentry_xhr_span_id__=u.spanId,r[s.__sentry_xhr_span_id__]=u);if(s.setRequestHeader&&n(i.url))if(u){const t=u&&u.transaction,e=pt(t&&t.getDynamicSamplingContext());_l(s,vt(u),e)}else{const t=he(),{traceId:e,sampled:n,dsc:r}=a.getPropagationContext();_l(s,yt(e,void 0,n),pt(r||(t?en(e,t,a):void 0)))}return u}(t,a,c,u);o&&e&&gl(e)}))}function gl(t){const e=t.data.url;if(!e)return;const n=Li("resource",(({entries:r})=>{r.forEach((r=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(r)&&r.name.endsWith(e)){(function(t){const{name:e,version:n}=function(t){let e="unknown",n="unknown",r="";for(const s of t){if("/"===s){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e="h"===r?"http":r,n=t.split(r)[1];break}r+=s}r===t&&(e=r);return{name:e,version:n}}(t.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",e]),!st.Z1)return r;return[...r,["http.request.redirect_start",yl(t.redirectStart)],["http.request.fetch_start",yl(t.fetchStart)],["http.request.domain_lookup_start",yl(t.domainLookupStart)],["http.request.domain_lookup_end",yl(t.domainLookupEnd)],["http.request.connect_start",yl(t.connectStart)],["http.request.secure_connection_start",yl(t.secureConnectionStart)],["http.request.connection_end",yl(t.connectEnd)],["http.request.request_start",yl(t.requestStart)],["http.request.response_start",yl(t.responseStart)],["http.request.response_end",yl(t.responseEnd)]]})(r).forEach((e=>t.setData(...e))),setTimeout(n)}}))}))}function yl(t=0){return((st.Z1||performance.timeOrigin)+t)/1e3}function _l(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(ct,n)}catch(t){}}function vl(t){return"number"==typeof t&&isFinite(t)}function bl(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}const Sl=2147483647;function kl(t){return t/1e3}function wl(){return yi&&yi.addEventListener&&yi.performance}let El,xl,Tl=0,Cl={};function Il(){const t=wl();if(t&&st.Z1){t.mark&&yi.performance.mark("sentry-tracing-init");const e=Bi("fid",(({metric:t})=>{const e=t.entries.pop();if(!e)return;const n=kl(st.Z1),r=kl(e.startTime);fi&&R.log("[Measurements] Adding FID"),Cl.fid={value:t.value,unit:"millisecond"},Cl["mark.fid"]={value:n+r,unit:"second"}}),Fi,Di),n=function(t){return Bi("cls",t,$i,Oi)}((({metric:t})=>{const e=t.entries.pop();e&&(fi&&R.log("[Measurements] Adding CLS"),Cl.cls={value:t.value,unit:""},xl=e)})),r=Ai((({metric:t})=>{const e=t.entries.pop();e&&(fi&&R.log("[Measurements] Adding LCP"),Cl.lcp={value:t.value,unit:"millisecond"},El=e)}));return()=>{e(),n(),r()}}return()=>{}}function Rl(t){const e=wl();if(!e||!yi.performance.getEntries||!st.Z1)return;fi&&R.log("[Tracing] Adding & adjusting spans using Performance API");const n=kl(st.Z1),r=e.getEntries();let s,i;if(r.slice(Tl).forEach((e=>{const r=kl(e.startTime),o=kl(e.duration);if(!("navigation"===t.op&&n+r<t.startTimestamp))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Ml(t,e,r,n)})),Ml(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Ml(t,e,"fetch",n,"cache","domainLookupStart"),Ml(t,e,"domainLookup",n,"DNS"),function(t,e,n){bl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+kl(e.requestStart),endTimestamp:n+kl(e.responseEnd)}),bl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+kl(e.responseStart),endTimestamp:n+kl(e.responseEnd)})}(t,e,n)}(t,e,n),s=n+kl(e.responseStart),i=n+kl(e.requestStart);break;case"mark":case"paint":case"measure":{!function(t,e,n,r,s){const i=s+n,o=i+r;bl(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(t,e,r,o,n);const s=xi(),i=e.startTime<s.firstHiddenTime;"first-paint"===e.name&&i&&(fi&&R.log("[Measurements] Adding FP"),Cl.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&i&&(fi&&R.log("[Measurements] Adding FCP"),Cl.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":{const s=e.name.replace(yi.location.origin,"");!function(t,e,n,r,s,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const o={};Ol(o,e,"transferSize","http.response_transfer_size"),Ol(o,e,"encodedBodySize","http.response_content_length"),Ol(o,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);const a=i+r,c=a+s;bl(t,{description:n,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}(t,e,s,r,o,n);break}}})),Tl=Math.max(r.length-1,0),function(t){const e=yi.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),vl(n.rtt)&&(Cl["connection.rtt"]={value:n.rtt,unit:"millisecond"}));vl(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`);vl(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof s&&(fi&&R.log("[Measurements] Adding TTFB"),Cl.ttfb={value:1e3*(s-t.startTimestamp),unit:"millisecond"},"number"==typeof i&&i<=s&&(Cl["ttfb.requestTime"]={value:1e3*(s-i),unit:"millisecond"})),["fcp","fp","lcp"].forEach((e=>{if(!Cl[e]||n>=t.startTimestamp)return;const r=Cl[e].value,s=n+kl(r),i=Math.abs(1e3*(s-t.startTimestamp)),o=i-r;fi&&R.log(`[Measurements] Normalized ${e} from ${r} to ${i} (${o})`),Cl[e].value=i}));const e=Cl["mark.fid"];e&&Cl.fid&&(bl(t,{description:"first input delay",endTimestamp:e.value+kl(Cl.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:e.value}),delete Cl["mark.fid"]),"fcp"in Cl||delete Cl.cls,Object.keys(Cl).forEach((e=>{t.setMeasurement(e,Cl[e].value,Cl[e].unit)})),function(t){El&&(fi&&R.log("[Measurements] Adding LCP Data"),El.element&&t.setTag("lcp.element",S(El.element)),El.id&&t.setTag("lcp.id",El.id),El.url&&t.setTag("lcp.url",El.url.trim().slice(0,200)),t.setTag("lcp.size",El.size));xl&&xl.sources&&(fi&&R.log("[Measurements] Adding CLS Data"),xl.sources.forEach(((e,n)=>t.setTag(`cls.source.${n+1}`,S(e.node)))))}(t)}El=void 0,xl=void 0,Cl={}}function Ml(t,e,n,r,s,i){const o=i?e[i]:e[`${n}End`],a=e[`${n}Start`];a&&o&&bl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+kl(a),endTimestamp:r+kl(o)})}function Ol(t,e,n,r){const s=e[n];null!=s&&s<Sl&&(t[r]=s)}const Dl={...rn,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!yi||!yi.location)return void(fi&&R.warn("Could not initialize routing instrumentation due to invalid location"));let r,s=yi.location.href;e&&(r=t({name:yi.location.pathname,startTimestamp:st.Z1?st.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&ls((({to:e,from:n})=>{void 0===n&&s&&-1!==s.indexOf(e)?s=void 0:n!==e&&(s=void 0,r&&(fi&&R.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=t({name:yi.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ml};class Nl{constructor(t){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,hn(),fi&&(this._hasSetTracePropagationTargets=!(!t||!t.tracePropagationTargets&&!t.tracingOrigins)),this.options={...Dl,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Il(),this.options.enableLongTask&&Li("longtask",(({entries:t})=>{for(const e of t){const t=Ye();if(!t)return;const n=kl(st.Z1+e.startTime),r=kl(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&Li("event",(({entries:t})=>{for(const e of t){const t=Ye();if(!t)return;if("click"===e.name){const n=kl(st.Z1+e.startTime),r=kl(e.duration),s={description:S(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=E(e.target);i&&(s.data={"ui.component_name":i}),t.startChild(s)}}}))}setupOnce(t,e){this._getCurrentHub=e;const n=e().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,m=h||this.options.tracePropagationTargets;fi&&this._hasSetTracePropagationTargets&&h&&R.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s((t=>{const n=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,t,e),n}),o,i),a&&(yi&&yi.document?yi.document.addEventListener("visibilitychange",(()=>{const t=Ye();if(yi.document.hidden&&t){const e="cancelled";fi&&R.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}})):fi&&R.warn("[Tracing] Could not set up background tab detection due to lack of global document")),p.enableInteractions&&this._registerInteractionListener(),fl({traceFetch:c,traceXHR:u,tracePropagationTargets:m,shouldCreateSpanForRequest:l,enableHTTPTimings:d})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(fi&&R.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const e=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="pageload"===t.op,a=o?Al("sentry-trace"):"",c=o?Al("baggage"):"",{traceparentData:u,dynamicSamplingContext:l,propagationContext:d}=gt(a,c),p={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},h="function"==typeof n?n(p):p,m=void 0===h?{...p,sampled:!1}:h;m.metadata=m.name!==p.name?{...m.metadata,source:"custom"}:m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,!1===m.sampled&&fi&&R.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),fi&&R.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:f}=yi,g=pn(e,m,r,s,!0,{location:f},i),y=e.getScope();return o&&u?y.setPropagationContext(d):y.setPropagationContext({traceId:g.traceId,spanId:g.spanId,parentSpanId:g.parentSpanId,sampled:g.sampled}),g.registerBeforeFinishCallback((t=>{this._collectWebVitals(),Rl(t)})),g}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:n,heartbeatInterval:r}=this.options,s="ui.action.click",i=Ye();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(fi&&R.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub)return void(fi&&R.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(fi&&R.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:a}=yi,c={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=pn(o,c,e,n,!0,{location:a},r)};["click"].forEach((t=>{addEventListener(t,e,{once:!1,capture:!0})}))}}function Al(t){const e=(n=`meta[name=${t}]`,v.document&&v.document.querySelector?v.document.querySelector(n):null);var n;return e?e.getAttribute("content"):void 0}const Ll=100,Pl=5e3,$l=36e5;function Fl(t,e){J&&R.info(`[Offline]: ${t}`,e)}function jl(t){return e=>{const n=t(e),r=e.createStore?e.createStore(e):void 0;let s,i=Pl;function o(t,n,r){return s=["replay_event","replay_recording","client_report"],!Fn(t,((t,e)=>s.includes(e)))&&(!e.shouldStore||e.shouldStore(t,n,r));var s}function a(t){r&&(s&&clearTimeout(s),s=setTimeout((async()=>{s=void 0;const t=await r.pop();t&&(Fl("Attempting to send previously queued event"),u(t).catch((t=>{Fl("Failed to retry sending",t)})))}),t),"number"!=typeof s&&s.unref&&s.unref())}function c(){s||(a(i),i=Math.min(2*i,$l))}async function u(t){try{const e=await n.send(t);let r=Ll;if(e)if(e.headers&&e.headers["retry-after"])r=er(e.headers["retry-after"]);else if((e.statusCode||0)>=400)return e;return a(r),i=Pl,e}catch(e){if(r&&await o(t,e,i))return await r.insert(t),c(),Fl("Error sending. Event queued",e),{};throw e}}return e.flushAtStartup&&c(),{send:u,flush:t=>n.flush(t)}}}function Bl(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function Ul(t){return Bl(t.getAllKeys())}function Hl(t){let e;function n(){return null==e&&(e=function(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Bl(n);return t=>r.then((n=>t(n.transaction(e,"readwrite").objectStore(e))))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:async e=>{try{const r=await Bn(e,t.textEncoder);await function(t,e,n){return t((t=>Ul(t).then((r=>{if(!(r.length>=n))return t.put(e,Math.max(...r,0)+1),Bl(t.transaction)}))))}(n(),r,t.maxQueueSize||30)}catch(t){}},pop:async()=>{try{const e=await function(t){return t((t=>Ul(t).then((e=>{if(0!==e.length)return Bl(t.get(e[0])).then((n=>(t.delete(e[0]),Bl(t.transaction).then((()=>n)))))}))))}(n());if(e)return function(t,e,n){let r="string"==typeof t?e.encode(t):t;function s(t){const e=r.subarray(0,t);return r=r.subarray(t+1),e}function i(){let t=r.indexOf(10);return t<0&&(t=r.length),JSON.parse(n.decode(s(t)))}const o=i(),a=[];for(;r.length;){const t=i(),e="number"==typeof t.length?t.length:void 0;a.push([t,e?s(e):i()])}return[o,a]}(e,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(t){}}}}function zl(t){return function(t){return e=>t({...e,createStore:Hl})}(jl(t))}const ql=1e6,Wl=String(0),Vl="main";let Yl="",Kl="",Gl="",Jl=vr.navigator&&vr.navigator.userAgent||"",Xl="";const Zl=vr.navigator&&vr.navigator.language||vr.navigator&&vr.navigator.languages&&vr.navigator.languages[0]||"";const Ql=vr.navigator&&vr.navigator.userAgentData;var td;function ed(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Wl]:{name:Vl}}};if(!t.samples.length)return r;const s=t.samples[0].timestamp,i="number"==typeof performance.timeOrigin?performance.timeOrigin:st.Z1||0,o=i-(st.Z1||i);for(let i=0;i<t.samples.length;i++){const a=t.samples[i];if(void 0===a.stackId){void 0===e&&(e=n,r.stacks[e]=[],n++),r.samples[i]={elapsed_since_start_ns:((a.timestamp+o-s)*ql).toFixed(0),stack_id:e,thread_id:Wl};continue}let c=t.stacks[a.stackId];const u=[];for(;c;){u.push(c.frameId);const e=t.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:e.name,abs_path:"number"==typeof e.resourceId?t.resources[e.resourceId]:void 0,lineno:e.line,colno:e.column}),c=void 0===c.parentId?void 0:t.stacks[c.parentId]}const l={elapsed_since_start_ns:((a.timestamp+o-s)*ql).toFixed(0),stack_id:n,thread_id:Wl};r.stacks[n]=u,r.samples[i]=l,n++}return r}(t):t}function nd(t,e,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&Er&&R.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(r),i=ed(n),o=e||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:t,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||it,runtime:{name:"javascript",version:vr.navigator.userAgent},os:{name:Yl,version:Kl,build_number:Jl},device:{locale:Zl,model:Xl,manufacturer:Jl,architecture:Gl,is_emulator:!1},debug_meta:{images:id(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||z(),trace_id:s,active_thread_id:Wl,relative_start_ns:"0",relative_end_ns:(1e6*(a-o)).toFixed(0)}]}}function rd(t){return"pageload"===t.op}"object"==typeof(td=Ql)&&null!==td&&"getHighEntropyValues"in td&&Ql.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(Yl=t.platform||"",Gl=t.architecture||"",Xl=t.model||"",Kl=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];Jl=`${e.brand} ${e.version}`}})).catch((t=>{}));const sd=new WeakMap;function id(t){const e=_.n2._sentryDebugIds;if(!e)return[];const n=he(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=sd.get(s);o?i=o:(i=new Map,sd.set(s,i));const a=Object.keys(e).reduce(((t,n)=>{let r;const o=i.get(n);o?r=o:(r=s(n),i.set(n,r));for(let s=r.length-1;s>=0;s--){const i=r[s],o=i&&i.filename;if(i&&o){t[o]=e[n];break}}return t}),{}),c=[];for(const e of t)e&&a[e]&&c.push({type:"sourcemap",code_file:e,debug_id:a[e]});return c}let od=!1;const ad=3e4;function cd(t){if(od)return Er&&R.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.sampled)return Er&&R.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=he(),n=e&&e.getOptions();if(!n)return Er&&R.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(s=r)&&"boolean"!=typeof s||"number"==typeof s&&isNaN(s)?(Er&&R.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),0):!0===s||!1===s||!(s<0||s>1)||(Er&&R.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${s}.`),0)))return Er&&R.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var s;if(!r)return Er&&R.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(Er&&R.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function ud(t,e,n,r){return function(t){return t.samples.length<2?(Er&&R.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(Er&&R.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?nd(t,e,n,r):null}const ld=new Map;function dd(t){const e=ld.get(t);return e&&ld.delete(t),e}function pd(t){return t?cd(t)?hd(t):t:(Er&&R.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function hd(t){let e;rd(t)&&(e=1e3*(0,st.ph)());const n=function(){const t=vr.Profiler;if("function"!=typeof t)return void(Er&&R.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const e=Math.floor(ad/10);try{return new t({sampleInterval:10,maxBufferSize:e})}catch(t){Er&&(R.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),R.log("[Profiling] Disabling profiling for current user session.")),od=!0}}();if(!n)return t;Er&&R.log(`[Profiling] started profiling transaction: ${t.name||t.description}`);const r=z();async function s(){return t&&n?n.stop().then((e=>(i&&(vr.clearTimeout(i),i=void 0),Er&&R.log(`[Profiling] stopped profiling of transaction: ${t.name||t.description}`),e?(function(t,e){if(ld.set(t,e),ld.size>30){const t=ld.keys().next().value;ld.delete(t)}}(r,e),null):(Er&&R.log(`[Profiling] profiler returned null profile for: ${t.name||t.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((t=>(Er&&R.log("[Profiling] error while stopping profiler:",t),null))):null}let i=vr.setTimeout((()=>{Er&&R.log("[Profiling] max profile duration elapsed, stopping profiling for:",t.name||t.description),s()}),ad);const o=t.end.bind(t);return t.end=function(){return t?(s().then((()=>{t.setContext("profile",{profile_id:r,start_timestamp:e}),o()}),(()=>{o()})),t):o()},t}const md="BrowserProfiling",fd=ve(md,(()=>({name:md,setup(t){const e=me().getTransaction();e&&rd(e)&&cd(e)&&hd(e),"function"==typeof t.on?(t.on("startTransaction",(t=>{cd(t)&&hd(t)})),t.on("beforeEnvelope",(t=>{if(!ld.size)return;const e=function(t){const e=[];return Fn(t,((t,n)=>{if("transaction"===n)for(let n=1;n<t.length;n++){const r=t[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&e.push(t[n])}})),e}(t);if(!e.length)return;const n=[];for(const t of e){const e=t&&t.contexts,r=e&&e.profile&&e.profile.profile_id,s=e&&e.profile&&e.profile.start_timestamp;if("string"!=typeof r){Er&&R.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){Er&&R.log("[Profiling] cannot find profile for a transaction without a profile context");continue}e&&e.profile&&delete e.profile;const i=dd(r);if(!i){Er&&R.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const o=ud(r,s,i,t);o&&n.push(o)}!function(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n])}(t,n)}))):R.warn("[Profiling] Client does not support hooks, profiling will be disabled")}})));let gd={};vr.Sentry&&vr.Sentry.Integrations&&(gd=vr.Sentry.Integrations);const yd={...gd,...r,...s}},661:function(t,e,n){function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function s(){return"npm"}n.d(e,{S:function(){return s},n:function(){return r}})},305:function(t,e,n){n.d(e,{KV:function(){return s},l$:function(){return i}});var r=n(661);function s(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}t=n.hmd(t)},400:function(t,e,n){n.d(e,{Z1:function(){return p},ph:function(){return l},yW:function(){return u}});var r=n(305),s=n(846);t=n.hmd(t);const i=(0,s.Rf)(),o={nowSeconds:()=>Date.now()/1e3};const a=(0,r.KV)()?function(){try{return(0,r.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=i;if(!t||!t.now)return;return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),c=void 0===a?o:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=o.nowSeconds.bind(o),l=c.nowSeconds.bind(c);let d;const p=(()=>{const{performance:t}=i;if(!t||!t.now)return void(d="none");const e=36e5,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,o=s<e,a=t.timing&&t.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):e;return o||c<e?s<=c?(d="timeOrigin",t.timeOrigin):(d="navigationStart",a):(d="dateNow",r)})()},846:function(t,e,n){function r(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:function(){return i},YO:function(){return o},n2:function(){return s}});const s="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function i(){return s}function o(t,e,n){const r=n||s,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}}}]);